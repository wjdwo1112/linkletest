var G2=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var tK=G2((rr,ir)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Qm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nb={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function Y2(){if(_S)return Pu;_S=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,i){var l=null;if(i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),"key"in r){i={};for(var c in r)c!=="key"&&(i[c]=r[c])}else i=r;return r=i.ref,{$$typeof:n,type:s,key:l,ref:r!==void 0?r:null,props:i}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var NS;function X2(){return NS||(NS=1,Nb.exports=Y2()),Nb.exports}var f=X2(),Ab={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function Z2(){if(AS)return ut;AS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function E(L,G,ie){this.props=L,this.context=G,this.refs=S,this.updater=ie||v}E.prototype.isReactComponent={},E.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=E.prototype;function A(L,G,ie){this.props=L,this.context=G,this.refs=S,this.updater=ie||v}var R=A.prototype=new N;R.constructor=A,x(R,E.prototype),R.isPureReactComponent=!0;var T=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function U(L,G,ie,se,pe,he){return ie=he.ref,{$$typeof:n,type:L,key:G,ref:ie!==void 0?ie:null,props:he}}function I(L,G){return U(L.type,G,void 0,void 0,void 0,L.props)}function F(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function Z(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return G[ie]})}var O=/\/+/g;function q(L,G){return typeof L=="object"&&L!==null&&L.key!=null?Z(""+L.key):G.toString(36)}function H(){}function X(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(H,H):(L.status="pending",L.then(function(G){L.status==="pending"&&(L.status="fulfilled",L.value=G)},function(G){L.status==="pending"&&(L.status="rejected",L.reason=G)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function V(L,G,ie,se,pe){var he=typeof L;(he==="undefined"||he==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(he){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case n:case e:_e=!0;break;case m:return _e=L._init,V(_e(L._payload),G,ie,se,pe)}}if(_e)return pe=pe(L),_e=se===""?"."+q(L,0):se,T(pe)?(ie="",_e!=null&&(ie=_e.replace(O,"$&/")+"/"),V(pe,G,ie,"",function(Te){return Te})):pe!=null&&(F(pe)&&(pe=I(pe,ie+(pe.key==null||L&&L.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+_e)),G.push(pe)),1;_e=0;var Ze=se===""?".":se+":";if(T(L))for(var ge=0;ge<L.length;ge++)se=L[ge],he=Ze+q(se,ge),_e+=V(se,G,ie,he,pe);else if(ge=b(L),typeof ge=="function")for(L=ge.call(L),ge=0;!(se=L.next()).done;)se=se.value,he=Ze+q(se,ge++),_e+=V(se,G,ie,he,pe);else if(he==="object"){if(typeof L.then=="function")return V(X(L),G,ie,se,pe);throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _e}function j(L,G,ie){if(L==null)return L;var se=[],pe=0;return V(L,se,"","",function(he){return G.call(ie,he,pe++)}),se}function z(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var K=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ne(){}return ut.Children={map:j,forEach:function(L,G,ie){j(L,function(){G.apply(this,arguments)},ie)},count:function(L){var G=0;return j(L,function(){G++}),G},toArray:function(L){return j(L,function(G){return G})||[]},only:function(L){if(!F(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ut.Component=E,ut.Fragment=t,ut.Profiler=r,ut.PureComponent=A,ut.StrictMode=s,ut.Suspense=u,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ut.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},ut.cache=function(L){return function(){return L.apply(null,arguments)}},ut.cloneElement=function(L,G,ie){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var se=x({},L.props),pe=L.key,he=void 0;if(G!=null)for(_e in G.ref!==void 0&&(he=void 0),G.key!==void 0&&(pe=""+G.key),G)!M.call(G,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&G.ref===void 0||(se[_e]=G[_e]);var _e=arguments.length-2;if(_e===1)se.children=ie;else if(1<_e){for(var Ze=Array(_e),ge=0;ge<_e;ge++)Ze[ge]=arguments[ge+2];se.children=Ze}return U(L.type,pe,void 0,void 0,he,se)},ut.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},ut.createElement=function(L,G,ie){var se,pe={},he=null;if(G!=null)for(se in G.key!==void 0&&(he=""+G.key),G)M.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=G[se]);var _e=arguments.length-2;if(_e===1)pe.children=ie;else if(1<_e){for(var Ze=Array(_e),ge=0;ge<_e;ge++)Ze[ge]=arguments[ge+2];pe.children=Ze}if(L&&L.defaultProps)for(se in _e=L.defaultProps,_e)pe[se]===void 0&&(pe[se]=_e[se]);return U(L,he,void 0,void 0,null,pe)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(L){return{$$typeof:c,render:L}},ut.isValidElement=F,ut.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:z}},ut.memo=function(L,G){return{$$typeof:h,type:L,compare:G===void 0?null:G}},ut.startTransition=function(L){var G=D.T,ie={};D.T=ie;try{var se=L(),pe=D.S;pe!==null&&pe(ie,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ne,K)}catch(he){K(he)}finally{D.T=G}},ut.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ut.use=function(L){return D.H.use(L)},ut.useActionState=function(L,G,ie){return D.H.useActionState(L,G,ie)},ut.useCallback=function(L,G){return D.H.useCallback(L,G)},ut.useContext=function(L){return D.H.useContext(L)},ut.useDebugValue=function(){},ut.useDeferredValue=function(L,G){return D.H.useDeferredValue(L,G)},ut.useEffect=function(L,G,ie){var se=D.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(L,G)},ut.useId=function(){return D.H.useId()},ut.useImperativeHandle=function(L,G,ie){return D.H.useImperativeHandle(L,G,ie)},ut.useInsertionEffect=function(L,G){return D.H.useInsertionEffect(L,G)},ut.useLayoutEffect=function(L,G){return D.H.useLayoutEffect(L,G)},ut.useMemo=function(L,G){return D.H.useMemo(L,G)},ut.useOptimistic=function(L,G){return D.H.useOptimistic(L,G)},ut.useReducer=function(L,G,ie){return D.H.useReducer(L,G,ie)},ut.useRef=function(L){return D.H.useRef(L)},ut.useState=function(L){return D.H.useState(L)},ut.useSyncExternalStore=function(L,G,ie){return D.H.useSyncExternalStore(L,G,ie)},ut.useTransition=function(){return D.H.useTransition()},ut.version="19.1.1",ut}var CS;function jv(){return CS||(CS=1,Ab.exports=Z2()),Ab.exports}var _=jv();const qn=Qm(_);var Cb={exports:{}},Uu={},Tb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function Q2(){return TS||(TS=1,(function(n){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var ne=K-1>>>1,L=j[ne];if(0<r(L,z))j[ne]=z,j[K]=L,K=ne;else break e}}function t(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var ne=0,L=j.length,G=L>>>1;ne<G;){var ie=2*(ne+1)-1,se=j[ie],pe=ie+1,he=j[pe];if(0>r(se,K))pe<L&&0>r(he,se)?(j[ne]=he,j[pe]=K,ne=pe):(j[ne]=se,j[ie]=K,ne=ie);else if(pe<L&&0>r(he,K))j[ne]=he,j[pe]=K,ne=pe;else break e}}return z}function r(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var u=[],h=[],m=1,p=null,b=3,v=!1,x=!1,S=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function T(j){for(var z=t(h);z!==null;){if(z.callback===null)s(h);else if(z.startTime<=j)s(h),z.sortIndex=z.expirationTime,e(u,z);else break;z=t(h)}}function D(j){if(S=!1,T(j),!x)if(t(u)!==null)x=!0,M||(M=!0,q());else{var z=t(h);z!==null&&V(D,z.startTime-j)}}var M=!1,U=-1,I=5,F=-1;function Z(){return E?!0:!(n.unstable_now()-F<I)}function O(){if(E=!1,M){var j=n.unstable_now();F=j;var z=!0;try{e:{x=!1,S&&(S=!1,A(U),U=-1),v=!0;var K=b;try{t:{for(T(j),p=t(u);p!==null&&!(p.expirationTime>j&&Z());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,b=p.priorityLevel;var L=ne(p.expirationTime<=j);if(j=n.unstable_now(),typeof L=="function"){p.callback=L,T(j),z=!0;break t}p===t(u)&&s(u),T(j)}else s(u);p=t(u)}if(p!==null)z=!0;else{var G=t(h);G!==null&&V(D,G.startTime-j),z=!1}}break e}finally{p=null,b=K,v=!1}z=void 0}}finally{z?q():M=!1}}}var q;if(typeof R=="function")q=function(){R(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=O,q=function(){X.postMessage(null)}}else q=function(){N(O,0)};function V(j,z){U=N(function(){j(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(j){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var K=b;b=z;try{return j()}finally{b=K}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=b;b=j;try{return z()}finally{b=K}},n.unstable_scheduleCallback=function(j,z,K){var ne=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,j={id:m++,callback:z,priorityLevel:j,startTime:K,expirationTime:L,sortIndex:-1},K>ne?(j.sortIndex=K,e(h,j),t(u)===null&&j===t(h)&&(S?(A(U),U=-1):S=!0,V(D,K-ne))):(j.sortIndex=L,e(u,j),x||v||(x=!0,M||(M=!0,q()))),j},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(j){var z=b;return function(){var K=b;b=z;try{return j.apply(this,arguments)}finally{b=K}}}})(jb)),jb}var jS;function K2(){return jS||(jS=1,Tb.exports=Q2()),Tb.exports}var Rb={exports:{}},gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function J2(){if(RS)return gs;RS=1;var n=jv();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gs.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,m)},gs.flushSync=function(u){var h=l.T,m=s.p;try{if(l.T=null,s.p=2,u)return u()}finally{l.T=h,s.p=m,s.d.f()}},gs.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(u,h))},gs.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},gs.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?s.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:v}):m==="script"&&s.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gs.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);s.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(u)},gs.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);s.d.L(u,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gs.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=c(h.as,h.crossOrigin);s.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(u)},gs.requestFormReset=function(u){s.d.r(u)},gs.unstable_batchedUpdates=function(u,h){return u(h)},gs.useFormState=function(u,h,m){return l.H.useFormState(u,h,m)},gs.useFormStatus=function(){return l.H.useHostTransitionStatus()},gs.version="19.1.1",gs}var DS;function aj(){if(DS)return Rb.exports;DS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rb.exports=J2(),Rb.exports}var kS;function e5(){if(kS)return Uu;kS=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=K2(),e=jv(),t=aj();function s(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(i(a)!==a)throw Error(s(188))}function u(a){var o=a.alternate;if(!o){if(o=i(a),o===null)throw Error(s(188));return o!==a?null:a}for(var d=a,g=o;;){var y=d.return;if(y===null)break;var w=y.alternate;if(w===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===d)return c(y),a;if(w===g)return c(y),o;w=w.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=w;else{for(var k=!1,B=y.child;B;){if(B===d){k=!0,d=y,g=w;break}if(B===g){k=!0,g=y,d=w;break}B=B.sibling}if(!k){for(B=w.child;B;){if(B===d){k=!0,d=w,g=y;break}if(B===g){k=!0,g=w,d=y;break}B=B.sibling}if(!k)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case R:return(a.displayName||"Context")+".Provider";case A:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return o=a.displayName||null,o!==null?o:X(a.type)||"Memo";case I:o=a._payload,a=a._init;try{return X(a(o))}catch{}}return null}var V=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],L=-1;function G(a){return{current:a}}function ie(a){0>L||(a.current=ne[L],ne[L]=null,L--)}function se(a,o){L++,ne[L]=a.current,a.current=o}var pe=G(null),he=G(null),_e=G(null),Ze=G(null);function ge(a,o){switch(se(_e,o),se(he,a),se(pe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?KE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=KE(o),a=JE(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(pe),se(pe,a)}function Te(){ie(pe),ie(he),ie(_e)}function ke(a){a.memoizedState!==null&&se(Ze,a);var o=pe.current,d=JE(o,a.type);o!==d&&(se(he,a),se(pe,d))}function $e(a){he.current===a&&(ie(pe),ie(he)),Ze.current===a&&(ie(Ze),Ou._currentValue=K)}var Ue=Object.prototype.hasOwnProperty,Ke=n.unstable_scheduleCallback,He=n.unstable_cancelCallback,Bt=n.unstable_shouldYield,Vn=n.unstable_requestPaint,Pt=n.unstable_now,Mn=n.unstable_getCurrentPriorityLevel,Es=n.unstable_ImmediatePriority,Wn=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,je=n.unstable_LowPriority,it=n.unstable_IdlePriority,pt=n.log,ft=n.unstable_setDisableYieldValue,ot=null,nt=null;function un(a){if(typeof pt=="function"&&ft(a),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ot,a)}catch{}}var Jt=Math.clz32?Math.clz32:ks,Ln=Math.log,Gn=Math.LN2;function ks(a){return a>>>=0,a===0?32:31-(Ln(a)/Gn|0)|0}var os=256,dn=4194304;function fn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function cs(a,o,d){var g=a.pendingLanes;if(g===0)return 0;var y=0,w=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var B=g&134217727;return B!==0?(g=B&~w,g!==0?y=fn(g):(k&=B,k!==0?y=fn(k):d||(d=B&~a,d!==0&&(y=fn(d))))):(B=g&~w,B!==0?y=fn(B):k!==0?y=fn(k):d||(d=g&~a,d!==0&&(y=fn(d)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,d=o&-o,w>=d||w===32&&(d&4194048)!==0)?o:y}function Nn(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Os(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var a=os;return os<<=1,(os&4194048)===0&&(os=256),a}function us(){var a=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),a}function Ms(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function An(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dr(a,o,d,g,y,w){var k=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var B=a.entanglements,$=a.expirationTimes,ae=a.hiddenUpdates;for(d=k&~d;0<d;){var be=31-Jt(d),we=1<<be;B[be]=0,$[be]=-1;var oe=ae[be];if(oe!==null)for(ae[be]=null,be=0;be<oe.length;be++){var ce=oe[be];ce!==null&&(ce.lane&=-536870913)}d&=~we}g!==0&&ns(a,g,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(k&~o))}function ns(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var g=31-Jt(o);a.entangledLanes|=o,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194090}function Rt(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var g=31-Jt(d),y=1<<g;y&o|a[g]&o&&(a[g]|=o),d&=~y}}function Yn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Gs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function W(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:yS(a.type))}function te(a,o){var d=z.p;try{return z.p=a,o()}finally{z.p=d}}var le=Math.random().toString(36).slice(2),xe="__reactFiber$"+le,Se="__reactProps$"+le,Re="__reactContainer$"+le,Me="__reactEvents$"+le,Le="__reactListeners$"+le,De="__reactHandles$"+le,Fe="__reactResources$"+le,Ie="__reactMarker$"+le;function Oe(a){delete a[xe],delete a[Se],delete a[Me],delete a[Le],delete a[De]}function st(a){var o=a[xe];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Re]||d[xe]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=sS(a);a!==null;){if(d=a[xe])return d;a=sS(a)}return o}a=d,d=a.parentNode}return null}function mt(a){if(a=a[xe]||a[Re]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function at(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(s(33))}function Ut(a){var o=a[Fe];return o||(o=a[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function et(a){a[Ie]=!0}var Ae=new Set,Q={};function Ee(a,o){Ne(a,o),Ne(a+"Capture",o)}function Ne(a,o){for(Q[a]=o,a=0;a<o.length;a++)Ae.add(o[a])}var ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},Ct={};function Ft(a){return Ue.call(Ct,a)?!0:Ue.call(Gt,a)?!1:ct.test(a)?Ct[a]=!0:(Gt[a]=!0,!1)}function mn(a,o,d){if(Ft(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function gn(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function Ye(a,o,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+g)}}var rt,pn;function bn(a){if(rt===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);rt=o&&o[1]||"",pn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+a+pn}var Yt=!1;function fr(a,o){if(!a||Yt)return"";Yt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ce){var oe=ce}Reflect.construct(a,[],we)}else{try{we.call()}catch(ce){oe=ce}a.call(we.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(we=a())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),k=w[0],B=w[1];if(k&&B){var $=k.split(`
`),ae=B.split(`
`);for(y=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(g===$.length||y===ae.length)for(g=$.length-1,y=ae.length-1;1<=g&&0<=y&&$[g]!==ae[y];)y--;for(;1<=g&&0<=y;g--,y--)if($[g]!==ae[y]){if(g!==1||y!==1)do if(g--,y--,0>y||$[g]!==ae[y]){var be=`
`+$[g].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=g&&0<=y);break}}}finally{Yt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?bn(d):""}function ua(a){switch(a.tag){case 26:case 27:case 5:return bn(a.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return fr(a.type,!1);case 11:return fr(a.type.render,!1);case 1:return fr(a.type,!0);case 31:return bn("Activity");default:return""}}function da(a){try{var o="";do o+=ua(a),a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function ds(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ji(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vl(a){var o=ji(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),g=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(k){g=""+k,w.call(this,k)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(k){g=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function hr(a){a._valueTracker||(a._valueTracker=vl(a))}function xl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return a&&(g=ji(a)?a.checked?"true":"false":a.value),a=g,a!==d?(o.setValue(a),!0):!1}function Ri(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gc=/[\n"\\]/g;function fs(a){return a.replace(Gc,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wl(a,o,d,g,y,w,k,B){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ds(o)):a.value!==""+ds(o)&&(a.value=""+ds(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?Di(a,k,ds(o)):d!=null?Di(a,k,ds(d)):g!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+ds(B):a.removeAttribute("name")}function Ao(a,o,d,g,y,w,k,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;d=d!=null?""+ds(d):"",o=o!=null?""+ds(o):d,B||o===a.value||(a.value=o),a.defaultValue=o}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=B?a.checked:!!g,a.defaultChecked=!!g,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k)}function Di(a,o,d){o==="number"&&Ri(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function si(a,o,d,g){if(a=a.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=o.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ds(d),o=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Co(a,o,d){if(o!=null&&(o=""+ds(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+ds(d):""}function ri(a,o,d,g){if(o==null){if(g!=null){if(d!=null)throw Error(s(92));if(V(g)){if(1<g.length)throw Error(s(93));g=g[0]}d=g}d==null&&(d=""),o=d}d=ds(o),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function Xn(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mr(a,o,d){var g=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":g?a.setProperty(o,d):typeof d!="number"||d===0||Ir.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function To(a,o,d){if(o!=null&&typeof o!="object")throw Error(s(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var y in o)g=o[y],o.hasOwnProperty(y)&&d[y]!==g&&mr(a,y,g)}else for(var w in o)o.hasOwnProperty(w)&&mr(a,w,o[w])}function Ls(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(a){return Xc.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var El=null;function ha(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wn=null,Br=null;function Sl(a){var o=mt(a);if(o&&(a=o.stateNode)){var d=a[Se]||null;e:switch(a=o.stateNode,o.type){case"input":if(wl(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+fs(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==a&&g.form===a.form){var y=g[Se]||null;if(!y)throw Error(s(90));wl(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<d.length;o++)g=d[o],g.form===a.form&&xl(g)}break e;case"textarea":Co(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&si(a,!!d.multiple,o,!1)}}}var ii=!1;function ma(a,o,d){if(ii)return a(o,d);ii=!0;try{var g=a(o);return g}finally{if(ii=!1,(wn!==null||Br!==null)&&(Hf(),wn&&(o=wn,a=Br,Br=wn=null,Sl(o),a)))for(o=0;o<a.length;o++)Sl(a[o])}}function gr(a,o){var d=a.stateNode;if(d===null)return null;var g=d[Se]||null;if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(s(231,o,typeof d));return d}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(Ys)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{ga=!1}var Xs=null,Is=null,ki=null;function pa(){if(ki)return ki;var a,o=Is,d=o.length,g,y="value"in Xs?Xs.value:Xs.textContent,w=y.length;for(a=0;a<d&&o[a]===y[a];a++);var k=d-a;for(g=1;g<=k&&o[d-g]===y[w-g];g++);return ki=y.slice(a,1<g?1-g:void 0)}function ba(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ya(){return!0}function C(){return!1}function P(a){function o(d,g,y,w,k){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(d=a[B],this[B]=d?d(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ya:C,this.isPropagationStopped=C,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),o}var Y={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=P(Y),Je=m({},Y,{view:0,detail:0}),Ve=P(Je),Et,bt,en,Nt=m({},Je,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==en&&(en&&a.type==="mousemove"?(Et=a.screenX-en.screenX,bt=a.screenY-en.screenY):bt=Et=0,en=a),Et)},movementY:function(a){return"movementY"in a?a.movementY:bt}}),Un=P(Nt),hs=m({},Nt,{dataTransfer:0}),Cn=P(hs),Zn=m({},Je,{relatedTarget:0}),Tn=P(Zn),ai=m({},Y,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=P(ai),Oi=m({},Y,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),af=P(Oi),jo=m({},Y,{data:0}),_l=P(jo),nM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=rM[a])?!!o[a]:!1}function Og(){return iM}var aM=m({},Je,{key:function(a){if(a.key){var o=nM[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ba(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?sM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(a){return a.type==="keypress"?ba(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ba(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lM=P(aM),oM=m({},Nt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=P(oM),cM=m({},Je,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),uM=P(cM),dM=m({},Y,{propertyName:0,elapsedTime:0,pseudoElement:0}),fM=P(dM),hM=m({},Nt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),mM=P(hM),gM=m({},Y,{newState:0,oldState:0}),pM=P(gM),bM=[9,13,27,32],Mg=Ys&&"CompositionEvent"in window,Zc=null;Ys&&"documentMode"in document&&(Zc=document.documentMode);var yM=Ys&&"TextEvent"in window&&!Zc,l1=Ys&&(!Mg||Zc&&8<Zc&&11>=Zc),o1=" ",c1=!1;function u1(a,o){switch(a){case"keyup":return bM.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ro=!1;function vM(a,o){switch(a){case"compositionend":return d1(o);case"keypress":return o.which!==32?null:(c1=!0,o1);case"textInput":return a=o.data,a===o1&&c1?null:a;default:return null}}function xM(a,o){if(Ro)return a==="compositionend"||!Mg&&u1(a,o)?(a=pa(),ki=Is=Xs=null,Ro=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return l1&&o.locale!=="ko"?null:o.data;default:return null}}var wM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!wM[a.type]:o==="textarea"}function h1(a,o,d,g){wn?Br?Br.push(g):Br=[g]:wn=g,o=Wf(o,"onChange"),0<o.length&&(d=new me("onChange","change",null,d,g),a.push({event:d,listeners:o}))}var Qc=null,Kc=null;function EM(a){GE(a,0)}function lf(a){var o=at(a);if(xl(o))return a}function m1(a,o){if(a==="change")return o}var g1=!1;if(Ys){var Lg;if(Ys){var Ig="oninput"in document;if(!Ig){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),Ig=typeof p1.oninput=="function"}Lg=Ig}else Lg=!1;g1=Lg&&(!document.documentMode||9<document.documentMode)}function b1(){Qc&&(Qc.detachEvent("onpropertychange",y1),Kc=Qc=null)}function y1(a){if(a.propertyName==="value"&&lf(Kc)){var o=[];h1(o,Kc,a,ha(a)),ma(EM,o)}}function SM(a,o,d){a==="focusin"?(b1(),Qc=o,Kc=d,Qc.attachEvent("onpropertychange",y1)):a==="focusout"&&b1()}function _M(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lf(Kc)}function NM(a,o){if(a==="click")return lf(o)}function AM(a,o){if(a==="input"||a==="change")return lf(o)}function CM(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zs=typeof Object.is=="function"?Object.is:CM;function Jc(a,o){if(Zs(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!Ue.call(o,y)||!Zs(a[y],o[y]))return!1}return!0}function v1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function x1(a,o){var d=v1(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=o&&g>=o)return{node:d,offset:o-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=v1(d)}}function w1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?w1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function E1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ri(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Ri(a.document)}return o}function Bg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var TM=Ys&&"documentMode"in document&&11>=document.documentMode,Do=null,Pg=null,eu=null,Ug=!1;function S1(a,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ug||Do==null||Do!==Ri(g)||(g=Do,"selectionStart"in g&&Bg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),eu&&Jc(eu,g)||(eu=g,g=Wf(Pg,"onSelect"),0<g.length&&(o=new me("onSelect","select",null,o,d),a.push({event:o,listeners:g}),o.target=Do)))}function Nl(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var ko={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionrun:Nl("Transition","TransitionRun"),transitionstart:Nl("Transition","TransitionStart"),transitioncancel:Nl("Transition","TransitionCancel"),transitionend:Nl("Transition","TransitionEnd")},Hg={},_1={};Ys&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Al(a){if(Hg[a])return Hg[a];if(!ko[a])return a;var o=ko[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in _1)return Hg[a]=o[d];return a}var N1=Al("animationend"),A1=Al("animationiteration"),C1=Al("animationstart"),jM=Al("transitionrun"),RM=Al("transitionstart"),DM=Al("transitioncancel"),T1=Al("transitionend"),j1=new Map,zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zg.push("scrollEnd");function Hr(a,o){j1.set(a,o),Ee(o,[a])}var R1=new WeakMap;function pr(a,o){if(typeof a=="object"&&a!==null){var d=R1.get(a);return d!==void 0?d:(o={value:a,source:o,stack:da(o)},R1.set(a,o),o)}return{value:a,source:o,stack:da(o)}}var br=[],Oo=0,qg=0;function of(){for(var a=Oo,o=qg=Oo=0;o<a;){var d=br[o];br[o++]=null;var g=br[o];br[o++]=null;var y=br[o];br[o++]=null;var w=br[o];if(br[o++]=null,g!==null&&y!==null){var k=g.pending;k===null?y.next=y:(y.next=k.next,k.next=y),g.pending=y}w!==0&&D1(d,y,w)}}function cf(a,o,d,g){br[Oo++]=a,br[Oo++]=o,br[Oo++]=d,br[Oo++]=g,qg|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Fg(a,o,d,g){return cf(a,o,d,g),uf(a)}function Mo(a,o){return cf(a,null,null,o),uf(a)}function D1(a,o,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var y=!1,w=a.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-Jt(d),a=w.hiddenUpdates,g=a[y],g===null?a[y]=[o]:g.push(o),o.lane=d|536870912),w):null}function uf(a){if(50<Nu)throw Nu=0,Xp=null,Error(s(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Lo={};function kM(a,o,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(a,o,d,g){return new kM(a,o,d,g)}function $g(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Mi(a,o){var d=a.alternate;return d===null?(d=Qs(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function k1(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function df(a,o,d,g,y,w){var k=0;if(g=a,typeof a=="function")$g(a)&&(k=1);else if(typeof a=="string")k=M2(a,d,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=Qs(31,d,o,y),a.elementType=F,a.lanes=w,a;case x:return Cl(d.children,y,w,o);case S:k=8,y|=24;break;case E:return a=Qs(12,d,o,y|2),a.elementType=E,a.lanes=w,a;case D:return a=Qs(13,d,o,y),a.elementType=D,a.lanes=w,a;case M:return a=Qs(19,d,o,y),a.elementType=M,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:case R:k=10;break e;case A:k=9;break e;case T:k=11;break e;case U:k=14;break e;case I:k=16,g=null;break e}k=29,d=Error(s(130,a===null?"null":typeof a,"")),g=null}return o=Qs(k,d,o,y),o.elementType=a,o.type=g,o.lanes=w,o}function Cl(a,o,d,g){return a=Qs(7,a,g,o),a.lanes=d,a}function Vg(a,o,d){return a=Qs(6,a,null,o),a.lanes=d,a}function Wg(a,o,d){return o=Qs(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Io=[],Bo=0,ff=null,hf=0,yr=[],vr=0,Tl=null,Li=1,Ii="";function jl(a,o){Io[Bo++]=hf,Io[Bo++]=ff,ff=a,hf=o}function O1(a,o,d){yr[vr++]=Li,yr[vr++]=Ii,yr[vr++]=Tl,Tl=a;var g=Li;a=Ii;var y=32-Jt(g)-1;g&=~(1<<y),d+=1;var w=32-Jt(o)+y;if(30<w){var k=y-y%5;w=(g&(1<<k)-1).toString(32),g>>=k,y-=k,Li=1<<32-Jt(o)+y|d<<y|g,Ii=w+a}else Li=1<<w|d<<y|g,Ii=a}function Gg(a){a.return!==null&&(jl(a,1),O1(a,1,0))}function Yg(a){for(;a===ff;)ff=Io[--Bo],Io[Bo]=null,hf=Io[--Bo],Io[Bo]=null;for(;a===Tl;)Tl=yr[--vr],yr[vr]=null,Ii=yr[--vr],yr[vr]=null,Li=yr[--vr],yr[vr]=null}var Ss=null,En=null,Mt=!1,Rl=null,li=!1,Xg=Error(s(519));function Dl(a){var o=Error(s(418,""));throw su(pr(o,a)),Xg}function M1(a){var o=a.stateNode,d=a.type,g=a.memoizedProps;switch(o[xe]=a,o[Se]=g,d){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(d=0;d<Cu.length;d++)vt(Cu[d],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),Ao(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),hr(o);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),ri(o,g.value,g.defaultValue,g.children),hr(o)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||g.suppressHydrationWarning===!0||QE(o.textContent,d)?(g.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),g.onScroll!=null&&vt("scroll",o),g.onScrollEnd!=null&&vt("scrollend",o),g.onClick!=null&&(o.onclick=Gf),o=!0):o=!1,o||Dl(a)}function L1(a){for(Ss=a.return;Ss;)switch(Ss.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Ss=Ss.return}}function tu(a){if(a!==Ss)return!1;if(!Mt)return L1(a),Mt=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||db(a.type,a.memoizedProps)),d=!d),d&&En&&Dl(a),L1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(o===0){En=qr(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;a=a.nextSibling}En=null}}else o===27?(o=En,Ma(a.type)?(a=gb,gb=null,En=a):En=o):En=Ss?qr(a.stateNode.nextSibling):null;return!0}function nu(){En=Ss=null,Mt=!1}function I1(){var a=Rl;return a!==null&&(Us===null?Us=a:Us.push.apply(Us,a),Rl=null),a}function su(a){Rl===null?Rl=[a]:Rl.push(a)}var Zg=G(null),kl=null,Bi=null;function va(a,o,d){se(Zg,o._currentValue),o._currentValue=d}function Pi(a){a._currentValue=Zg.current,ie(Zg)}function Qg(a,o,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===d)break;a=a.return}}function Kg(a,o,d,g){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var k=y.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=y;for(var $=0;$<o.length;$++)if(B.context===o[$]){w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),Qg(w.return,d,a),g||(k=null);break e}w=B.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(s(341));k.lanes|=d,w=k.alternate,w!==null&&(w.lanes|=d),Qg(k,d,a),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function ru(a,o,d,g){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var B=y.type;Zs(y.pendingProps.value,k.value)||(a!==null?a.push(B):a=[B])}}else if(y===Ze.current){if(k=y.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ou):a=[Ou])}y=y.return}a!==null&&Kg(o,a,d,g),o.flags|=262144}function mf(a){for(a=a.firstContext;a!==null;){if(!Zs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ol(a){kl=a,Bi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ms(a){return B1(kl,a)}function gf(a,o){return kl===null&&Ol(a),B1(a,o)}function B1(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Bi===null){if(a===null)throw Error(s(308));Bi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Bi=Bi.next=o;return d}var OM=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},MM=n.unstable_scheduleCallback,LM=n.unstable_NormalPriority,Hn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jg(){return{controller:new OM,data:new Map,refCount:0}}function iu(a){a.refCount--,a.refCount===0&&MM(LM,function(){a.controller.abort()})}var au=null,ep=0,Po=0,Uo=null;function IM(a,o){if(au===null){var d=au=[];ep=0,Po=nb(),Uo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return ep++,o.then(P1,P1),o}function P1(){if(--ep===0&&au!==null){Uo!==null&&(Uo.status="fulfilled");var a=au;au=null,Po=0,Uo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function BM(a,o){var d=[],g={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return a.then(function(){g.status="fulfilled",g.value=o;for(var y=0;y<d.length;y++)(0,d[y])(o)},function(y){for(g.status="rejected",g.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),g}var U1=j.S;j.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&IM(a,o),U1!==null&&U1(a,o)};var Ml=G(null);function tp(){var a=Ml.current;return a!==null?a:tn.pooledCache}function pf(a,o){o===null?se(Ml,Ml.current):se(Ml,o.pool)}function H1(){var a=tp();return a===null?null:{parent:Hn._currentValue,pool:a}}var lu=Error(s(460)),z1=Error(s(474)),bf=Error(s(542)),np={then:function(){}};function q1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yf(){}function F1(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(yf,yf),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V1(a),a;default:if(typeof o.status=="string")o.then(yf,yf);else{if(a=tn,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=o,a.status="pending",a.then(function(g){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=g}},function(g){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V1(a),a}throw ou=o,lu}}var ou=null;function $1(){if(ou===null)throw Error(s(459));var a=ou;return ou=null,a}function V1(a){if(a===lu||a===bf)throw Error(s(483))}var xa=!1;function sp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function wa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ea(a,o,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ht&2)!==0){var y=g.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o,o=uf(a),D1(a,null,d),o}return cf(a,g,o,d),uf(a)}function cu(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Rt(a,d)}}function ip(a,o){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?y=w=k:w=w.next=k,d=d.next}while(d!==null);w===null?y=w=o:w=w.next=o}else y=w=o;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var ap=!1;function uu(){if(ap){var a=Uo;if(a!==null)throw a}}function du(a,o,d,g){ap=!1;var y=a.updateQueue;xa=!1;var w=y.firstBaseUpdate,k=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var $=B,ae=$.next;$.next=null,k===null?w=ae:k.next=ae,k=$;var be=a.alternate;be!==null&&(be=be.updateQueue,B=be.lastBaseUpdate,B!==k&&(B===null?be.firstBaseUpdate=ae:B.next=ae,be.lastBaseUpdate=$))}if(w!==null){var we=y.baseState;k=0,be=ae=$=null,B=w;do{var oe=B.lane&-536870913,ce=oe!==B.lane;if(ce?(At&oe)===oe:(g&oe)===oe){oe!==0&&oe===Po&&(ap=!0),be!==null&&(be=be.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var tt=a,Xe=B;oe=o;var Wt=d;switch(Xe.tag){case 1:if(tt=Xe.payload,typeof tt=="function"){we=tt.call(Wt,we,oe);break e}we=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Xe.payload,oe=typeof tt=="function"?tt.call(Wt,we,oe):tt,oe==null)break e;we=m({},we,oe);break e;case 2:xa=!0}}oe=B.callback,oe!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},be===null?(ae=be=ce,$=we):be=be.next=ce,k|=oe;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ce=B,B=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);be===null&&($=we),y.baseState=$,y.firstBaseUpdate=ae,y.lastBaseUpdate=be,w===null&&(y.shared.lanes=0),Ra|=k,a.lanes=k,a.memoizedState=we}}function W1(a,o){if(typeof a!="function")throw Error(s(191,a));a.call(o)}function G1(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)W1(d[a],o)}var Ho=G(null),vf=G(0);function Y1(a,o){a=Vi,se(vf,a),se(Ho,o),Vi=a|o.baseLanes}function lp(){se(vf,Vi),se(Ho,Ho.current)}function op(){Vi=vf.current,ie(Ho),ie(vf)}var Sa=0,ht=null,$t=null,In=null,xf=!1,zo=!1,Ll=!1,wf=0,fu=0,qo=null,PM=0;function jn(){throw Error(s(321))}function cp(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Zs(a[d],o[d]))return!1;return!0}function up(a,o,d,g,y,w){return Sa=w,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=a===null||a.memoizedState===null?Dw:kw,Ll=!1,w=d(g,y),Ll=!1,zo&&(w=Z1(o,d,g,y)),X1(a),w}function X1(a){j.H=Cf;var o=$t!==null&&$t.next!==null;if(Sa=0,In=$t=ht=null,xf=!1,fu=0,qo=null,o)throw Error(s(300));a===null||Qn||(a=a.dependencies,a!==null&&mf(a)&&(Qn=!0))}function Z1(a,o,d,g){ht=a;var y=0;do{if(zo&&(qo=null),fu=0,zo=!1,25<=y)throw Error(s(301));if(y+=1,In=$t=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=VM,w=o(d,g)}while(zo);return w}function UM(){var a=j.H,o=a.useState()[0];return o=typeof o.then=="function"?hu(o):o,a=a.useState()[0],($t!==null?$t.memoizedState:null)!==a&&(ht.flags|=1024),o}function dp(){var a=wf!==0;return wf=0,a}function fp(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function hp(a){if(xf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}xf=!1}Sa=0,In=$t=ht=null,zo=!1,fu=wf=0,qo=null}function Bs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?ht.memoizedState=In=a:In=In.next=a,In}function Bn(){if($t===null){var a=ht.alternate;a=a!==null?a.memoizedState:null}else a=$t.next;var o=In===null?ht.memoizedState:In.next;if(o!==null)In=o,$t=a;else{if(a===null)throw ht.alternate===null?Error(s(467)):Error(s(310));$t=a,a={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},In===null?ht.memoizedState=In=a:In=In.next=a}return In}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(a){var o=fu;return fu+=1,qo===null&&(qo=[]),a=F1(qo,a,o),o=ht,(In===null?o.memoizedState:In.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?Dw:kw),a}function Ef(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hu(a);if(a.$$typeof===R)return ms(a)}throw Error(s(438,String(a)))}function gp(a){var o=null,d=ht.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var g=ht.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=mp(),ht.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),g=0;g<a;g++)d[g]=Z;return o.index++,d}function Ui(a,o){return typeof o=="function"?o(a):o}function Sf(a){var o=Bn();return pp(o,$t,a)}function pp(a,o,d){var g=a.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=d;var y=a.baseQueue,w=g.pending;if(w!==null){if(y!==null){var k=y.next;y.next=w.next,w.next=k}o.baseQueue=y=w,g.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var B=k=null,$=null,ae=o,be=!1;do{var we=ae.lane&-536870913;if(we!==ae.lane?(At&we)===we:(Sa&we)===we){var oe=ae.revertLane;if(oe===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),we===Po&&(be=!0);else if((Sa&oe)===oe){ae=ae.next,oe===Po&&(be=!0);continue}else we={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(B=$=we,k=w):$=$.next=we,ht.lanes|=oe,Ra|=oe;we=ae.action,Ll&&d(w,we),w=ae.hasEagerState?ae.eagerState:d(w,we)}else oe={lane:we,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(B=$=oe,k=w):$=$.next=oe,ht.lanes|=we,Ra|=we;ae=ae.next}while(ae!==null&&ae!==o);if($===null?k=w:$.next=B,!Zs(w,a.memoizedState)&&(Qn=!0,be&&(d=Uo,d!==null)))throw d;a.memoizedState=w,a.baseState=k,a.baseQueue=$,g.lastRenderedState=w}return y===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function bp(a){var o=Bn(),d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,w=o.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do w=a(w,k.action),k=k.next;while(k!==y);Zs(w,o.memoizedState)||(Qn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,g]}function Q1(a,o,d){var g=ht,y=Bn(),w=Mt;if(w){if(d===void 0)throw Error(s(407));d=d()}else d=o();var k=!Zs(($t||y).memoizedState,d);k&&(y.memoizedState=d,Qn=!0),y=y.queue;var B=ew.bind(null,g,y,a);if(mu(2048,8,B,[a]),y.getSnapshot!==o||k||In!==null&&In.memoizedState.tag&1){if(g.flags|=2048,Fo(9,_f(),J1.bind(null,g,y,d,o),null),tn===null)throw Error(s(349));w||(Sa&124)!==0||K1(g,o,d)}return d}function K1(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=ht.updateQueue,o===null?(o=mp(),ht.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function J1(a,o,d,g){o.value=d,o.getSnapshot=g,tw(o)&&nw(a)}function ew(a,o,d){return d(function(){tw(o)&&nw(a)})}function tw(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Zs(a,d)}catch{return!0}}function nw(a){var o=Mo(a,2);o!==null&&nr(o,a,2)}function yp(a){var o=Bs();if(typeof a=="function"){var d=a;if(a=d(),Ll){un(!0);try{d()}finally{un(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},o}function sw(a,o,d,g){return a.baseState=d,pp(a,$t,typeof g=="function"?g:Ui)}function HM(a,o,d,g,y){if(Af(a))throw Error(s(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};j.T!==null?d(!0):w.isTransition=!1,g(w),d=o.pending,d===null?(w.next=o.pending=w,rw(o,w)):(w.next=d.next,o.pending=d.next=w)}}function rw(a,o){var d=o.action,g=o.payload,y=a.state;if(o.isTransition){var w=j.T,k={};j.T=k;try{var B=d(y,g),$=j.S;$!==null&&$(k,B),iw(a,o,B)}catch(ae){vp(a,o,ae)}finally{j.T=w}}else try{w=d(y,g),iw(a,o,w)}catch(ae){vp(a,o,ae)}}function iw(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){aw(a,o,g)},function(g){return vp(a,o,g)}):aw(a,o,d)}function aw(a,o,d){o.status="fulfilled",o.value=d,lw(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,rw(a,d)))}function vp(a,o,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=d,lw(o),o=o.next;while(o!==g)}a.action=null}function lw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function ow(a,o){return o}function cw(a,o){if(Mt){var d=tn.formState;if(d!==null){e:{var g=ht;if(Mt){if(En){t:{for(var y=En,w=li;y.nodeType!==8;){if(!w){y=null;break t}if(y=qr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){En=qr(y.nextSibling),g=y.data==="F!";break e}}Dl(g)}g=!1}g&&(o=d[0])}}return d=Bs(),d.memoizedState=d.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ow,lastRenderedState:o},d.queue=g,d=Tw.bind(null,ht,g),g.dispatch=d,g=yp(!1),w=_p.bind(null,ht,!1,g.queue),g=Bs(),y={state:o,dispatch:null,action:a,pending:null},g.queue=y,d=HM.bind(null,ht,y,w,d),y.dispatch=d,g.memoizedState=a,[o,d,!1]}function uw(a){var o=Bn();return dw(o,$t,a)}function dw(a,o,d){if(o=pp(a,o,ow)[0],a=Sf(Ui)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=hu(o)}catch(k){throw k===lu?bf:k}else g=o;o=Bn();var y=o.queue,w=y.dispatch;return d!==o.memoizedState&&(ht.flags|=2048,Fo(9,_f(),zM.bind(null,y,d),null)),[g,w,a]}function zM(a,o){a.action=o}function fw(a){var o=Bn(),d=$t;if(d!==null)return dw(o,d,a);Bn(),o=o.memoizedState,d=Bn();var g=d.queue.dispatch;return d.memoizedState=a,[o,g,!1]}function Fo(a,o,d,g){return a={tag:a,create:d,deps:g,inst:o,next:null},o=ht.updateQueue,o===null&&(o=mp(),ht.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,o.lastEffect=a),a}function _f(){return{destroy:void 0,resource:void 0}}function hw(){return Bn().memoizedState}function Nf(a,o,d,g){var y=Bs();g=g===void 0?null:g,ht.flags|=a,y.memoizedState=Fo(1|o,_f(),d,g)}function mu(a,o,d,g){var y=Bn();g=g===void 0?null:g;var w=y.memoizedState.inst;$t!==null&&g!==null&&cp(g,$t.memoizedState.deps)?y.memoizedState=Fo(o,w,d,g):(ht.flags|=a,y.memoizedState=Fo(1|o,w,d,g))}function mw(a,o){Nf(8390656,8,a,o)}function gw(a,o){mu(2048,8,a,o)}function pw(a,o){return mu(4,2,a,o)}function bw(a,o){return mu(4,4,a,o)}function yw(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function vw(a,o,d){d=d!=null?d.concat([a]):null,mu(4,4,yw.bind(null,o,a),d)}function xp(){}function xw(a,o){var d=Bn();o=o===void 0?null:o;var g=d.memoizedState;return o!==null&&cp(o,g[1])?g[0]:(d.memoizedState=[a,o],a)}function ww(a,o){var d=Bn();o=o===void 0?null:o;var g=d.memoizedState;if(o!==null&&cp(o,g[1]))return g[0];if(g=a(),Ll){un(!0);try{a()}finally{un(!1)}}return d.memoizedState=[g,o],g}function wp(a,o,d){return d===void 0||(Sa&1073741824)!==0?a.memoizedState=o:(a.memoizedState=d,a=_E(),ht.lanes|=a,Ra|=a,d)}function Ew(a,o,d,g){return Zs(d,o)?d:Ho.current!==null?(a=wp(a,d,g),Zs(a,o)||(Qn=!0),a):(Sa&42)===0?(Qn=!0,a.memoizedState=d):(a=_E(),ht.lanes|=a,Ra|=a,o)}function Sw(a,o,d,g,y){var w=z.p;z.p=w!==0&&8>w?w:8;var k=j.T,B={};j.T=B,_p(a,!1,o,d);try{var $=y(),ae=j.S;if(ae!==null&&ae(B,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var be=BM($,g);gu(a,o,be,tr(a))}else gu(a,o,g,tr(a))}catch(we){gu(a,o,{then:function(){},status:"rejected",reason:we},tr())}finally{z.p=w,j.T=k}}function qM(){}function Ep(a,o,d,g){if(a.tag!==5)throw Error(s(476));var y=_w(a).queue;Sw(a,y,o,K,d===null?qM:function(){return Nw(a),d(g)})}function _w(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:K},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Nw(a){var o=_w(a).next.queue;gu(a,o,{},tr())}function Sp(){return ms(Ou)}function Aw(){return Bn().memoizedState}function Cw(){return Bn().memoizedState}function FM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=tr();a=wa(d);var g=Ea(o,a,d);g!==null&&(nr(g,o,d),cu(g,o,d)),o={cache:Jg()},a.payload=o;return}o=o.return}}function $M(a,o,d){var g=tr();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Af(a)?jw(o,d):(d=Fg(a,o,d,g),d!==null&&(nr(d,a,g),Rw(d,o,g)))}function Tw(a,o,d){var g=tr();gu(a,o,d,g)}function gu(a,o,d,g){var y={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Af(a))jw(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,B=w(k,d);if(y.hasEagerState=!0,y.eagerState=B,Zs(B,k))return cf(a,o,y,0),tn===null&&of(),!1}catch{}finally{}if(d=Fg(a,o,y,g),d!==null)return nr(d,a,g),Rw(d,o,g),!0}return!1}function _p(a,o,d,g){if(g={lane:2,revertLane:nb(),action:g,hasEagerState:!1,eagerState:null,next:null},Af(a)){if(o)throw Error(s(479))}else o=Fg(a,d,g,2),o!==null&&nr(o,a,2)}function Af(a){var o=a.alternate;return a===ht||o!==null&&o===ht}function jw(a,o){zo=xf=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function Rw(a,o,d){if((d&4194048)!==0){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Rt(a,d)}}var Cf={readContext:ms,use:Ef,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn,useHostTransitionStatus:jn,useFormState:jn,useActionState:jn,useOptimistic:jn,useMemoCache:jn,useCacheRefresh:jn},Dw={readContext:ms,use:Ef,useCallback:function(a,o){return Bs().memoizedState=[a,o===void 0?null:o],a},useContext:ms,useEffect:mw,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,Nf(4194308,4,yw.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Nf(4194308,4,a,o)},useInsertionEffect:function(a,o){Nf(4,2,a,o)},useMemo:function(a,o){var d=Bs();o=o===void 0?null:o;var g=a();if(Ll){un(!0);try{a()}finally{un(!1)}}return d.memoizedState=[g,o],g},useReducer:function(a,o,d){var g=Bs();if(d!==void 0){var y=d(o);if(Ll){un(!0);try{d(o)}finally{un(!1)}}}else y=o;return g.memoizedState=g.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},g.queue=a,a=a.dispatch=$M.bind(null,ht,a),[g.memoizedState,a]},useRef:function(a){var o=Bs();return a={current:a},o.memoizedState=a},useState:function(a){a=yp(a);var o=a.queue,d=Tw.bind(null,ht,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:xp,useDeferredValue:function(a,o){var d=Bs();return wp(d,a,o)},useTransition:function(){var a=yp(!1);return a=Sw.bind(null,ht,a.queue,!0,!1),Bs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var g=ht,y=Bs();if(Mt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=o(),tn===null)throw Error(s(349));(At&124)!==0||K1(g,o,d)}y.memoizedState=d;var w={value:d,getSnapshot:o};return y.queue=w,mw(ew.bind(null,g,w,a),[a]),g.flags|=2048,Fo(9,_f(),J1.bind(null,g,w,d,o),null),d},useId:function(){var a=Bs(),o=tn.identifierPrefix;if(Mt){var d=Ii,g=Li;d=(g&~(1<<32-Jt(g)-1)).toString(32)+d,o="«"+o+"R"+d,d=wf++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=PM++,o="«"+o+"r"+d.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Sp,useFormState:cw,useActionState:cw,useOptimistic:function(a){var o=Bs();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=_p.bind(null,ht,!0,d),d.dispatch=o,[a,o]},useMemoCache:gp,useCacheRefresh:function(){return Bs().memoizedState=FM.bind(null,ht)}},kw={readContext:ms,use:Ef,useCallback:xw,useContext:ms,useEffect:gw,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:bw,useMemo:ww,useReducer:Sf,useRef:hw,useState:function(){return Sf(Ui)},useDebugValue:xp,useDeferredValue:function(a,o){var d=Bn();return Ew(d,$t.memoizedState,a,o)},useTransition:function(){var a=Sf(Ui)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:hu(a),o]},useSyncExternalStore:Q1,useId:Aw,useHostTransitionStatus:Sp,useFormState:uw,useActionState:uw,useOptimistic:function(a,o){var d=Bn();return sw(d,$t,a,o)},useMemoCache:gp,useCacheRefresh:Cw},VM={readContext:ms,use:Ef,useCallback:xw,useContext:ms,useEffect:gw,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:bw,useMemo:ww,useReducer:bp,useRef:hw,useState:function(){return bp(Ui)},useDebugValue:xp,useDeferredValue:function(a,o){var d=Bn();return $t===null?wp(d,a,o):Ew(d,$t.memoizedState,a,o)},useTransition:function(){var a=bp(Ui)[0],o=Bn().memoizedState;return[typeof a=="boolean"?a:hu(a),o]},useSyncExternalStore:Q1,useId:Aw,useHostTransitionStatus:Sp,useFormState:fw,useActionState:fw,useOptimistic:function(a,o){var d=Bn();return $t!==null?sw(d,$t,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:gp,useCacheRefresh:Cw},$o=null,pu=0;function Tf(a){var o=pu;return pu+=1,$o===null&&($o=[]),F1($o,a,o)}function bu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function jf(a,o){throw o.$$typeof===p?Error(s(525)):(a=Object.prototype.toString.call(o),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Ow(a){var o=a._init;return o(a._payload)}function Mw(a){function o(ee,J){if(a){var re=ee.deletions;re===null?(ee.deletions=[J],ee.flags|=16):re.push(J)}}function d(ee,J){if(!a)return null;for(;J!==null;)o(ee,J),J=J.sibling;return null}function g(ee){for(var J=new Map;ee!==null;)ee.key!==null?J.set(ee.key,ee):J.set(ee.index,ee),ee=ee.sibling;return J}function y(ee,J){return ee=Mi(ee,J),ee.index=0,ee.sibling=null,ee}function w(ee,J,re){return ee.index=re,a?(re=ee.alternate,re!==null?(re=re.index,re<J?(ee.flags|=67108866,J):re):(ee.flags|=67108866,J)):(ee.flags|=1048576,J)}function k(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function B(ee,J,re,ve){return J===null||J.tag!==6?(J=Vg(re,ee.mode,ve),J.return=ee,J):(J=y(J,re),J.return=ee,J)}function $(ee,J,re,ve){var Be=re.type;return Be===x?be(ee,J,re.props.children,ve,re.key):J!==null&&(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&Ow(Be)===J.type)?(J=y(J,re.props),bu(J,re),J.return=ee,J):(J=df(re.type,re.key,re.props,null,ee.mode,ve),bu(J,re),J.return=ee,J)}function ae(ee,J,re,ve){return J===null||J.tag!==4||J.stateNode.containerInfo!==re.containerInfo||J.stateNode.implementation!==re.implementation?(J=Wg(re,ee.mode,ve),J.return=ee,J):(J=y(J,re.children||[]),J.return=ee,J)}function be(ee,J,re,ve,Be){return J===null||J.tag!==7?(J=Cl(re,ee.mode,ve,Be),J.return=ee,J):(J=y(J,re),J.return=ee,J)}function we(ee,J,re){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Vg(""+J,ee.mode,re),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return re=df(J.type,J.key,J.props,null,ee.mode,re),bu(re,J),re.return=ee,re;case v:return J=Wg(J,ee.mode,re),J.return=ee,J;case I:var ve=J._init;return J=ve(J._payload),we(ee,J,re)}if(V(J)||q(J))return J=Cl(J,ee.mode,re,null),J.return=ee,J;if(typeof J.then=="function")return we(ee,Tf(J),re);if(J.$$typeof===R)return we(ee,gf(ee,J),re);jf(ee,J)}return null}function oe(ee,J,re,ve){var Be=J!==null?J.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Be!==null?null:B(ee,J,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===Be?$(ee,J,re,ve):null;case v:return re.key===Be?ae(ee,J,re,ve):null;case I:return Be=re._init,re=Be(re._payload),oe(ee,J,re,ve)}if(V(re)||q(re))return Be!==null?null:be(ee,J,re,ve,null);if(typeof re.then=="function")return oe(ee,J,Tf(re),ve);if(re.$$typeof===R)return oe(ee,J,gf(ee,re),ve);jf(ee,re)}return null}function ce(ee,J,re,ve,Be){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(re)||null,B(J,ee,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return ee=ee.get(ve.key===null?re:ve.key)||null,$(J,ee,ve,Be);case v:return ee=ee.get(ve.key===null?re:ve.key)||null,ae(J,ee,ve,Be);case I:var gt=ve._init;return ve=gt(ve._payload),ce(ee,J,re,ve,Be)}if(V(ve)||q(ve))return ee=ee.get(re)||null,be(J,ee,ve,Be,null);if(typeof ve.then=="function")return ce(ee,J,re,Tf(ve),Be);if(ve.$$typeof===R)return ce(ee,J,re,gf(J,ve),Be);jf(J,ve)}return null}function tt(ee,J,re,ve){for(var Be=null,gt=null,We=J,Qe=J=0,Jn=null;We!==null&&Qe<re.length;Qe++){We.index>Qe?(Jn=We,We=null):Jn=We.sibling;var Dt=oe(ee,We,re[Qe],ve);if(Dt===null){We===null&&(We=Jn);break}a&&We&&Dt.alternate===null&&o(ee,We),J=w(Dt,J,Qe),gt===null?Be=Dt:gt.sibling=Dt,gt=Dt,We=Jn}if(Qe===re.length)return d(ee,We),Mt&&jl(ee,Qe),Be;if(We===null){for(;Qe<re.length;Qe++)We=we(ee,re[Qe],ve),We!==null&&(J=w(We,J,Qe),gt===null?Be=We:gt.sibling=We,gt=We);return Mt&&jl(ee,Qe),Be}for(We=g(We);Qe<re.length;Qe++)Jn=ce(We,ee,Qe,re[Qe],ve),Jn!==null&&(a&&Jn.alternate!==null&&We.delete(Jn.key===null?Qe:Jn.key),J=w(Jn,J,Qe),gt===null?Be=Jn:gt.sibling=Jn,gt=Jn);return a&&We.forEach(function(Ua){return o(ee,Ua)}),Mt&&jl(ee,Qe),Be}function Xe(ee,J,re,ve){if(re==null)throw Error(s(151));for(var Be=null,gt=null,We=J,Qe=J=0,Jn=null,Dt=re.next();We!==null&&!Dt.done;Qe++,Dt=re.next()){We.index>Qe?(Jn=We,We=null):Jn=We.sibling;var Ua=oe(ee,We,Dt.value,ve);if(Ua===null){We===null&&(We=Jn);break}a&&We&&Ua.alternate===null&&o(ee,We),J=w(Ua,J,Qe),gt===null?Be=Ua:gt.sibling=Ua,gt=Ua,We=Jn}if(Dt.done)return d(ee,We),Mt&&jl(ee,Qe),Be;if(We===null){for(;!Dt.done;Qe++,Dt=re.next())Dt=we(ee,Dt.value,ve),Dt!==null&&(J=w(Dt,J,Qe),gt===null?Be=Dt:gt.sibling=Dt,gt=Dt);return Mt&&jl(ee,Qe),Be}for(We=g(We);!Dt.done;Qe++,Dt=re.next())Dt=ce(We,ee,Qe,Dt.value,ve),Dt!==null&&(a&&Dt.alternate!==null&&We.delete(Dt.key===null?Qe:Dt.key),J=w(Dt,J,Qe),gt===null?Be=Dt:gt.sibling=Dt,gt=Dt);return a&&We.forEach(function(W2){return o(ee,W2)}),Mt&&jl(ee,Qe),Be}function Wt(ee,J,re,ve){if(typeof re=="object"&&re!==null&&re.type===x&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var Be=re.key;J!==null;){if(J.key===Be){if(Be=re.type,Be===x){if(J.tag===7){d(ee,J.sibling),ve=y(J,re.props.children),ve.return=ee,ee=ve;break e}}else if(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&Ow(Be)===J.type){d(ee,J.sibling),ve=y(J,re.props),bu(ve,re),ve.return=ee,ee=ve;break e}d(ee,J);break}else o(ee,J);J=J.sibling}re.type===x?(ve=Cl(re.props.children,ee.mode,ve,re.key),ve.return=ee,ee=ve):(ve=df(re.type,re.key,re.props,null,ee.mode,ve),bu(ve,re),ve.return=ee,ee=ve)}return k(ee);case v:e:{for(Be=re.key;J!==null;){if(J.key===Be)if(J.tag===4&&J.stateNode.containerInfo===re.containerInfo&&J.stateNode.implementation===re.implementation){d(ee,J.sibling),ve=y(J,re.children||[]),ve.return=ee,ee=ve;break e}else{d(ee,J);break}else o(ee,J);J=J.sibling}ve=Wg(re,ee.mode,ve),ve.return=ee,ee=ve}return k(ee);case I:return Be=re._init,re=Be(re._payload),Wt(ee,J,re,ve)}if(V(re))return tt(ee,J,re,ve);if(q(re)){if(Be=q(re),typeof Be!="function")throw Error(s(150));return re=Be.call(re),Xe(ee,J,re,ve)}if(typeof re.then=="function")return Wt(ee,J,Tf(re),ve);if(re.$$typeof===R)return Wt(ee,J,gf(ee,re),ve);jf(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,J!==null&&J.tag===6?(d(ee,J.sibling),ve=y(J,re),ve.return=ee,ee=ve):(d(ee,J),ve=Vg(re,ee.mode,ve),ve.return=ee,ee=ve),k(ee)):d(ee,J)}return function(ee,J,re,ve){try{pu=0;var Be=Wt(ee,J,re,ve);return $o=null,Be}catch(We){if(We===lu||We===bf)throw We;var gt=Qs(29,We,null,ee.mode);return gt.lanes=ve,gt.return=ee,gt}finally{}}}var Vo=Mw(!0),Lw=Mw(!1),xr=G(null),oi=null;function _a(a){var o=a.alternate;se(zn,zn.current&1),se(xr,a),oi===null&&(o===null||Ho.current!==null||o.memoizedState!==null)&&(oi=a)}function Iw(a){if(a.tag===22){if(se(zn,zn.current),se(xr,a),oi===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(oi=a)}}else Na()}function Na(){se(zn,zn.current),se(xr,xr.current)}function Hi(a){ie(xr),oi===a&&(oi=null),ie(zn)}var zn=G(0);function Rf(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||mb(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Np(a,o,d,g){o=a.memoizedState,d=d(g,o),d=d==null?o:m({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ap={enqueueSetState:function(a,o,d){a=a._reactInternals;var g=tr(),y=wa(g);y.payload=o,d!=null&&(y.callback=d),o=Ea(a,y,g),o!==null&&(nr(o,a,g),cu(o,a,g))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var g=tr(),y=wa(g);y.tag=1,y.payload=o,d!=null&&(y.callback=d),o=Ea(a,y,g),o!==null&&(nr(o,a,g),cu(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=tr(),g=wa(d);g.tag=2,o!=null&&(g.callback=o),o=Ea(a,g,d),o!==null&&(nr(o,a,d),cu(o,a,d))}};function Bw(a,o,d,g,y,w,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,k):o.prototype&&o.prototype.isPureReactComponent?!Jc(d,g)||!Jc(y,w):!0}function Pw(a,o,d,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==a&&Ap.enqueueReplaceState(o,o.state,null)}function Il(a,o){var d=o;if("ref"in o){d={};for(var g in o)g!=="ref"&&(d[g]=o[g])}if(a=a.defaultProps){d===o&&(d=m({},d));for(var y in a)d[y]===void 0&&(d[y]=a[y])}return d}var Df=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Uw(a){Df(a)}function Hw(a){console.error(a)}function zw(a){Df(a)}function kf(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function qw(a,o,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Cp(a,o,d){return d=wa(d),d.tag=3,d.payload={element:null},d.callback=function(){kf(a,o)},d}function Fw(a){return a=wa(a),a.tag=3,a}function $w(a,o,d,g){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var w=g.value;a.payload=function(){return y(w)},a.callback=function(){qw(o,d,g)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){qw(o,d,g),typeof y!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function WM(a,o,d,g,y){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=d.alternate,o!==null&&ru(o,d,y,!0),d=xr.current,d!==null){switch(d.tag){case 13:return oi===null?Qp():d.alternate===null&&Sn===0&&(Sn=3),d.flags&=-257,d.flags|=65536,d.lanes=y,g===np?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([g]):o.add(g),Jp(a,g,y)),!1;case 22:return d.flags|=65536,g===np?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([g]):d.add(g)),Jp(a,g,y)),!1}throw Error(s(435,d.tag))}return Jp(a,g,y),Qp(),!1}if(Mt)return o=xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,g!==Xg&&(a=Error(s(422),{cause:g}),su(pr(a,d)))):(g!==Xg&&(o=Error(s(423),{cause:g}),su(pr(o,d))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,g=pr(g,d),y=Cp(a.stateNode,g,y),ip(a,y),Sn!==4&&(Sn=2)),!1;var w=Error(s(520),{cause:g});if(w=pr(w,d),_u===null?_u=[w]:_u.push(w),Sn!==4&&(Sn=2),o===null)return!0;g=pr(g,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=y&-y,d.lanes|=a,a=Cp(d.stateNode,g,a),ip(d,a),!1;case 1:if(o=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Da===null||!Da.has(w))))return d.flags|=65536,y&=-y,d.lanes|=y,y=Fw(y),$w(y,a,d,g),ip(d,y),!1}d=d.return}while(d!==null);return!1}var Vw=Error(s(461)),Qn=!1;function ss(a,o,d,g){o.child=a===null?Lw(o,null,d,g):Vo(o,a.child,d,g)}function Ww(a,o,d,g,y){d=d.render;var w=o.ref;if("ref"in g){var k={};for(var B in g)B!=="ref"&&(k[B]=g[B])}else k=g;return Ol(o),g=up(a,o,d,k,w,y),B=dp(),a!==null&&!Qn?(fp(a,o,y),zi(a,o,y)):(Mt&&B&&Gg(o),o.flags|=1,ss(a,o,g,y),o.child)}function Gw(a,o,d,g,y){if(a===null){var w=d.type;return typeof w=="function"&&!$g(w)&&w.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=w,Yw(a,o,w,g,y)):(a=df(d.type,null,g,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Lp(a,y)){var k=w.memoizedProps;if(d=d.compare,d=d!==null?d:Jc,d(k,g)&&a.ref===o.ref)return zi(a,o,y)}return o.flags|=1,a=Mi(w,g),a.ref=o.ref,a.return=o,o.child=a}function Yw(a,o,d,g,y){if(a!==null){var w=a.memoizedProps;if(Jc(w,g)&&a.ref===o.ref)if(Qn=!1,o.pendingProps=g=w,Lp(a,y))(a.flags&131072)!==0&&(Qn=!0);else return o.lanes=a.lanes,zi(a,o,y)}return Tp(a,o,d,g,y)}function Xw(a,o,d){var g=o.pendingProps,y=g.children,w=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=w!==null?w.baseLanes|d:d,a!==null){for(y=o.child=a.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~g}else o.childLanes=0,o.child=null;return Zw(a,o,g,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&pf(o,w!==null?w.cachePool:null),w!==null?Y1(o,w):lp(),Iw(o);else return o.lanes=o.childLanes=536870912,Zw(a,o,w!==null?w.baseLanes|d:d,d)}else w!==null?(pf(o,w.cachePool),Y1(o,w),Na(),o.memoizedState=null):(a!==null&&pf(o,null),lp(),Na());return ss(a,o,y,d),o.child}function Zw(a,o,d,g){var y=tp();return y=y===null?null:{parent:Hn._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},a!==null&&pf(o,null),lp(),Iw(o),a!==null&&ru(a,o,g,!0),null}function Of(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function Tp(a,o,d,g,y){return Ol(o),d=up(a,o,d,g,void 0,y),g=dp(),a!==null&&!Qn?(fp(a,o,y),zi(a,o,y)):(Mt&&g&&Gg(o),o.flags|=1,ss(a,o,d,y),o.child)}function Qw(a,o,d,g,y,w){return Ol(o),o.updateQueue=null,d=Z1(o,g,d,y),X1(a),g=dp(),a!==null&&!Qn?(fp(a,o,w),zi(a,o,w)):(Mt&&g&&Gg(o),o.flags|=1,ss(a,o,d,w),o.child)}function Kw(a,o,d,g,y){if(Ol(o),o.stateNode===null){var w=Lo,k=d.contextType;typeof k=="object"&&k!==null&&(w=ms(k)),w=new d(g,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ap,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=g,w.state=o.memoizedState,w.refs={},sp(o),k=d.contextType,w.context=typeof k=="object"&&k!==null?ms(k):Lo,w.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Np(o,d,k,g),w.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&Ap.enqueueReplaceState(w,w.state,null),du(o,g,w,y),uu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(a===null){w=o.stateNode;var B=o.memoizedProps,$=Il(d,B);w.props=$;var ae=w.context,be=d.contextType;k=Lo,typeof be=="object"&&be!==null&&(k=ms(be));var we=d.getDerivedStateFromProps;be=typeof we=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,be||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||ae!==k)&&Pw(o,w,g,k),xa=!1;var oe=o.memoizedState;w.state=oe,du(o,g,w,y),uu(),ae=o.memoizedState,B||oe!==ae||xa?(typeof we=="function"&&(Np(o,d,we,g),ae=o.memoizedState),($=xa||Bw(o,d,$,g,oe,ae,k))?(be||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=ae),w.props=g,w.state=ae,w.context=k,g=$):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{w=o.stateNode,rp(a,o),k=o.memoizedProps,be=Il(d,k),w.props=be,we=o.pendingProps,oe=w.context,ae=d.contextType,$=Lo,typeof ae=="object"&&ae!==null&&($=ms(ae)),B=d.getDerivedStateFromProps,(ae=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==we||oe!==$)&&Pw(o,w,g,$),xa=!1,oe=o.memoizedState,w.state=oe,du(o,g,w,y),uu();var ce=o.memoizedState;k!==we||oe!==ce||xa||a!==null&&a.dependencies!==null&&mf(a.dependencies)?(typeof B=="function"&&(Np(o,d,B,g),ce=o.memoizedState),(be=xa||Bw(o,d,be,g,oe,ce,$)||a!==null&&a.dependencies!==null&&mf(a.dependencies))?(ae||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,ce,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,ce,$)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&oe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&oe===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ce),w.props=g,w.state=ce,w.context=$,g=be):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&oe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&oe===a.memoizedState||(o.flags|=1024),g=!1)}return w=g,Of(a,o),g=(o.flags&128)!==0,w||g?(w=o.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&g?(o.child=Vo(o,a.child,null,y),o.child=Vo(o,null,d,y)):ss(a,o,d,y),o.memoizedState=w.state,a=o.child):a=zi(a,o,y),a}function Jw(a,o,d,g){return nu(),o.flags|=256,ss(a,o,d,g),o.child}var jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(a){return{baseLanes:a,cachePool:H1()}}function Dp(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=wr),a}function eE(a,o,d){var g=o.pendingProps,y=!1,w=(o.flags&128)!==0,k;if((k=w)||(k=a!==null&&a.memoizedState===null?!1:(zn.current&2)!==0),k&&(y=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(Mt){if(y?_a(o):Na(),Mt){var B=En,$;if($=B){e:{for($=B,B=li;$.nodeType!==8;){if(!B){B=null;break e}if($=qr($.nextSibling),$===null){B=null;break e}}B=$}B!==null?(o.memoizedState={dehydrated:B,treeContext:Tl!==null?{id:Li,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},$=Qs(18,null,null,0),$.stateNode=B,$.return=o,o.child=$,Ss=o,En=null,$=!0):$=!1}$||Dl(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return mb(B)?o.lanes=32:o.lanes=536870912,null;Hi(o)}return B=g.children,g=g.fallback,y?(Na(),y=o.mode,B=Mf({mode:"hidden",children:B},y),g=Cl(g,y,d,null),B.return=o,g.return=o,B.sibling=g,o.child=B,y=o.child,y.memoizedState=Rp(d),y.childLanes=Dp(a,k,d),o.memoizedState=jp,g):(_a(o),kp(o,B))}if($=a.memoizedState,$!==null&&(B=$.dehydrated,B!==null)){if(w)o.flags&256?(_a(o),o.flags&=-257,o=Op(a,o,d)):o.memoizedState!==null?(Na(),o.child=a.child,o.flags|=128,o=null):(Na(),y=g.fallback,B=o.mode,g=Mf({mode:"visible",children:g.children},B),y=Cl(y,B,d,null),y.flags|=2,g.return=o,y.return=o,g.sibling=y,o.child=g,Vo(o,a.child,null,d),g=o.child,g.memoizedState=Rp(d),g.childLanes=Dp(a,k,d),o.memoizedState=jp,o=y);else if(_a(o),mb(B)){if(k=B.nextSibling&&B.nextSibling.dataset,k)var ae=k.dgst;k=ae,g=Error(s(419)),g.stack="",g.digest=k,su({value:g,source:null,stack:null}),o=Op(a,o,d)}else if(Qn||ru(a,o,d,!1),k=(d&a.childLanes)!==0,Qn||k){if(k=tn,k!==null&&(g=d&-d,g=(g&42)!==0?1:Yn(g),g=(g&(k.suspendedLanes|d))!==0?0:g,g!==0&&g!==$.retryLane))throw $.retryLane=g,Mo(a,g),nr(k,a,g),Vw;B.data==="$?"||Qp(),o=Op(a,o,d)}else B.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=$.treeContext,En=qr(B.nextSibling),Ss=o,Mt=!0,Rl=null,li=!1,a!==null&&(yr[vr++]=Li,yr[vr++]=Ii,yr[vr++]=Tl,Li=a.id,Ii=a.overflow,Tl=o),o=kp(o,g.children),o.flags|=4096);return o}return y?(Na(),y=g.fallback,B=o.mode,$=a.child,ae=$.sibling,g=Mi($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&65011712,ae!==null?y=Mi(ae,y):(y=Cl(y,B,d,null),y.flags|=2),y.return=o,g.return=o,g.sibling=y,o.child=g,g=y,y=o.child,B=a.child.memoizedState,B===null?B=Rp(d):($=B.cachePool,$!==null?(ae=Hn._currentValue,$=$.parent!==ae?{parent:ae,pool:ae}:$):$=H1(),B={baseLanes:B.baseLanes|d,cachePool:$}),y.memoizedState=B,y.childLanes=Dp(a,k,d),o.memoizedState=jp,g):(_a(o),d=a.child,a=d.sibling,d=Mi(d,{mode:"visible",children:g.children}),d.return=o,d.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=d,o.memoizedState=null,d)}function kp(a,o){return o=Mf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Mf(a,o){return a=Qs(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Op(a,o,d){return Vo(o,a.child,null,d),a=kp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function tE(a,o,d){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),Qg(a.return,o,d)}function Mp(a,o,d,g,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=y)}function nE(a,o,d){var g=o.pendingProps,y=g.revealOrder,w=g.tail;if(ss(a,o,g.children,d),g=zn.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&tE(a,d,o);else if(a.tag===19)tE(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(se(zn,g),y){case"forwards":for(d=o.child,y=null;d!==null;)a=d.alternate,a!==null&&Rf(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),Mp(o,!1,y,d,w);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Rf(a)===null){o.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Mp(o,!0,d,null,w);break;case"together":Mp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function zi(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),Ra|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(ru(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(s(153));if(o.child!==null){for(a=o.child,d=Mi(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Mi(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function Lp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&mf(a)))}function GM(a,o,d){switch(o.tag){case 3:ge(o,o.stateNode.containerInfo),va(o,Hn,a.memoizedState.cache),nu();break;case 27:case 5:ke(o);break;case 4:ge(o,o.stateNode.containerInfo);break;case 10:va(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(_a(o),o.flags|=128,null):(d&o.child.childLanes)!==0?eE(a,o,d):(_a(o),a=zi(a,o,d),a!==null?a.sibling:null);_a(o);break;case 19:var y=(a.flags&128)!==0;if(g=(d&o.childLanes)!==0,g||(ru(a,o,d,!1),g=(d&o.childLanes)!==0),y){if(g)return nE(a,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(zn,zn.current),g)break;return null;case 22:case 23:return o.lanes=0,Xw(a,o,d);case 24:va(o,Hn,a.memoizedState.cache)}return zi(a,o,d)}function sE(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)Qn=!0;else{if(!Lp(a,d)&&(o.flags&128)===0)return Qn=!1,GM(a,o,d);Qn=(a.flags&131072)!==0}else Qn=!1,Mt&&(o.flags&1048576)!==0&&O1(o,hf,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var g=o.elementType,y=g._init;if(g=y(g._payload),o.type=g,typeof g=="function")$g(g)?(a=Il(g,a),o.tag=1,o=Kw(null,o,g,a,d)):(o.tag=0,o=Tp(null,o,g,a,d));else{if(g!=null){if(y=g.$$typeof,y===T){o.tag=11,o=Ww(null,o,g,a,d);break e}else if(y===U){o.tag=14,o=Gw(null,o,g,a,d);break e}}throw o=X(g)||g,Error(s(306,o,""))}}return o;case 0:return Tp(a,o,o.type,o.pendingProps,d);case 1:return g=o.type,y=Il(g,o.pendingProps),Kw(a,o,g,y,d);case 3:e:{if(ge(o,o.stateNode.containerInfo),a===null)throw Error(s(387));g=o.pendingProps;var w=o.memoizedState;y=w.element,rp(a,o),du(o,g,null,d);var k=o.memoizedState;if(g=k.cache,va(o,Hn,g),g!==w.cache&&Kg(o,[Hn],d,!0),uu(),g=k.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Jw(a,o,g,d);break e}else if(g!==y){y=pr(Error(s(424)),o),su(y),o=Jw(a,o,g,d);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(En=qr(a.firstChild),Ss=o,Mt=!0,Rl=null,li=!0,d=Lw(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(nu(),g===y){o=zi(a,o,d);break e}ss(a,o,g,d)}o=o.child}return o;case 26:return Of(a,o),a===null?(d=lS(o.type,null,o.pendingProps,null))?o.memoizedState=d:Mt||(d=o.type,a=o.pendingProps,g=Yf(_e.current).createElement(d),g[xe]=o,g[Se]=a,is(g,d,a),et(g),o.stateNode=g):o.memoizedState=lS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ke(o),a===null&&Mt&&(g=o.stateNode=rS(o.type,o.pendingProps,_e.current),Ss=o,li=!0,y=En,Ma(o.type)?(gb=y,En=qr(g.firstChild)):En=y),ss(a,o,o.pendingProps.children,d),Of(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Mt&&((y=g=En)&&(g=w2(g,o.type,o.pendingProps,li),g!==null?(o.stateNode=g,Ss=o,En=qr(g.firstChild),li=!1,y=!0):y=!1),y||Dl(o)),ke(o),y=o.type,w=o.pendingProps,k=a!==null?a.memoizedProps:null,g=w.children,db(y,w)?g=null:k!==null&&db(y,k)&&(o.flags|=32),o.memoizedState!==null&&(y=up(a,o,UM,null,null,d),Ou._currentValue=y),Of(a,o),ss(a,o,g,d),o.child;case 6:return a===null&&Mt&&((a=d=En)&&(d=E2(d,o.pendingProps,li),d!==null?(o.stateNode=d,Ss=o,En=null,a=!0):a=!1),a||Dl(o)),null;case 13:return eE(a,o,d);case 4:return ge(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=Vo(o,null,g,d):ss(a,o,g,d),o.child;case 11:return Ww(a,o,o.type,o.pendingProps,d);case 7:return ss(a,o,o.pendingProps,d),o.child;case 8:return ss(a,o,o.pendingProps.children,d),o.child;case 12:return ss(a,o,o.pendingProps.children,d),o.child;case 10:return g=o.pendingProps,va(o,o.type,g.value),ss(a,o,g.children,d),o.child;case 9:return y=o.type._context,g=o.pendingProps.children,Ol(o),y=ms(y),g=g(y),o.flags|=1,ss(a,o,g,d),o.child;case 14:return Gw(a,o,o.type,o.pendingProps,d);case 15:return Yw(a,o,o.type,o.pendingProps,d);case 19:return nE(a,o,d);case 31:return g=o.pendingProps,d=o.mode,g={mode:g.mode,children:g.children},a===null?(d=Mf(g,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=Mi(a.child,g),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return Xw(a,o,d);case 24:return Ol(o),g=ms(Hn),a===null?(y=tp(),y===null&&(y=tn,w=Jg(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=d),y=w),o.memoizedState={parent:g,cache:y},sp(o),va(o,Hn,y)):((a.lanes&d)!==0&&(rp(a,o),du(o,null,null,d),uu()),y=a.memoizedState,w=o.memoizedState,y.parent!==g?(y={parent:g,cache:g},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),va(o,Hn,g)):(g=w.cache,va(o,Hn,g),g!==y.cache&&Kg(o,[Hn],d,!0))),ss(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function qi(a){a.flags|=4}function rE(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!fS(o)){if(o=xr.current,o!==null&&((At&4194048)===At?oi!==null:(At&62914560)!==At&&(At&536870912)===0||o!==oi))throw ou=np,z1;a.flags|=8192}}function Lf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?us():536870912,a.lanes|=o,Xo|=o)}function yu(a,o){if(!Mt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function yn(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(o)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,o}function YM(a,o,d){var g=o.pendingProps;switch(Yg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return yn(o),null;case 3:return d=o.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Pi(Hn),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(tu(o)?qi(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,I1())),yn(o),null;case 26:return d=o.memoizedState,a===null?(qi(o),d!==null?(yn(o),rE(o,d)):(yn(o),o.flags&=-16777217)):d?d!==a.memoizedState?(qi(o),yn(o),rE(o,d)):(yn(o),o.flags&=-16777217):(a.memoizedProps!==g&&qi(o),yn(o),o.flags&=-16777217),null;case 27:$e(o),d=_e.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==g&&qi(o);else{if(!g){if(o.stateNode===null)throw Error(s(166));return yn(o),null}a=pe.current,tu(o)?M1(o):(a=rS(y,g,d),o.stateNode=a,qi(o))}return yn(o),null;case 5:if($e(o),d=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&qi(o);else{if(!g){if(o.stateNode===null)throw Error(s(166));return yn(o),null}if(a=pe.current,tu(o))M1(o);else{switch(y=Yf(_e.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?y.createElement(d,{is:g.is}):y.createElement(d)}}a[xe]=o,a[Se]=g;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(is(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&qi(o)}}return yn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==g&&qi(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(s(166));if(a=_e.current,tu(o)){if(a=o.stateNode,d=o.memoizedProps,g=null,y=Ss,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}a[xe]=o,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||QE(a.nodeValue,d)),a||Dl(o)}else a=Yf(a).createTextNode(g),a[xe]=o,o.stateNode=a}return yn(o),null;case 13:if(g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=tu(o),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[xe]=o}else nu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),y=!1}else y=I1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Hi(o),o):(Hi(o),null)}if(Hi(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=o.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==y&&(g.flags|=2048)}return d!==a&&d&&(o.child.flags|=8192),Lf(o,o.updateQueue),yn(o),null;case 4:return Te(),a===null&&ab(o.stateNode.containerInfo),yn(o),null;case 10:return Pi(o.type),yn(o),null;case 19:if(ie(zn),y=o.memoizedState,y===null)return yn(o),null;if(g=(o.flags&128)!==0,w=y.rendering,w===null)if(g)yu(y,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Rf(a),w!==null){for(o.flags|=128,yu(y,!1),a=w.updateQueue,o.updateQueue=a,Lf(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)k1(d,a),d=d.sibling;return se(zn,zn.current&1|2),o.child}a=a.sibling}y.tail!==null&&Pt()>Pf&&(o.flags|=128,g=!0,yu(y,!1),o.lanes=4194304)}else{if(!g)if(a=Rf(w),a!==null){if(o.flags|=128,g=!0,a=a.updateQueue,o.updateQueue=a,Lf(o,a),yu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Mt)return yn(o),null}else 2*Pt()-y.renderingStartTime>Pf&&d!==536870912&&(o.flags|=128,g=!0,yu(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(a=y.last,a!==null?a.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Pt(),o.sibling=null,a=zn.current,se(zn,g?a&1|2:a&1),o):(yn(o),null);case 22:case 23:return Hi(o),op(),g=o.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(d&536870912)!==0&&(o.flags&128)===0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),d=o.updateQueue,d!==null&&Lf(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048),a!==null&&ie(Ml),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Pi(Hn),yn(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function XM(a,o){switch(Yg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Pi(Hn),Te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 13:if(Hi(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(s(340));nu()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ie(zn),null;case 4:return Te(),null;case 10:return Pi(o.type),null;case 22:case 23:return Hi(o),op(),a!==null&&ie(Ml),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Pi(Hn),null;case 25:return null;default:return null}}function iE(a,o){switch(Yg(o),o.tag){case 3:Pi(Hn),Te();break;case 26:case 27:case 5:$e(o);break;case 4:Te();break;case 13:Hi(o);break;case 19:ie(zn);break;case 10:Pi(o.type);break;case 22:case 23:Hi(o),op(),a!==null&&ie(Ml);break;case 24:Pi(Hn)}}function vu(a,o){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&a)===a){g=void 0;var w=d.create,k=d.inst;g=w(),k.destroy=g}d=d.next}while(d!==y)}}catch(B){Xt(o,o.return,B)}}function Aa(a,o,d){try{var g=o.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var w=y.next;g=w;do{if((g.tag&a)===a){var k=g.inst,B=k.destroy;if(B!==void 0){k.destroy=void 0,y=o;var $=d,ae=B;try{ae()}catch(be){Xt(y,$,be)}}}g=g.next}while(g!==w)}}catch(be){Xt(o,o.return,be)}}function aE(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{G1(o,d)}catch(g){Xt(a,a.return,g)}}}function lE(a,o,d){d.props=Il(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Xt(a,o,g)}}function xu(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(y){Xt(a,o,y)}}function ci(a,o){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(y){Xt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Xt(a,o,y)}else d.current=null}function oE(a){var o=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(y){Xt(a,a.return,y)}}function Ip(a,o,d){try{var g=a.stateNode;p2(g,a.type,d,o),g[Se]=o}catch(y){Xt(a,a.return,y)}}function cE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ma(a.type)||a.tag===4}function Bp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||cE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ma(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pp(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Gf));else if(g!==4&&(g===27&&Ma(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(Pp(a,o,d),a=a.sibling;a!==null;)Pp(a,o,d),a=a.sibling}function If(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(g!==4&&(g===27&&Ma(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(If(a,o,d),a=a.sibling;a!==null;)If(a,o,d),a=a.sibling}function uE(a){var o=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);is(o,g,d),o[xe]=a,o[Se]=d}catch(w){Xt(a,a.return,w)}}var Fi=!1,Rn=!1,Up=!1,dE=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function ZM(a,o){if(a=a.containerInfo,cb=eh,a=E1(a),Bg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var k=0,B=-1,$=-1,ae=0,be=0,we=a,oe=null;t:for(;;){for(var ce;we!==d||y!==0&&we.nodeType!==3||(B=k+y),we!==w||g!==0&&we.nodeType!==3||($=k+g),we.nodeType===3&&(k+=we.nodeValue.length),(ce=we.firstChild)!==null;)oe=we,we=ce;for(;;){if(we===a)break t;if(oe===d&&++ae===y&&(B=k),oe===w&&++be===g&&($=k),(ce=we.nextSibling)!==null)break;we=oe,oe=we.parentNode}we=ce}d=B===-1||$===-1?null:{start:B,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(ub={focusedElem:a,selectionRange:d},eh=!1,Kn=o;Kn!==null;)if(o=Kn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,Kn=a;else for(;Kn!==null;){switch(o=Kn,w=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=o,y=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var tt=Il(d.type,y,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(tt,w),g.__reactInternalSnapshotBeforeUpdate=a}catch(Xe){Xt(d,d.return,Xe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)hb(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":hb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=o.sibling,a!==null){a.return=o.return,Kn=a;break}Kn=o.return}}function fE(a,o,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Ca(a,d),g&4&&vu(5,d);break;case 1:if(Ca(a,d),g&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(k){Xt(d,d.return,k)}else{var y=Il(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Xt(d,d.return,k)}}g&64&&aE(d),g&512&&xu(d,d.return);break;case 3:if(Ca(a,d),g&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{G1(a,o)}catch(k){Xt(d,d.return,k)}}break;case 27:o===null&&g&4&&uE(d);case 26:case 5:Ca(a,d),o===null&&g&4&&oE(d),g&512&&xu(d,d.return);break;case 12:Ca(a,d);break;case 13:Ca(a,d),g&4&&gE(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=i2.bind(null,d),S2(a,d))));break;case 22:if(g=d.memoizedState!==null||Fi,!g){o=o!==null&&o.memoizedState!==null||Rn,y=Fi;var w=Rn;Fi=g,(Rn=o)&&!w?Ta(a,d,(d.subtreeFlags&8772)!==0):Ca(a,d),Fi=y,Rn=w}break;case 30:break;default:Ca(a,d)}}function hE(a){var o=a.alternate;o!==null&&(a.alternate=null,hE(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Oe(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ln=null,Ps=!1;function $i(a,o,d){for(d=d.child;d!==null;)mE(a,o,d),d=d.sibling}function mE(a,o,d){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ot,d)}catch{}switch(d.tag){case 26:Rn||ci(d,o),$i(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Rn||ci(d,o);var g=ln,y=Ps;Ma(d.type)&&(ln=d.stateNode,Ps=!1),$i(a,o,d),ju(d.stateNode),ln=g,Ps=y;break;case 5:Rn||ci(d,o);case 6:if(g=ln,y=Ps,ln=null,$i(a,o,d),ln=g,Ps=y,ln!==null)if(Ps)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(d.stateNode)}catch(w){Xt(d,o,w)}else try{ln.removeChild(d.stateNode)}catch(w){Xt(d,o,w)}break;case 18:ln!==null&&(Ps?(a=ln,nS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Bu(a)):nS(ln,d.stateNode));break;case 4:g=ln,y=Ps,ln=d.stateNode.containerInfo,Ps=!0,$i(a,o,d),ln=g,Ps=y;break;case 0:case 11:case 14:case 15:Rn||Aa(2,d,o),Rn||Aa(4,d,o),$i(a,o,d);break;case 1:Rn||(ci(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"&&lE(d,o,g)),$i(a,o,d);break;case 21:$i(a,o,d);break;case 22:Rn=(g=Rn)||d.memoizedState!==null,$i(a,o,d),Rn=g;break;default:$i(a,o,d)}}function gE(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Bu(a)}catch(d){Xt(o,o.return,d)}}function QM(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new dE),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new dE),o;default:throw Error(s(435,a.tag))}}function Hp(a,o){var d=QM(a);o.forEach(function(g){var y=a2.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}function Ks(a,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g],w=a,k=o,B=k;e:for(;B!==null;){switch(B.tag){case 27:if(Ma(B.type)){ln=B.stateNode,Ps=!1;break e}break;case 5:ln=B.stateNode,Ps=!1;break e;case 3:case 4:ln=B.stateNode.containerInfo,Ps=!0;break e}B=B.return}if(ln===null)throw Error(s(160));mE(w,k,y),ln=null,Ps=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)pE(o,a),o=o.sibling}var zr=null;function pE(a,o){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ks(o,a),Js(a),g&4&&(Aa(3,a,a.return),vu(3,a),Aa(5,a,a.return));break;case 1:Ks(o,a),Js(a),g&512&&(Rn||d===null||ci(d,d.return)),g&64&&Fi&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var y=zr;if(Ks(o,a),Js(a),g&512&&(Rn||d===null||ci(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,y=y.ownerDocument||y;t:switch(g){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Ie]||w[xe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(g),y.head.insertBefore(w,y.querySelector("head > title"))),is(w,g,d),w[xe]=a,et(w),g=w;break e;case"link":var k=uS("link","href",y).get(g+(d.href||""));if(k){for(var B=0;B<k.length;B++)if(w=k[B],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(B,1);break t}}w=y.createElement(g),is(w,g,d),y.head.appendChild(w);break;case"meta":if(k=uS("meta","content",y).get(g+(d.content||""))){for(B=0;B<k.length;B++)if(w=k[B],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(B,1);break t}}w=y.createElement(g),is(w,g,d),y.head.appendChild(w);break;default:throw Error(s(468,g))}w[xe]=a,et(w),g=w}a.stateNode=g}else dS(y,a.type,a.stateNode);else a.stateNode=cS(y,g,a.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?dS(y,a.type,a.stateNode):cS(y,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Ip(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ks(o,a),Js(a),g&512&&(Rn||d===null||ci(d,d.return)),d!==null&&g&4&&Ip(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ks(o,a),Js(a),g&512&&(Rn||d===null||ci(d,d.return)),a.flags&32){y=a.stateNode;try{Xn(y,"")}catch(ce){Xt(a,a.return,ce)}}g&4&&a.stateNode!=null&&(y=a.memoizedProps,Ip(a,y,d!==null?d.memoizedProps:y)),g&1024&&(Up=!0);break;case 6:if(Ks(o,a),Js(a),g&4){if(a.stateNode===null)throw Error(s(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(ce){Xt(a,a.return,ce)}}break;case 3:if(Qf=null,y=zr,zr=Xf(o.containerInfo),Ks(o,a),zr=y,Js(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Bu(o.containerInfo)}catch(ce){Xt(a,a.return,ce)}Up&&(Up=!1,bE(a));break;case 4:g=zr,zr=Xf(a.stateNode.containerInfo),Ks(o,a),Js(a),zr=g;break;case 12:Ks(o,a),Js(a);break;case 13:Ks(o,a),Js(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wp=Pt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Hp(a,g)));break;case 22:y=a.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,ae=Fi,be=Rn;if(Fi=ae||y,Rn=be||$,Ks(o,a),Rn=be,Fi=ae,Js(a),g&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(d===null||$||Fi||Rn||Bl(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){$=d=o;try{if(w=$.stateNode,y)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{B=$.stateNode;var we=$.memoizedProps.style,oe=we!=null&&we.hasOwnProperty("display")?we.display:null;B.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ce){Xt($,$.return,ce)}}}else if(o.tag===6){if(d===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(ce){Xt($,$.return,ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Hp(a,d))));break;case 19:Ks(o,a),Js(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Hp(a,g)));break;case 30:break;case 21:break;default:Ks(o,a),Js(a)}}function Js(a){var o=a.flags;if(o&2){try{for(var d,g=a.return;g!==null;){if(cE(g)){d=g;break}g=g.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var y=d.stateNode,w=Bp(a);If(a,w,y);break;case 5:var k=d.stateNode;d.flags&32&&(Xn(k,""),d.flags&=-33);var B=Bp(a);If(a,B,k);break;case 3:case 4:var $=d.stateNode.containerInfo,ae=Bp(a);Pp(a,ae,$);break;default:throw Error(s(161))}}catch(be){Xt(a,a.return,be)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function bE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;bE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ca(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fE(a,o.alternate,o),o=o.sibling}function Bl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Aa(4,o,o.return),Bl(o);break;case 1:ci(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&lE(o,o.return,d),Bl(o);break;case 27:ju(o.stateNode);case 26:case 5:ci(o,o.return),Bl(o);break;case 22:o.memoizedState===null&&Bl(o);break;case 30:Bl(o);break;default:Bl(o)}a=a.sibling}}function Ta(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,y=a,w=o,k=w.flags;switch(w.tag){case 0:case 11:case 15:Ta(y,w,d),vu(4,w);break;case 1:if(Ta(y,w,d),g=w,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Xt(g,g.return,ae)}if(g=w,y=g.updateQueue,y!==null){var B=g.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)W1($[y],B)}catch(ae){Xt(g,g.return,ae)}}d&&k&64&&aE(w),xu(w,w.return);break;case 27:uE(w);case 26:case 5:Ta(y,w,d),d&&g===null&&k&4&&oE(w),xu(w,w.return);break;case 12:Ta(y,w,d);break;case 13:Ta(y,w,d),d&&k&4&&gE(y,w);break;case 22:w.memoizedState===null&&Ta(y,w,d),xu(w,w.return);break;case 30:break;default:Ta(y,w,d)}o=o.sibling}}function zp(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&iu(d))}function qp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&iu(a))}function ui(a,o,d,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yE(a,o,d,g),o=o.sibling}function yE(a,o,d,g){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ui(a,o,d,g),y&2048&&vu(9,o);break;case 1:ui(a,o,d,g);break;case 3:ui(a,o,d,g),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&iu(a)));break;case 12:if(y&2048){ui(a,o,d,g),a=o.stateNode;try{var w=o.memoizedProps,k=w.id,B=w.onPostCommit;typeof B=="function"&&B(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Xt(o,o.return,$)}}else ui(a,o,d,g);break;case 13:ui(a,o,d,g);break;case 23:break;case 22:w=o.stateNode,k=o.alternate,o.memoizedState!==null?w._visibility&2?ui(a,o,d,g):wu(a,o):w._visibility&2?ui(a,o,d,g):(w._visibility|=2,Wo(a,o,d,g,(o.subtreeFlags&10256)!==0)),y&2048&&zp(k,o);break;case 24:ui(a,o,d,g),y&2048&&qp(o.alternate,o);break;default:ui(a,o,d,g)}}function Wo(a,o,d,g,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=a,k=o,B=d,$=g,ae=k.flags;switch(k.tag){case 0:case 11:case 15:Wo(w,k,B,$,y),vu(8,k);break;case 23:break;case 22:var be=k.stateNode;k.memoizedState!==null?be._visibility&2?Wo(w,k,B,$,y):wu(w,k):(be._visibility|=2,Wo(w,k,B,$,y)),y&&ae&2048&&zp(k.alternate,k);break;case 24:Wo(w,k,B,$,y),y&&ae&2048&&qp(k.alternate,k);break;default:Wo(w,k,B,$,y)}o=o.sibling}}function wu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,g=o,y=g.flags;switch(g.tag){case 22:wu(d,g),y&2048&&zp(g.alternate,g);break;case 24:wu(d,g),y&2048&&qp(g.alternate,g);break;default:wu(d,g)}o=o.sibling}}var Eu=8192;function Go(a){if(a.subtreeFlags&Eu)for(a=a.child;a!==null;)vE(a),a=a.sibling}function vE(a){switch(a.tag){case 26:Go(a),a.flags&Eu&&a.memoizedState!==null&&I2(zr,a.memoizedState,a.memoizedProps);break;case 5:Go(a);break;case 3:case 4:var o=zr;zr=Xf(a.stateNode.containerInfo),Go(a),zr=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,Go(a),Eu=o):Go(a));break;default:Go(a)}}function xE(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Su(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];Kn=g,EE(g,a)}xE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wE(a),a=a.sibling}function wE(a){switch(a.tag){case 0:case 11:case 15:Su(a),a.flags&2048&&Aa(9,a,a.return);break;case 3:Su(a);break;case 12:Su(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Bf(a)):Su(a);break;default:Su(a)}}function Bf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];Kn=g,EE(g,a)}xE(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Aa(8,o,o.return),Bf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Bf(o));break;default:Bf(o)}a=a.sibling}}function EE(a,o){for(;Kn!==null;){var d=Kn;switch(d.tag){case 0:case 11:case 15:Aa(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:iu(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Kn=g;else e:for(d=a;Kn!==null;){g=Kn;var y=g.sibling,w=g.return;if(hE(g),g===d){Kn=null;break e}if(y!==null){y.return=w,Kn=y;break e}Kn=w}}}var KM={getCacheForType:function(a){var o=ms(Hn),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d}},JM=typeof WeakMap=="function"?WeakMap:Map,Ht=0,tn=null,yt=null,At=0,zt=0,er=null,ja=!1,Yo=!1,Fp=!1,Vi=0,Sn=0,Ra=0,Pl=0,$p=0,wr=0,Xo=0,_u=null,Us=null,Vp=!1,Wp=0,Pf=1/0,Uf=null,Da=null,rs=0,ka=null,Zo=null,Qo=0,Gp=0,Yp=null,SE=null,Nu=0,Xp=null;function tr(){if((Ht&2)!==0&&At!==0)return At&-At;if(j.T!==null){var a=Po;return a!==0?a:nb()}return W()}function _E(){wr===0&&(wr=(At&536870912)===0||Mt?hn():536870912);var a=xr.current;return a!==null&&(a.flags|=32),wr}function nr(a,o,d){(a===tn&&(zt===2||zt===9)||a.cancelPendingCommit!==null)&&(Ko(a,0),Oa(a,At,wr,!1)),An(a,d),((Ht&2)===0||a!==tn)&&(a===tn&&((Ht&2)===0&&(Pl|=d),Sn===4&&Oa(a,At,wr,!1)),di(a))}function NE(a,o,d){if((Ht&6)!==0)throw Error(s(327));var g=!d&&(o&124)===0&&(o&a.expiredLanes)===0||Nn(a,o),y=g?n2(a,o):Kp(a,o,!0),w=g;do{if(y===0){Yo&&!g&&Oa(a,o,0,!1);break}else{if(d=a.current.alternate,w&&!e2(d)){y=Kp(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var B=a;y=_u;var $=B.current.memoizedState.isDehydrated;if($&&(Ko(B,k).flags|=256),k=Kp(B,k,!1),k!==2){if(Fp&&!$){B.errorRecoveryDisabledLanes|=w,Pl|=w,y=4;break e}w=Us,Us=y,w!==null&&(Us===null?Us=w:Us.push.apply(Us,w))}y=k}if(w=!1,y!==2)continue}}if(y===1){Ko(a,0),Oa(a,o,0,!0);break}e:{switch(g=a,w=y,w){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Oa(g,o,wr,!ja);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=Wp+300-Pt(),10<y)){if(Oa(g,o,wr,!ja),cs(g,0,!0)!==0)break e;g.timeoutHandle=eS(AE.bind(null,g,d,Us,Uf,Vp,o,wr,Pl,Xo,ja,w,2,-0,0),y);break e}AE(g,d,Us,Uf,Vp,o,wr,Pl,Xo,ja,w,0,-0,0)}}break}while(!0);di(a)}function AE(a,o,d,g,y,w,k,B,$,ae,be,we,oe,ce){if(a.timeoutHandle=-1,we=o.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:L2},vE(o),we=B2(),we!==null)){a.cancelPendingCommit=we(OE.bind(null,a,o,w,d,g,y,k,B,$,be,1,oe,ce)),Oa(a,w,k,!ae);return}OE(a,o,w,d,g,y,k,B,$)}function e2(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var y=d[g],w=y.getSnapshot;y=y.value;try{if(!Zs(w(),y))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oa(a,o,d,g){o&=~$p,o&=~Pl,a.suspendedLanes|=o,a.pingedLanes&=~o,g&&(a.warmLanes|=o),g=a.expirationTimes;for(var y=o;0<y;){var w=31-Jt(y),k=1<<w;g[w]=-1,y&=~k}d!==0&&ns(a,d,o)}function Hf(){return(Ht&6)===0?(Au(0),!1):!0}function Zp(){if(yt!==null){if(zt===0)var a=yt.return;else a=yt,Bi=kl=null,hp(a),$o=null,pu=0,a=yt;for(;a!==null;)iE(a.alternate,a),a=a.return;yt=null}}function Ko(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,y2(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Zp(),tn=a,yt=d=Mi(a.current,null),At=o,zt=0,er=null,ja=!1,Yo=Nn(a,o),Fp=!1,Xo=wr=$p=Pl=Ra=Sn=0,Us=_u=null,Vp=!1,(o&8)!==0&&(o|=o&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=o;0<g;){var y=31-Jt(g),w=1<<y;o|=a[y],g&=~w}return Vi=o,of(),d}function CE(a,o){ht=null,j.H=Cf,o===lu||o===bf?(o=$1(),zt=3):o===z1?(o=$1(),zt=4):zt=o===Vw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,er=o,yt===null&&(Sn=1,kf(a,pr(o,a.current)))}function TE(){var a=j.H;return j.H=Cf,a===null?Cf:a}function jE(){var a=j.A;return j.A=KM,a}function Qp(){Sn=4,ja||(At&4194048)!==At&&xr.current!==null||(Yo=!0),(Ra&134217727)===0&&(Pl&134217727)===0||tn===null||Oa(tn,At,wr,!1)}function Kp(a,o,d){var g=Ht;Ht|=2;var y=TE(),w=jE();(tn!==a||At!==o)&&(Uf=null,Ko(a,o)),o=!1;var k=Sn;e:do try{if(zt!==0&&yt!==null){var B=yt,$=er;switch(zt){case 8:Zp(),k=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(o=!0);var ae=zt;if(zt=0,er=null,Jo(a,B,$,ae),d&&Yo){k=0;break e}break;default:ae=zt,zt=0,er=null,Jo(a,B,$,ae)}}t2(),k=Sn;break}catch(be){CE(a,be)}while(!0);return o&&a.shellSuspendCounter++,Bi=kl=null,Ht=g,j.H=y,j.A=w,yt===null&&(tn=null,At=0,of()),k}function t2(){for(;yt!==null;)RE(yt)}function n2(a,o){var d=Ht;Ht|=2;var g=TE(),y=jE();tn!==a||At!==o?(Uf=null,Pf=Pt()+500,Ko(a,o)):Yo=Nn(a,o);e:do try{if(zt!==0&&yt!==null){o=yt;var w=er;t:switch(zt){case 1:zt=0,er=null,Jo(a,o,w,1);break;case 2:case 9:if(q1(w)){zt=0,er=null,DE(o);break}o=function(){zt!==2&&zt!==9||tn!==a||(zt=7),di(a)},w.then(o,o);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:q1(w)?(zt=0,er=null,DE(o)):(zt=0,er=null,Jo(a,o,w,7));break;case 5:var k=null;switch(yt.tag){case 26:k=yt.memoizedState;case 5:case 27:var B=yt;if(!k||fS(k)){zt=0,er=null;var $=B.sibling;if($!==null)yt=$;else{var ae=B.return;ae!==null?(yt=ae,zf(ae)):yt=null}break t}}zt=0,er=null,Jo(a,o,w,5);break;case 6:zt=0,er=null,Jo(a,o,w,6);break;case 8:Zp(),Sn=6;break e;default:throw Error(s(462))}}s2();break}catch(be){CE(a,be)}while(!0);return Bi=kl=null,j.H=g,j.A=y,Ht=d,yt!==null?0:(tn=null,At=0,of(),Sn)}function s2(){for(;yt!==null&&!Bt();)RE(yt)}function RE(a){var o=sE(a.alternate,a,Vi);a.memoizedProps=a.pendingProps,o===null?zf(a):yt=o}function DE(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=Qw(d,o,o.pendingProps,o.type,void 0,At);break;case 11:o=Qw(d,o,o.pendingProps,o.type.render,o.ref,At);break;case 5:hp(o);default:iE(d,o),o=yt=k1(o,Vi),o=sE(d,o,Vi)}a.memoizedProps=a.pendingProps,o===null?zf(a):yt=o}function Jo(a,o,d,g){Bi=kl=null,hp(o),$o=null,pu=0;var y=o.return;try{if(WM(a,y,o,d,At)){Sn=1,kf(a,pr(d,a.current)),yt=null;return}}catch(w){if(y!==null)throw yt=y,w;Sn=1,kf(a,pr(d,a.current)),yt=null;return}o.flags&32768?(Mt||g===1?a=!0:Yo||(At&536870912)!==0?a=!1:(ja=a=!0,(g===2||g===9||g===3||g===6)&&(g=xr.current,g!==null&&g.tag===13&&(g.flags|=16384))),kE(o,a)):zf(o)}function zf(a){var o=a;do{if((o.flags&32768)!==0){kE(o,ja);return}a=o.return;var d=YM(o.alternate,o,Vi);if(d!==null){yt=d;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=a}while(o!==null);Sn===0&&(Sn=5)}function kE(a,o){do{var d=XM(a.alternate,a);if(d!==null){d.flags&=32767,yt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){yt=a;return}yt=a=d}while(a!==null);Sn=6,yt=null}function OE(a,o,d,g,y,w,k,B,$){a.cancelPendingCommit=null;do qf();while(rs!==0);if((Ht&6)!==0)throw Error(s(327));if(o!==null){if(o===a.current)throw Error(s(177));if(w=o.lanes|o.childLanes,w|=qg,dr(a,d,w,k,B,$),a===tn&&(yt=tn=null,At=0),Zo=o,ka=a,Qo=d,Gp=w,Yp=y,SE=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,l2(Ce,function(){return PE(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,y=z.p,z.p=2,k=Ht,Ht|=4;try{ZM(a,o,d)}finally{Ht=k,z.p=y,j.T=g}}rs=1,ME(),LE(),IE()}}function ME(){if(rs===1){rs=0;var a=ka,o=Zo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var g=z.p;z.p=2;var y=Ht;Ht|=4;try{pE(o,a);var w=ub,k=E1(a.containerInfo),B=w.focusedElem,$=w.selectionRange;if(k!==B&&B&&B.ownerDocument&&w1(B.ownerDocument.documentElement,B)){if($!==null&&Bg(B)){var ae=$.start,be=$.end;if(be===void 0&&(be=ae),"selectionStart"in B)B.selectionStart=ae,B.selectionEnd=Math.min(be,B.value.length);else{var we=B.ownerDocument||document,oe=we&&we.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),tt=B.textContent.length,Xe=Math.min($.start,tt),Wt=$.end===void 0?Xe:Math.min($.end,tt);!ce.extend&&Xe>Wt&&(k=Wt,Wt=Xe,Xe=k);var ee=x1(B,Xe),J=x1(B,Wt);if(ee&&J&&(ce.rangeCount!==1||ce.anchorNode!==ee.node||ce.anchorOffset!==ee.offset||ce.focusNode!==J.node||ce.focusOffset!==J.offset)){var re=we.createRange();re.setStart(ee.node,ee.offset),ce.removeAllRanges(),Xe>Wt?(ce.addRange(re),ce.extend(J.node,J.offset)):(re.setEnd(J.node,J.offset),ce.addRange(re))}}}}for(we=[],ce=B;ce=ce.parentNode;)ce.nodeType===1&&we.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<we.length;B++){var ve=we[B];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}eh=!!cb,ub=cb=null}finally{Ht=y,z.p=g,j.T=d}}a.current=o,rs=2}}function LE(){if(rs===2){rs=0;var a=ka,o=Zo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var g=z.p;z.p=2;var y=Ht;Ht|=4;try{fE(a,o.alternate,o)}finally{Ht=y,z.p=g,j.T=d}}rs=3}}function IE(){if(rs===4||rs===3){rs=0,Vn();var a=ka,o=Zo,d=Qo,g=SE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?rs=5:(rs=0,Zo=ka=null,BE(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Da=null),Gs(d),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ot,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=j.T,y=z.p,z.p=2,j.T=null;try{for(var w=a.onRecoverableError,k=0;k<g.length;k++){var B=g[k];w(B.value,{componentStack:B.stack})}}finally{j.T=o,z.p=y}}(Qo&3)!==0&&qf(),di(a),y=a.pendingLanes,(d&4194090)!==0&&(y&42)!==0?a===Xp?Nu++:(Nu=0,Xp=a):Nu=0,Au(0)}}function BE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,iu(o)))}function qf(a){return ME(),LE(),IE(),PE()}function PE(){if(rs!==5)return!1;var a=ka,o=Gp;Gp=0;var d=Gs(Qo),g=j.T,y=z.p;try{z.p=32>d?32:d,j.T=null,d=Yp,Yp=null;var w=ka,k=Qo;if(rs=0,Zo=ka=null,Qo=0,(Ht&6)!==0)throw Error(s(331));var B=Ht;if(Ht|=4,wE(w.current),yE(w,w.current,k,d),Ht=B,Au(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ot,w)}catch{}return!0}finally{z.p=y,j.T=g,BE(a,o)}}function UE(a,o,d){o=pr(d,o),o=Cp(a.stateNode,o,2),a=Ea(a,o,2),a!==null&&(An(a,2),di(a))}function Xt(a,o,d){if(a.tag===3)UE(a,a,d);else for(;o!==null;){if(o.tag===3){UE(o,a,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Da===null||!Da.has(g))){a=pr(d,a),d=Fw(2),g=Ea(o,d,2),g!==null&&($w(d,g,o,a),An(g,2),di(g));break}}o=o.return}}function Jp(a,o,d){var g=a.pingCache;if(g===null){g=a.pingCache=new JM;var y=new Set;g.set(o,y)}else y=g.get(o),y===void 0&&(y=new Set,g.set(o,y));y.has(d)||(Fp=!0,y.add(d),a=r2.bind(null,a,o,d),o.then(a,a))}function r2(a,o,d){var g=a.pingCache;g!==null&&g.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,tn===a&&(At&d)===d&&(Sn===4||Sn===3&&(At&62914560)===At&&300>Pt()-Wp?(Ht&2)===0&&Ko(a,0):$p|=d,Xo===At&&(Xo=0)),di(a)}function HE(a,o){o===0&&(o=us()),a=Mo(a,o),a!==null&&(An(a,o),di(a))}function i2(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),HE(a,d)}function a2(a,o){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(s(314))}g!==null&&g.delete(o),HE(a,d)}function l2(a,o){return Ke(a,o)}var Ff=null,ec=null,eb=!1,$f=!1,tb=!1,Ul=0;function di(a){a!==ec&&a.next===null&&(ec===null?Ff=ec=a:ec=ec.next=a),$f=!0,eb||(eb=!0,c2())}function Au(a,o){if(!tb&&$f){tb=!0;do for(var d=!1,g=Ff;g!==null;){if(a!==0){var y=g.pendingLanes;if(y===0)var w=0;else{var k=g.suspendedLanes,B=g.pingedLanes;w=(1<<31-Jt(42|a)+1)-1,w&=y&~(k&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,$E(g,w))}else w=At,w=cs(g,g===tn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||Nn(g,w)||(d=!0,$E(g,w));g=g.next}while(d);tb=!1}}function o2(){zE()}function zE(){$f=eb=!1;var a=0;Ul!==0&&(b2()&&(a=Ul),Ul=0);for(var o=Pt(),d=null,g=Ff;g!==null;){var y=g.next,w=qE(g,o);w===0?(g.next=null,d===null?Ff=y:d.next=y,y===null&&(ec=d)):(d=g,(a!==0||(w&3)!==0)&&($f=!0)),g=y}Au(a)}function qE(a,o){for(var d=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var k=31-Jt(w),B=1<<k,$=y[k];$===-1?((B&d)===0||(B&g)!==0)&&(y[k]=Os(B,o)):$<=o&&(a.expiredLanes|=B),w&=~B}if(o=tn,d=At,d=cs(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===o&&(zt===2||zt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&He(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Nn(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(g!==null&&He(g),Gs(d)){case 2:case 8:d=Wn;break;case 32:d=Ce;break;case 268435456:d=it;break;default:d=Ce}return g=FE.bind(null,a),d=Ke(d,g),a.callbackPriority=o,a.callbackNode=d,o}return g!==null&&g!==null&&He(g),a.callbackPriority=2,a.callbackNode=null,2}function FE(a,o){if(rs!==0&&rs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(qf()&&a.callbackNode!==d)return null;var g=At;return g=cs(a,a===tn?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(NE(a,g,o),qE(a,Pt()),a.callbackNode!=null&&a.callbackNode===d?FE.bind(null,a):null)}function $E(a,o){if(qf())return null;NE(a,o,!0)}function c2(){v2(function(){(Ht&6)!==0?Ke(Es,o2):zE()})}function nb(){return Ul===0&&(Ul=hn()),Ul}function VE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fa(""+a)}function WE(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function u2(a,o,d,g,y){if(o==="submit"&&d&&d.stateNode===y){var w=VE((y[Se]||null).action),k=g.submitter;k&&(o=(o=k[Se]||null)?VE(o.formAction):k.getAttribute("formAction"),o!==null&&(w=o,k=null));var B=new me("action","action",null,g,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ul!==0){var $=k?WE(y,k):new FormData(y);Ep(d,{pending:!0,data:$,method:y.method,action:w},null,$)}}else typeof w=="function"&&(B.preventDefault(),$=k?WE(y,k):new FormData(y),Ep(d,{pending:!0,data:$,method:y.method,action:w},w,$))},currentTarget:y}]})}}for(var sb=0;sb<zg.length;sb++){var rb=zg[sb],d2=rb.toLowerCase(),f2=rb[0].toUpperCase()+rb.slice(1);Hr(d2,"on"+f2)}Hr(N1,"onAnimationEnd"),Hr(A1,"onAnimationIteration"),Hr(C1,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(jM,"onTransitionRun"),Hr(RM,"onTransitionStart"),Hr(DM,"onTransitionCancel"),Hr(T1,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),Ee("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ee("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ee("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ee("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ee("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ee("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function GE(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],y=g.event;g=g.listeners;e:{var w=void 0;if(o)for(var k=g.length-1;0<=k;k--){var B=g[k],$=B.instance,ae=B.currentTarget;if(B=B.listener,$!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ae;try{w(y)}catch(be){Df(be)}y.currentTarget=null,w=$}else for(k=0;k<g.length;k++){if(B=g[k],$=B.instance,ae=B.currentTarget,B=B.listener,$!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ae;try{w(y)}catch(be){Df(be)}y.currentTarget=null,w=$}}}}function vt(a,o){var d=o[Me];d===void 0&&(d=o[Me]=new Set);var g=a+"__bubble";d.has(g)||(YE(o,a,2,!1),d.add(g))}function ib(a,o,d){var g=0;o&&(g|=4),YE(d,a,g,o)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function ab(a){if(!a[Vf]){a[Vf]=!0,Ae.forEach(function(d){d!=="selectionchange"&&(h2.has(d)||ib(d,!1,a),ib(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Vf]||(o[Vf]=!0,ib("selectionchange",!1,o))}}function YE(a,o,d,g){switch(yS(o)){case 2:var y=H2;break;case 8:y=z2;break;default:y=xb}d=y.bind(null,o,d,a),y=void 0,!ga||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(o,d,{capture:!0,passive:y}):a.addEventListener(o,d,!0):y!==void 0?a.addEventListener(o,d,{passive:y}):a.addEventListener(o,d,!1)}function lb(a,o,d,g,y){var w=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var k=g.tag;if(k===3||k===4){var B=g.stateNode.containerInfo;if(B===y)break;if(k===4)for(k=g.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;B!==null;){if(k=st(B),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){g=w=k;continue e}B=B.parentNode}}g=g.return}ma(function(){var ae=w,be=ha(d),we=[];e:{var oe=j1.get(a);if(oe!==void 0){var ce=me,tt=a;switch(a){case"keypress":if(ba(d)===0)break e;case"keydown":case"keyup":ce=lM;break;case"focusin":tt="focus",ce=Tn;break;case"focusout":tt="blur",ce=Tn;break;case"beforeblur":case"afterblur":ce=Tn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=uM;break;case N1:case A1:case C1:ce=Ur;break;case T1:ce=fM;break;case"scroll":case"scrollend":ce=Ve;break;case"wheel":ce=mM;break;case"copy":case"cut":case"paste":ce=af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=a1;break;case"toggle":case"beforetoggle":ce=pM}var Xe=(o&4)!==0,Wt=!Xe&&(a==="scroll"||a==="scrollend"),ee=Xe?oe!==null?oe+"Capture":null:oe;Xe=[];for(var J=ae,re;J!==null;){var ve=J;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||ee===null||(ve=gr(J,ee),ve!=null&&Xe.push(Tu(J,ve,re))),Wt)break;J=J.return}0<Xe.length&&(oe=new ce(oe,tt,null,d,be),we.push({event:oe,listeners:Xe}))}}if((o&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",oe&&d!==El&&(tt=d.relatedTarget||d.fromElement)&&(st(tt)||tt[Re]))break e;if((ce||oe)&&(oe=be.window===be?be:(oe=be.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(tt=d.relatedTarget||d.toElement,ce=ae,tt=tt?st(tt):null,tt!==null&&(Wt=i(tt),Xe=tt.tag,tt!==Wt||Xe!==5&&Xe!==27&&Xe!==6)&&(tt=null)):(ce=null,tt=ae),ce!==tt)){if(Xe=Un,ve="onMouseLeave",ee="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Xe=a1,ve="onPointerLeave",ee="onPointerEnter",J="pointer"),Wt=ce==null?oe:at(ce),re=tt==null?oe:at(tt),oe=new Xe(ve,J+"leave",ce,d,be),oe.target=Wt,oe.relatedTarget=re,ve=null,st(be)===ae&&(Xe=new Xe(ee,J+"enter",tt,d,be),Xe.target=re,Xe.relatedTarget=Wt,ve=Xe),Wt=ve,ce&&tt)t:{for(Xe=ce,ee=tt,J=0,re=Xe;re;re=tc(re))J++;for(re=0,ve=ee;ve;ve=tc(ve))re++;for(;0<J-re;)Xe=tc(Xe),J--;for(;0<re-J;)ee=tc(ee),re--;for(;J--;){if(Xe===ee||ee!==null&&Xe===ee.alternate)break t;Xe=tc(Xe),ee=tc(ee)}Xe=null}else Xe=null;ce!==null&&XE(we,oe,ce,Xe,!1),tt!==null&&Wt!==null&&XE(we,Wt,tt,Xe,!0)}}e:{if(oe=ae?at(ae):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var Be=m1;else if(f1(oe))if(g1)Be=AM;else{Be=_M;var gt=SM}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&Ls(ae.elementType)&&(Be=m1):Be=NM;if(Be&&(Be=Be(a,ae))){h1(we,Be,d,be);break e}gt&&gt(a,oe,ae),a==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&Di(oe,"number",oe.value)}switch(gt=ae?at(ae):window,a){case"focusin":(f1(gt)||gt.contentEditable==="true")&&(Do=gt,Pg=ae,eu=null);break;case"focusout":eu=Pg=Do=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,S1(we,d,be);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":S1(we,d,be)}var We;if(Mg)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ro?u1(a,d)&&(Qe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(l1&&d.locale!=="ko"&&(Ro||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ro&&(We=pa()):(Xs=be,Is="value"in Xs?Xs.value:Xs.textContent,Ro=!0)),gt=Wf(ae,Qe),0<gt.length&&(Qe=new _l(Qe,a,null,d,be),we.push({event:Qe,listeners:gt}),We?Qe.data=We:(We=d1(d),We!==null&&(Qe.data=We)))),(We=yM?vM(a,d):xM(a,d))&&(Qe=Wf(ae,"onBeforeInput"),0<Qe.length&&(gt=new _l("onBeforeInput","beforeinput",null,d,be),we.push({event:gt,listeners:Qe}),gt.data=We)),u2(we,a,ae,d,be)}GE(we,o)})}function Tu(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Wf(a,o){for(var d=o+"Capture",g=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=gr(a,d),y!=null&&g.unshift(Tu(a,y,w)),y=gr(a,o),y!=null&&g.push(Tu(a,y,w))),a.tag===3)return g;a=a.return}return[]}function tc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function XE(a,o,d,g,y){for(var w=o._reactName,k=[];d!==null&&d!==g;){var B=d,$=B.alternate,ae=B.stateNode;if(B=B.tag,$!==null&&$===g)break;B!==5&&B!==26&&B!==27||ae===null||($=ae,y?(ae=gr(d,w),ae!=null&&k.unshift(Tu(d,ae,$))):y||(ae=gr(d,w),ae!=null&&k.push(Tu(d,ae,$)))),d=d.return}k.length!==0&&a.push({event:o,listeners:k})}var m2=/\r\n?/g,g2=/\u0000|\uFFFD/g;function ZE(a){return(typeof a=="string"?a:""+a).replace(m2,`
`).replace(g2,"")}function QE(a,o){return o=ZE(o),ZE(a)===o}function Gf(){}function Vt(a,o,d,g,y,w){switch(d){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||Xn(a,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&Xn(a,""+g);break;case"className":gn(a,"class",g);break;case"tabIndex":gn(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(a,d,g);break;case"style":To(a,g,w);break;case"data":if(o!=="object"){gn(a,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=fa(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(o!=="input"&&Vt(a,o,"name",y.name,y,null),Vt(a,o,"formEncType",y.formEncType,y,null),Vt(a,o,"formMethod",y.formMethod,y,null),Vt(a,o,"formTarget",y.formTarget,y,null)):(Vt(a,o,"encType",y.encType,y,null),Vt(a,o,"method",y.method,y,null),Vt(a,o,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=fa(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Gf);break;case"onScroll":g!=null&&vt("scroll",a);break;case"onScrollEnd":g!=null&&vt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(d=g.__html,d!=null){if(y.children!=null)throw Error(s(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=fa(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":vt("beforetoggle",a),vt("toggle",a),mn(a,"popover",g);break;case"xlinkActuate":Ye(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ye(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ye(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ye(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ye(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ye(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ye(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ye(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ye(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":mn(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Yc.get(d)||d,mn(a,d,g))}}function ob(a,o,d,g,y,w){switch(d){case"style":To(a,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(d=g.__html,d!=null){if(y.children!=null)throw Error(s(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Xn(a,g):(typeof g=="number"||typeof g=="bigint")&&Xn(a,""+g);break;case"onScroll":g!=null&&vt("scroll",a);break;case"onScrollEnd":g!=null&&vt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Q.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),o=d.slice(2,y?d.length-7:void 0),w=a[Se]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof g=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,g,y);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):mn(a,d,g)}}}function is(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",a),vt("load",a);var g=!1,y=!1,w;for(w in d)if(d.hasOwnProperty(w)){var k=d[w];if(k!=null)switch(w){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Vt(a,o,w,k,d,null)}}y&&Vt(a,o,"srcSet",d.srcSet,d,null),g&&Vt(a,o,"src",d.src,d,null);return;case"input":vt("invalid",a);var B=w=k=y=null,$=null,ae=null;for(g in d)if(d.hasOwnProperty(g)){var be=d[g];if(be!=null)switch(g){case"name":y=be;break;case"type":k=be;break;case"checked":$=be;break;case"defaultChecked":ae=be;break;case"value":w=be;break;case"defaultValue":B=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,o));break;default:Vt(a,o,g,be,d,null)}}Ao(a,w,B,$,ae,k,y,!1),hr(a);return;case"select":vt("invalid",a),g=k=w=null;for(y in d)if(d.hasOwnProperty(y)&&(B=d[y],B!=null))switch(y){case"value":w=B;break;case"defaultValue":k=B;break;case"multiple":g=B;default:Vt(a,o,y,B,d,null)}o=w,d=k,a.multiple=!!g,o!=null?si(a,!!g,o,!1):d!=null&&si(a,!!g,d,!0);return;case"textarea":vt("invalid",a),w=y=g=null;for(k in d)if(d.hasOwnProperty(k)&&(B=d[k],B!=null))switch(k){case"value":g=B;break;case"defaultValue":y=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(91));break;default:Vt(a,o,k,B,d,null)}ri(a,g,y,w),hr(a);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(g=d[$],g!=null))switch($){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Vt(a,o,$,g,d,null)}return;case"dialog":vt("beforetoggle",a),vt("toggle",a),vt("cancel",a),vt("close",a);break;case"iframe":case"object":vt("load",a);break;case"video":case"audio":for(g=0;g<Cu.length;g++)vt(Cu[g],a);break;case"image":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"embed":case"source":case"link":vt("error",a),vt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in d)if(d.hasOwnProperty(ae)&&(g=d[ae],g!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Vt(a,o,ae,g,d,null)}return;default:if(Ls(o)){for(be in d)d.hasOwnProperty(be)&&(g=d[be],g!==void 0&&ob(a,o,be,g,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(g=d[B],g!=null&&Vt(a,o,B,g,d,null))}function p2(a,o,d,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,k=null,B=null,$=null,ae=null,be=null;for(ce in d){var we=d[ce];if(d.hasOwnProperty(ce)&&we!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":$=we;default:g.hasOwnProperty(ce)||Vt(a,o,ce,null,g,we)}}for(var oe in g){var ce=g[oe];if(we=d[oe],g.hasOwnProperty(oe)&&(ce!=null||we!=null))switch(oe){case"type":w=ce;break;case"name":y=ce;break;case"checked":ae=ce;break;case"defaultChecked":be=ce;break;case"value":k=ce;break;case"defaultValue":B=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,o));break;default:ce!==we&&Vt(a,o,oe,ce,g,we)}}wl(a,k,B,$,ae,be,w,y);return;case"select":ce=k=B=oe=null;for(w in d)if($=d[w],d.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":ce=$;default:g.hasOwnProperty(w)||Vt(a,o,w,null,g,$)}for(y in g)if(w=g[y],$=d[y],g.hasOwnProperty(y)&&(w!=null||$!=null))switch(y){case"value":oe=w;break;case"defaultValue":B=w;break;case"multiple":k=w;default:w!==$&&Vt(a,o,y,w,g,$)}o=B,d=k,g=ce,oe!=null?si(a,!!d,oe,!1):!!g!=!!d&&(o!=null?si(a,!!d,o,!0):si(a,!!d,d?[]:"",!1));return;case"textarea":ce=oe=null;for(B in d)if(y=d[B],d.hasOwnProperty(B)&&y!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Vt(a,o,B,null,g,y)}for(k in g)if(y=g[k],w=d[k],g.hasOwnProperty(k)&&(y!=null||w!=null))switch(k){case"value":oe=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==w&&Vt(a,o,k,y,g,w)}Co(a,oe,ce);return;case"option":for(var tt in d)if(oe=d[tt],d.hasOwnProperty(tt)&&oe!=null&&!g.hasOwnProperty(tt))switch(tt){case"selected":a.selected=!1;break;default:Vt(a,o,tt,null,g,oe)}for($ in g)if(oe=g[$],ce=d[$],g.hasOwnProperty($)&&oe!==ce&&(oe!=null||ce!=null))switch($){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Vt(a,o,$,oe,g,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in d)oe=d[Xe],d.hasOwnProperty(Xe)&&oe!=null&&!g.hasOwnProperty(Xe)&&Vt(a,o,Xe,null,g,oe);for(ae in g)if(oe=g[ae],ce=d[ae],g.hasOwnProperty(ae)&&oe!==ce&&(oe!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:Vt(a,o,ae,oe,g,ce)}return;default:if(Ls(o)){for(var Wt in d)oe=d[Wt],d.hasOwnProperty(Wt)&&oe!==void 0&&!g.hasOwnProperty(Wt)&&ob(a,o,Wt,void 0,g,oe);for(be in g)oe=g[be],ce=d[be],!g.hasOwnProperty(be)||oe===ce||oe===void 0&&ce===void 0||ob(a,o,be,oe,g,ce);return}}for(var ee in d)oe=d[ee],d.hasOwnProperty(ee)&&oe!=null&&!g.hasOwnProperty(ee)&&Vt(a,o,ee,null,g,oe);for(we in g)oe=g[we],ce=d[we],!g.hasOwnProperty(we)||oe===ce||oe==null&&ce==null||Vt(a,o,we,oe,g,ce)}var cb=null,ub=null;function Yf(a){return a.nodeType===9?a:a.ownerDocument}function KE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function db(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fb=null;function b2(){var a=window.event;return a&&a.type==="popstate"?a===fb?!1:(fb=a,!0):(fb=null,!1)}var eS=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,tS=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof tS<"u"?function(a){return tS.resolve(null).then(a).catch(x2)}:eS;function x2(a){setTimeout(function(){throw a})}function Ma(a){return a==="head"}function nS(a,o){var d=o,g=0,y=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<g&&8>g){d=g;var k=a.ownerDocument;if(d&1&&ju(k.documentElement),d&2&&ju(k.body),d&4)for(d=k.head,ju(d),k=d.firstChild;k;){var B=k.nextSibling,$=k.nodeName;k[Ie]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=B}}if(y===0){a.removeChild(w),Bu(o);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:g=d.charCodeAt(0)-48;else g=0;d=w}while(d);Bu(o)}function hb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":hb(d),Oe(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function w2(a,o,d,g){for(;a.nodeType===1;){var y=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Ie])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=qr(a.nextSibling),a===null)break}return null}function E2(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=qr(a.nextSibling),a===null))return null;return a}function mb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function S2(a,o){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")o();else{var g=function(){o(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function qr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var gb=null;function sS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}function rS(a,o,d){switch(o=Yf(d),a){case"html":if(a=o.documentElement,!a)throw Error(s(452));return a;case"head":if(a=o.head,!a)throw Error(s(453));return a;case"body":if(a=o.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function ju(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Oe(a)}var Er=new Map,iS=new Set;function Xf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wi=z.d;z.d={f:_2,r:N2,D:A2,C:C2,L:T2,m:j2,X:D2,S:R2,M:k2};function _2(){var a=Wi.f(),o=Hf();return a||o}function N2(a){var o=mt(a);o!==null&&o.tag===5&&o.type==="form"?Nw(o):Wi.r(a)}var nc=typeof document>"u"?null:document;function aS(a,o,d){var g=nc;if(g&&typeof o=="string"&&o){var y=fs(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),iS.has(y)||(iS.add(y),a={rel:a,crossOrigin:d,href:o},g.querySelector(y)===null&&(o=g.createElement("link"),is(o,"link",a),et(o),g.head.appendChild(o)))}}function A2(a){Wi.D(a),aS("dns-prefetch",a,null)}function C2(a,o){Wi.C(a,o),aS("preconnect",a,o)}function T2(a,o,d){Wi.L(a,o,d);var g=nc;if(g&&a&&o){var y='link[rel="preload"][as="'+fs(o)+'"]';o==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+fs(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+fs(d.imageSizes)+'"]')):y+='[href="'+fs(a)+'"]';var w=y;switch(o){case"style":w=sc(a);break;case"script":w=rc(a)}Er.has(w)||(a=m({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Er.set(w,a),g.querySelector(y)!==null||o==="style"&&g.querySelector(Ru(w))||o==="script"&&g.querySelector(Du(w))||(o=g.createElement("link"),is(o,"link",a),et(o),g.head.appendChild(o)))}}function j2(a,o){Wi.m(a,o);var d=nc;if(d&&a){var g=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+fs(g)+'"][href="'+fs(a)+'"]',w=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=rc(a)}if(!Er.has(w)&&(a=m({rel:"modulepreload",href:a},o),Er.set(w,a),d.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Du(w)))return}g=d.createElement("link"),is(g,"link",a),et(g),d.head.appendChild(g)}}}function R2(a,o,d){Wi.S(a,o,d);var g=nc;if(g&&a){var y=Ut(g).hoistableStyles,w=sc(a);o=o||"default";var k=y.get(w);if(!k){var B={loading:0,preload:null};if(k=g.querySelector(Ru(w)))B.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Er.get(w))&&pb(a,d);var $=k=g.createElement("link");et($),is($,"link",a),$._p=new Promise(function(ae,be){$.onload=ae,$.onerror=be}),$.addEventListener("load",function(){B.loading|=1}),$.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Zf(k,o,g)}k={type:"stylesheet",instance:k,count:1,state:B},y.set(w,k)}}}function D2(a,o){Wi.X(a,o);var d=nc;if(d&&a){var g=Ut(d).hoistableScripts,y=rc(a),w=g.get(y);w||(w=d.querySelector(Du(y)),w||(a=m({src:a,async:!0},o),(o=Er.get(y))&&bb(a,o),w=d.createElement("script"),et(w),is(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(y,w))}}function k2(a,o){Wi.M(a,o);var d=nc;if(d&&a){var g=Ut(d).hoistableScripts,y=rc(a),w=g.get(y);w||(w=d.querySelector(Du(y)),w||(a=m({src:a,async:!0,type:"module"},o),(o=Er.get(y))&&bb(a,o),w=d.createElement("script"),et(w),is(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(y,w))}}function lS(a,o,d,g){var y=(y=_e.current)?Xf(y):null;if(!y)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=sc(d.href),d=Ut(y).hoistableStyles,g=d.get(o),g||(g={type:"style",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=sc(d.href);var w=Ut(y).hoistableStyles,k=w.get(a);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,k),(w=y.querySelector(Ru(a)))&&!w._p&&(k.instance=w,k.state.loading=5),Er.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Er.set(a,d),w||O2(y,a,d,k.state))),o&&g===null)throw Error(s(528,""));return k}if(o&&g!==null)throw Error(s(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rc(d),d=Ut(y).hoistableScripts,g=d.get(o),g||(g={type:"script",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function sc(a){return'href="'+fs(a)+'"'}function Ru(a){return'link[rel="stylesheet"]['+a+"]"}function oS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function O2(a,o,d,g){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=a.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),is(o,"link",d),et(o),a.head.appendChild(o))}function rc(a){return'[src="'+fs(a)+'"]'}function Du(a){return"script[async]"+a}function cS(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var g=a.querySelector('style[data-href~="'+fs(d.href)+'"]');if(g)return o.instance=g,et(g),g;var y=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),et(g),is(g,"style",y),Zf(g,d.precedence,a),o.instance=g;case"stylesheet":y=sc(d.href);var w=a.querySelector(Ru(y));if(w)return o.state.loading|=4,o.instance=w,et(w),w;g=oS(d),(y=Er.get(y))&&pb(g,y),w=(a.ownerDocument||a).createElement("link"),et(w);var k=w;return k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),is(w,"link",g),o.state.loading|=4,Zf(w,d.precedence,a),o.instance=w;case"script":return w=rc(d.src),(y=a.querySelector(Du(w)))?(o.instance=y,et(y),y):(g=d,(y=Er.get(w))&&(g=m({},d),bb(g,y)),a=a.ownerDocument||a,y=a.createElement("script"),et(y),is(y,"link",g),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,Zf(g,d.precedence,a));return o.instance}function Zf(a,o,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,w=y,k=0;k<g.length;k++){var B=g[k];if(B.dataset.precedence===o)w=B;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function pb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function bb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Qf=null;function uS(a,o,d){if(Qf===null){var g=new Map,y=Qf=new Map;y.set(d,g)}else y=Qf,g=y.get(d),g||(g=new Map,y.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),y=0;y<d.length;y++){var w=d[y];if(!(w[Ie]||w[xe]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(o)||"";k=a+k;var B=g.get(k);B?B.push(w):g.set(k,[w])}}return g}function dS(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function M2(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ku=null;function L2(){}function I2(a,o,d){if(ku===null)throw Error(s(475));var g=ku;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=sc(d.href),w=a.querySelector(Ru(y));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Kf.bind(g),a.then(g,g)),o.state.loading|=4,o.instance=w,et(w);return}w=a.ownerDocument||a,d=oS(d),(y=Er.get(y))&&pb(d,y),w=w.createElement("link"),et(w);var k=w;k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),is(w,"link",d),o.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=Kf.bind(g),a.addEventListener("load",o),a.addEventListener("error",o))}}function B2(){if(ku===null)throw Error(s(475));var a=ku;return a.stylesheets&&a.count===0&&yb(a,a.stylesheets),0<a.count?function(o){var d=setTimeout(function(){if(a.stylesheets&&yb(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Kf(){if(this.count--,this.count===0){if(this.stylesheets)yb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jf=null;function yb(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jf=new Map,o.forEach(P2,a),Jf=null,Kf.call(a))}function P2(a,o){if(!(o.state.loading&4)){var d=Jf.get(a);if(d)var g=d.get(null);else{d=new Map,Jf.set(a,d);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var k=y[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),g=k)}g&&d.set(null,g)}y=o.instance,k=y.getAttribute("data-precedence"),w=d.get(k)||g,w===g&&d.set(null,y),d.set(k,y),this.count++,g=Kf.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Ou={$$typeof:R,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function U2(a,o,d,g,y,w,k,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function hS(a,o,d,g,y,w,k,B,$,ae,be,we){return a=new U2(a,o,d,k,B,$,ae,we),o=1,w===!0&&(o|=24),w=Qs(3,null,null,o),a.current=w,w.stateNode=a,o=Jg(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:o},sp(w),a}function mS(a){return a?(a=Lo,a):Lo}function gS(a,o,d,g,y,w){y=mS(y),g.context===null?g.context=y:g.pendingContext=y,g=wa(o),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=Ea(a,g,o),d!==null&&(nr(d,a,o),cu(d,a,o))}function pS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function vb(a,o){pS(a,o),(a=a.alternate)&&pS(a,o)}function bS(a){if(a.tag===13){var o=Mo(a,67108864);o!==null&&nr(o,a,67108864),vb(a,67108864)}}var eh=!0;function H2(a,o,d,g){var y=j.T;j.T=null;var w=z.p;try{z.p=2,xb(a,o,d,g)}finally{z.p=w,j.T=y}}function z2(a,o,d,g){var y=j.T;j.T=null;var w=z.p;try{z.p=8,xb(a,o,d,g)}finally{z.p=w,j.T=y}}function xb(a,o,d,g){if(eh){var y=wb(g);if(y===null)lb(a,o,g,th,d),vS(a,g);else if(F2(y,a,o,d,g))g.stopPropagation();else if(vS(a,g),o&4&&-1<q2.indexOf(a)){for(;y!==null;){var w=mt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=fn(w.pendingLanes);if(k!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;k;){var $=1<<31-Jt(k);B.entanglements[1]|=$,k&=~$}di(w),(Ht&6)===0&&(Pf=Pt()+500,Au(0))}}break;case 13:B=Mo(w,2),B!==null&&nr(B,w,2),Hf(),vb(w,2)}if(w=wb(g),w===null&&lb(a,o,g,th,d),w===y)break;y=w}y!==null&&g.stopPropagation()}else lb(a,o,g,null,d)}}function wb(a){return a=ha(a),Eb(a)}var th=null;function Eb(a){if(th=null,a=st(a),a!==null){var o=i(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=l(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return th=a,null}function yS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case Es:return 2;case Wn:return 8;case Ce:case je:return 32;case it:return 268435456;default:return 32}default:return 32}}var Sb=!1,La=null,Ia=null,Ba=null,Mu=new Map,Lu=new Map,Pa=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vS(a,o){switch(a){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Mu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(o.pointerId)}}function Iu(a,o,d,g,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[y]},o!==null&&(o=mt(o),o!==null&&bS(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function F2(a,o,d,g,y){switch(o){case"focusin":return La=Iu(La,a,o,d,g,y),!0;case"dragenter":return Ia=Iu(Ia,a,o,d,g,y),!0;case"mouseover":return Ba=Iu(Ba,a,o,d,g,y),!0;case"pointerover":var w=y.pointerId;return Mu.set(w,Iu(Mu.get(w)||null,a,o,d,g,y)),!0;case"gotpointercapture":return w=y.pointerId,Lu.set(w,Iu(Lu.get(w)||null,a,o,d,g,y)),!0}return!1}function xS(a){var o=st(a.target);if(o!==null){var d=i(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){a.blockedOn=o,te(a.priority,function(){if(d.tag===13){var g=tr();g=Yn(g);var y=Mo(d,g);y!==null&&nr(y,d,g),vb(d,g)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function nh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=wb(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);El=g,d.target.dispatchEvent(g),El=null}else return o=mt(d),o!==null&&bS(o),a.blockedOn=d,!1;o.shift()}return!0}function wS(a,o,d){nh(a)&&d.delete(o)}function $2(){Sb=!1,La!==null&&nh(La)&&(La=null),Ia!==null&&nh(Ia)&&(Ia=null),Ba!==null&&nh(Ba)&&(Ba=null),Mu.forEach(wS),Lu.forEach(wS)}function sh(a,o){a.blockedOn===o&&(a.blockedOn=null,Sb||(Sb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$2)))}var rh=null;function ES(a){rh!==a&&(rh=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rh===a&&(rh=null);for(var o=0;o<a.length;o+=3){var d=a[o],g=a[o+1],y=a[o+2];if(typeof g!="function"){if(Eb(g||d)===null)continue;break}var w=mt(d);w!==null&&(a.splice(o,3),o-=3,Ep(w,{pending:!0,data:y,method:d.method,action:g},g,y))}}))}function Bu(a){function o($){return sh($,a)}La!==null&&sh(La,a),Ia!==null&&sh(Ia,a),Ba!==null&&sh(Ba,a),Mu.forEach(o),Lu.forEach(o);for(var d=0;d<Pa.length;d++){var g=Pa[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Pa.length&&(d=Pa[0],d.blockedOn===null);)xS(d),d.blockedOn===null&&Pa.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var y=d[g],w=d[g+1],k=y[Se]||null;if(typeof w=="function")k||ES(d);else if(k){var B=null;if(w&&w.hasAttribute("formAction")){if(y=w,k=w[Se]||null)B=k.formAction;else if(Eb(y)!==null)continue}else B=k.action;typeof B=="function"?d[g+1]=B:(d.splice(g,3),g-=3),ES(d)}}}function _b(a){this._internalRoot=a}ih.prototype.render=_b.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(s(409));var d=o.current,g=tr();gS(d,g,a,o,null,null)},ih.prototype.unmount=_b.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;gS(a.current,2,null,a,null,null),Hf(),o[Re]=null}};function ih(a){this._internalRoot=a}ih.prototype.unstable_scheduleHydration=function(a){if(a){var o=W();a={blockedOn:null,target:a,priority:o};for(var d=0;d<Pa.length&&o!==0&&o<Pa[d].priority;d++);Pa.splice(d,0,a),d===0&&xS(a)}};var SS=e.version;if(SS!=="19.1.1")throw Error(s(527,SS,"19.1.1"));z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=u(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var V2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ot=ah.inject(V2),nt=ah}catch{}}return Uu.createRoot=function(a,o){if(!r(a))throw Error(s(299));var d=!1,g="",y=Uw,w=Hw,k=zw,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=hS(a,1,!1,null,null,d,g,y,w,k,B,null),a[Re]=o.current,ab(a),new _b(o)},Uu.hydrateRoot=function(a,o,d){if(!r(a))throw Error(s(299));var g=!1,y="",w=Uw,k=Hw,B=zw,$=null,ae=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(ae=d.formState)),o=hS(a,1,!0,o,d??null,g,y,w,k,B,$,ae),o.context=mS(null),d=o.current,g=tr(),g=Yn(g),y=wa(g),y.callback=null,Ea(d,y,g),d=g,o.current.lanes=d,An(o,d),di(o),a[Re]=o.current,ab(a),new ih(o)},Uu.version="19.1.1",Uu}var OS;function t5(){if(OS)return Cb.exports;OS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cb.exports=e5(),Cb.exports}var n5=t5();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lj=n=>{throw TypeError(n)},s5=(n,e,t)=>e.has(n)||lj("Cannot "+t),Db=(n,e,t)=>(s5(n,e,"read from private field"),t?t.call(n):e.get(n)),r5=(n,e,t)=>e.has(n)?lj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),MS="popstate";function i5(n={}){function e(s,r){let{pathname:i,search:l,hash:c}=s.location;return xd("",{pathname:i,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:al(r)}return l5(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function On(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a5(){return Math.random().toString(36).substring(2,10)}function LS(n,e){return{usr:n.state,key:n.key,idx:e}}function xd(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:t,key:e&&e.key||s||a5()}}function al({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function l5(n,e,t,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,l=r.history,c="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let E=m(),N=E==null?null:E-h;h=E,u&&u({action:c,location:S.location,delta:N})}function b(E,N){c="PUSH";let A=xd(S.location,E,N);h=m()+1;let R=LS(A,h),T=S.createHref(A);try{l.pushState(R,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(T)}i&&u&&u({action:c,location:S.location,delta:1})}function v(E,N){c="REPLACE";let A=xd(S.location,E,N);h=m();let R=LS(A,h),T=S.createHref(A);l.replaceState(R,"",T),i&&u&&u({action:c,location:S.location,delta:0})}function x(E){return oj(E)}let S={get action(){return c},get location(){return n(r,l)},listen(E){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(MS,p),u=E,()=>{r.removeEventListener(MS,p),u=null}},createHref(E){return e(r,E)},createURL:x,encodeLocation(E){let N=x(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:v,go(E){return l.go(E)}};return S}function oj(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:al(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var nd,IS=class{constructor(n){if(r5(this,nd,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Db(this,nd).has(n))return Db(this,nd).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Db(this,nd).set(n,e)}};nd=new WeakMap;var o5=new Set(["lazy","caseSensitive","path","id","index","children"]);function c5(n){return o5.has(n)}var u5=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function d5(n){return u5.has(n)}function f5(n){return n.index===!0}function wd(n,e,t=[],s={},r=!1){return n.map((i,l)=>{let c=[...t,String(l)],u=typeof i.id=="string"?i.id:c.join("-");if(wt(i.index!==!0||!i.children,"Cannot specify children on an index route"),wt(r||!s[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),f5(i)){let h={...i,...e(i),id:u};return s[u]=h,h}else{let h={...i,...e(i),id:u,children:void 0};return s[u]=h,i.children&&(h.children=wd(i.children,e,c,s,r)),h}})}function Fa(n,e,t="/"){return em(n,e,t,!1)}function em(n,e,t,s){let r=typeof e=="string"?fl(e):e,i=Dr(r.pathname||"/",t);if(i==null)return null;let l=cj(n);m5(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=N5(i);c=S5(l[u],h,s)}return c}function h5(n,e){let{route:t,pathname:s,params:r}=n;return{id:t.id,pathname:s,params:r,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function cj(n,e=[],t=[],s="",r=!1){let i=(l,c,u=r,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&u)return;wt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let p=vi([s,m.relativePath]),b=t.concat(m);l.children&&l.children.length>0&&(wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cj(l.children,e,b,p,u)),!(l.path==null&&!l.index)&&e.push({path:p,score:w5(p,l.index),routesMeta:b})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))i(l,c);else for(let u of uj(l.path))i(l,c,!0,u)}),e}function uj(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let l=uj(s.join("/")),c=[];return c.push(...l.map(u=>u===""?i:[i,u].join("/"))),r&&c.push(...l),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function m5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:E5(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var g5=/^:[\w-]+$/,p5=3,b5=2,y5=1,v5=10,x5=-2,BS=n=>n==="*";function w5(n,e){let t=n.split("/"),s=t.length;return t.some(BS)&&(s+=x5),e&&(s+=b5),t.filter(r=>!BS(r)).reduce((r,i)=>r+(g5.test(i)?p5:i===""?y5:v5),s)}function E5(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function S5(n,e,t=!1){let{routesMeta:s}=n,r={},i="/",l=[];for(let c=0;c<s.length;++c){let u=s[c],h=c===s.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=bm({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),b=u.route;if(!p&&h&&t&&!s[s.length-1].route.index&&(p=bm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(r,p.params),l.push({params:r,pathname:vi([i,p.pathname]),pathnameBase:j5(vi([i,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(i=vi([i,p.pathnameBase]))}return l}function bm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=_5(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:s.reduce((h,{paramName:m,isOptional:p},b)=>{if(m==="*"){let x=c[b]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=c[b];return p&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:n}}function _5(n,e=!1,t=!0){On(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function N5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function A5({basename:n,pathname:e}){return e==="/"?n:vi([n,e])}function C5(n,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?fl(n):n;return{pathname:t?t.startsWith("/")?t:T5(t,e):e,search:R5(s),hash:D5(r)}}function T5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function kb(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rv(n){let e=dj(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dv(n,e,t,s=!1){let r;typeof n=="string"?r=fl(n):(r={...n},wt(!r.pathname||!r.pathname.includes("?"),kb("?","pathname","search",r)),wt(!r.pathname||!r.pathname.includes("#"),kb("#","pathname","hash",r)),wt(!r.search||!r.search.includes("#"),kb("#","search","hash",r)));let i=n===""||r.pathname==="",l=i?"/":r.pathname,c;if(l==null)c=t;else{let p=e.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;r.pathname=b.join("/")}c=p>=0?e[p]:"/"}let u=C5(r,c),h=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var vi=n=>n.join("/").replace(/\/\/+/g,"/"),j5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),R5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,D5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ym=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ed(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var fj=["POST","PUT","PATCH","DELETE"],k5=new Set(fj),O5=["GET",...fj],M5=new Set(O5),L5=new Set([301,302,303,307,308]),I5=new Set([307,308]),Ob={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},P5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kv=n=>P5.test(n),U5=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),hj="remix-router-transitions",mj=Symbol("ResetLoaderData");function H5(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";wt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=n.hydrationRouteProperties||[],r=n.mapRouteProperties||U5,i={},l=wd(n.routes,r,void 0,i),c,u=n.basename||"/";u.startsWith("/")||(u=`/${u}`);let h=n.dataStrategy||V5,m={...n.future},p=null,b=new Set,v=null,x=null,S=null,E=n.hydrationData!=null,N=Fa(l,n.history.location,u),A=!1,R=null,T;if(N==null&&!n.patchRoutesOnNavigation){let W=Nr(404,{pathname:n.history.location.pathname}),{matches:te,route:le}=lh(l);T=!0,N=te,R={[le.id]:W}}else if(N&&!n.hydrationData&&ns(N,l,n.history.location.pathname).active&&(N=null),N)if(N.some(W=>W.route.lazy))T=!1;else if(!N.some(W=>W.route.loader))T=!0;else{let W=n.hydrationData?n.hydrationData.loaderData:null,te=n.hydrationData?n.hydrationData.errors:null;if(te){let le=N.findIndex(xe=>te[xe.route.id]!==void 0);T=N.slice(0,le+1).every(xe=>!By(xe.route,W,te))}else T=N.every(le=>!By(le.route,W,te))}else{T=!1,N=[];let W=ns(null,l,n.history.location.pathname);W.active&&W.matches&&(A=!0,N=W.matches)}let D,M={historyAction:n.history.action,location:n.history.location,matches:N,initialized:T,navigation:Ob,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||R,fetchers:new Map,blockers:new Map},U="POP",I=!1,F,Z=!1,O=new Map,q=null,H=!1,X=!1,V=new Set,j=new Map,z=0,K=-1,ne=new Map,L=new Set,G=new Map,ie=new Map,se=new Set,pe=new Map,he,_e=null;function Ze(){if(p=n.history.listen(({action:W,location:te,delta:le})=>{if(he){he(),he=void 0;return}On(pe.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let xe=Os({currentLocation:M.location,nextLocation:te,historyAction:W});if(xe&&le!=null){let Se=new Promise(Re=>{he=Re});n.history.go(le*-1),Nn(xe,{state:"blocked",location:te,proceed(){Nn(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Se.then(()=>n.history.go(le))},reset(){let Re=new Map(M.blockers);Re.set(xe,Hu),ke({blockers:Re})}});return}return He(W,te)}),t){a4(e,O);let W=()=>l4(e,O);e.addEventListener("pagehide",W),q=()=>e.removeEventListener("pagehide",W)}return M.initialized||He("POP",M.location,{initialHydration:!0}),D}function ge(){p&&p(),q&&q(),b.clear(),F&&F.abort(),M.fetchers.forEach((W,te)=>Jt(te)),M.blockers.forEach((W,te)=>cs(te))}function Te(W){return b.add(W),()=>b.delete(W)}function ke(W,te={}){W.matches&&(W.matches=W.matches.map(Se=>{let Re=i[Se.route.id],Me=Se.route;return Me.element!==Re.element||Me.errorElement!==Re.errorElement||Me.hydrateFallbackElement!==Re.hydrateFallbackElement?{...Se,route:Re}:Se})),M={...M,...W};let le=[],xe=[];M.fetchers.forEach((Se,Re)=>{Se.state==="idle"&&(se.has(Re)?le.push(Re):xe.push(Re))}),se.forEach(Se=>{!M.fetchers.has(Se)&&!j.has(Se)&&le.push(Se)}),[...b].forEach(Se=>Se(M,{deletedFetchers:le,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),le.forEach(Se=>Jt(Se)),xe.forEach(Se=>M.fetchers.delete(Se))}function $e(W,te,{flushSync:le}={}){let xe=M.actionData!=null&&M.navigation.formMethod!=null&&zs(M.navigation.formMethod)&&M.navigation.state==="loading"&&W.state?._isRedirect!==!0,Se;te.actionData?Object.keys(te.actionData).length>0?Se=te.actionData:Se=null:xe?Se=M.actionData:Se=null;let Re=te.loaderData?GS(M.loaderData,te.loaderData,te.matches||[],te.errors):M.loaderData,Me=M.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Ie,Oe)=>Me.set(Oe,Hu)));let Le=H?!1:dr(W,te.matches||M.matches),De=I===!0||M.navigation.formMethod!=null&&zs(M.navigation.formMethod)&&W.state?._isRedirect!==!0;c&&(l=c,c=void 0),H||U==="POP"||(U==="PUSH"?n.history.push(W,W.state):U==="REPLACE"&&n.history.replace(W,W.state));let Fe;if(U==="POP"){let Ie=O.get(M.location.pathname);Ie&&Ie.has(W.pathname)?Fe={currentLocation:M.location,nextLocation:W}:O.has(W.pathname)&&(Fe={currentLocation:W,nextLocation:M.location})}else if(Z){let Ie=O.get(M.location.pathname);Ie?Ie.add(W.pathname):(Ie=new Set([W.pathname]),O.set(M.location.pathname,Ie)),Fe={currentLocation:M.location,nextLocation:W}}ke({...te,actionData:Se,loaderData:Re,historyAction:U,location:W,initialized:!0,navigation:Ob,revalidation:"idle",restoreScrollPosition:Le,preventScrollReset:De,blockers:Me},{viewTransitionOpts:Fe,flushSync:le===!0}),U="POP",I=!1,Z=!1,H=!1,X=!1,_e?.resolve(),_e=null}async function Ue(W,te){if(typeof W=="number"){n.history.go(W);return}let le=Iy(M.location,M.matches,u,W,te?.fromRouteId,te?.relative),{path:xe,submission:Se,error:Re}=PS(!1,le,te),Me=M.location,Le=xd(M.location,xe,te&&te.state);Le={...Le,...n.history.encodeLocation(Le)};let De=te&&te.replace!=null?te.replace:void 0,Fe="PUSH";De===!0?Fe="REPLACE":De===!1||Se!=null&&zs(Se.formMethod)&&Se.formAction===M.location.pathname+M.location.search&&(Fe="REPLACE");let Ie=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Oe=(te&&te.flushSync)===!0,st=Os({currentLocation:Me,nextLocation:Le,historyAction:Fe});if(st){Nn(st,{state:"blocked",location:Le,proceed(){Nn(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Le}),Ue(W,te)},reset(){let mt=new Map(M.blockers);mt.set(st,Hu),ke({blockers:mt})}});return}await He(Fe,Le,{submission:Se,pendingError:Re,preventScrollReset:Ie,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:Oe})}function Ke(){_e||(_e=o4()),ft(),ke({revalidation:"loading"});let W=_e.promise;return M.navigation.state==="submitting"?W:M.navigation.state==="idle"?(He(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),W):(He(U||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:Z===!0}),W)}async function He(W,te,le){F&&F.abort(),F=null,U=W,H=(le&&le.startUninterruptedRevalidation)===!0,An(M.location,M.matches),I=(le&&le.preventScrollReset)===!0,Z=(le&&le.enableViewTransition)===!0;let xe=c||l,Se=le&&le.overrideNavigation,Re=le?.initialHydration&&M.matches&&M.matches.length>0&&!A?M.matches:Fa(xe,te,u),Me=(le&&le.flushSync)===!0;if(Re&&M.initialized&&!X&&J5(M.location,te)&&!(le&&le.submission&&zs(le.submission.formMethod))){$e(te,{matches:Re},{flushSync:Me});return}let Le=ns(Re,xe,te.pathname);if(Le.active&&Le.matches&&(Re=Le.matches),!Re){let{error:Ut,notFoundMatches:et,route:Ae}=hn(te.pathname);$e(te,{matches:et,loaderData:{},errors:{[Ae.id]:Ut}},{flushSync:Me});return}F=new AbortController;let De=oc(n.history,te,F.signal,le&&le.submission),Fe=n.getContext?await n.getContext():new IS,Ie;if(le&&le.pendingError)Ie=[$a(Re).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&zs(le.submission.formMethod)){let Ut=await Bt(De,te,le.submission,Re,Fe,Le.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:Me});if(Ut.shortCircuited)return;if(Ut.pendingActionResult){let[et,Ae]=Ut.pendingActionResult;if(sr(Ae)&&Ed(Ae.error)&&Ae.error.status===404){F=null,$e(te,{matches:Ut.matches,loaderData:{},errors:{[et]:Ae.error}});return}}Re=Ut.matches||Re,Ie=Ut.pendingActionResult,Se=Mb(te,le.submission),Me=!1,Le.active=!1,De=oc(n.history,De.url,De.signal)}let{shortCircuited:Oe,matches:st,loaderData:mt,errors:at}=await Vn(De,te,Re,Fe,Le.active,Se,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,Me,Ie);Oe||(F=null,$e(te,{matches:st||Re,...YS(Ie),loaderData:mt,errors:at}))}async function Bt(W,te,le,xe,Se,Re,Me,Le={}){ft();let De=r4(te,le);if(ke({navigation:De},{flushSync:Le.flushSync===!0}),Re){let Oe=await Rt(xe,te.pathname,W.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:mt,route:at}=lh(l);return{matches:mt,pendingActionResult:[at.id,{type:"error",error:Oe.error}]}}let st=$a(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[st,{type:"error",error:Oe.error}]}}else if(Oe.matches)xe=Oe.matches;else{let{notFoundMatches:st,error:mt,route:at}=hn(te.pathname);return{matches:st,pendingActionResult:[at.id,{type:"error",error:mt}]}}}let Fe,Ie=tm(xe,te);if(!Ie.route.action&&!Ie.route.lazy)Fe={type:"error",error:Nr(405,{method:W.method,pathname:te.pathname,routeId:Ie.route.id})};else{let Oe=pc(r,i,W,xe,Ie,Me?[]:s,Se),st=await it(W,Oe,Se,null);if(Fe=st[Ie.route.id],!Fe){for(let mt of xe)if(st[mt.route.id]){Fe=st[mt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(Gl(Fe)){let Oe;return Le&&Le.replace!=null?Oe=Le.replace:Oe=$S(Fe.response.headers.get("Location"),new URL(W.url),u)===M.location.pathname+M.location.search,await je(W,Fe,!0,{submission:le,replace:Oe}),{shortCircuited:!0}}if(sr(Fe)){let Oe=$a(xe,Ie.route.id);return(Le&&Le.replace)!==!0&&(U="PUSH"),{matches:xe,pendingActionResult:[Oe.route.id,Fe,Ie.route.id]}}return{matches:xe,pendingActionResult:[Ie.route.id,Fe]}}async function Vn(W,te,le,xe,Se,Re,Me,Le,De,Fe,Ie,Oe){let st=Re||Mb(te,Me),mt=Me||Le||ZS(st),at=!H&&!Fe;if(Se){if(at){let rt=Pt(Oe);ke({navigation:st,...rt!==void 0?{actionData:rt}:{}},{flushSync:Ie})}let Ye=await Rt(le,te.pathname,W.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:pn,route:bn}=lh(l);return{matches:pn,loaderData:{},errors:{[bn.id]:Ye.error}}}let rt=$a(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[rt]:Ye.error}}}else if(Ye.matches)le=Ye.matches;else{let{error:rt,notFoundMatches:pn,route:bn}=hn(te.pathname);return{matches:pn,loaderData:{},errors:{[bn.id]:rt}}}}let Ut=c||l,{dsMatches:et,revalidatingFetchers:Ae}=US(W,xe,r,i,n.history,M,le,mt,te,Fe?[]:s,Fe===!0,X,V,se,G,L,Ut,u,n.patchRoutesOnNavigation!=null,Oe);if(K=++z,!n.dataStrategy&&!et.some(Ye=>Ye.shouldLoad)&&!et.some(Ye=>Ye.route.middleware)&&Ae.length===0){let Ye=os();return $e(te,{matches:le,loaderData:{},errors:Oe&&sr(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...YS(Oe),...Ye?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(at){let Ye={};if(!Se){Ye.navigation=st;let rt=Pt(Oe);rt!==void 0&&(Ye.actionData=rt)}Ae.length>0&&(Ye.fetchers=Mn(Ae)),ke(Ye,{flushSync:Ie})}Ae.forEach(Ye=>{Gn(Ye.key),Ye.controller&&j.set(Ye.key,Ye.controller)});let Q=()=>Ae.forEach(Ye=>Gn(Ye.key));F&&F.signal.addEventListener("abort",Q);let{loaderResults:Ee,fetcherResults:Ne}=await pt(et,Ae,W,xe);if(W.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Q),Ae.forEach(Ye=>j.delete(Ye.key));let ct=oh(Ee);if(ct)return await je(W,ct.result,!0,{replace:De}),{shortCircuited:!0};if(ct=oh(Ne),ct)return L.add(ct.key),await je(W,ct.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Gt,errors:Ct}=WS(M,le,Ee,Oe,Ae,Ne);Fe&&M.errors&&(Ct={...M.errors,...Ct});let Ft=os(),mn=dn(K),gn=Ft||mn||Ae.length>0;return{matches:le,loaderData:Gt,errors:Ct,...gn?{fetchers:new Map(M.fetchers)}:{}}}function Pt(W){if(W&&!sr(W[1]))return{[W[0]]:W[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Mn(W){return W.forEach(te=>{let le=M.fetchers.get(te.key),xe=zu(void 0,le?le.data:void 0);M.fetchers.set(te.key,xe)}),new Map(M.fetchers)}async function Es(W,te,le,xe){Gn(W);let Se=(xe&&xe.flushSync)===!0,Re=c||l,Me=Iy(M.location,M.matches,u,le,te,xe?.relative),Le=Fa(Re,Me,u),De=ns(Le,Re,Me);if(De.active&&De.matches&&(Le=De.matches),!Le){nt(W,te,Nr(404,{pathname:Me}),{flushSync:Se});return}let{path:Fe,submission:Ie,error:Oe}=PS(!0,Me,xe);if(Oe){nt(W,te,Oe,{flushSync:Se});return}let st=n.getContext?await n.getContext():new IS,mt=(xe&&xe.preventScrollReset)===!0;if(Ie&&zs(Ie.formMethod)){await Wn(W,te,Fe,Le,st,De.active,Se,mt,Ie);return}G.set(W,{routeId:te,path:Fe}),await Ce(W,te,Fe,Le,st,De.active,Se,mt,Ie)}async function Wn(W,te,le,xe,Se,Re,Me,Le,De){ft(),G.delete(W);let Fe=M.fetchers.get(W);ot(W,i4(De,Fe),{flushSync:Me});let Ie=new AbortController,Oe=oc(n.history,le,Ie.signal,De);if(Re){let Yt=await Rt(xe,new URL(Oe.url).pathname,Oe.signal,W);if(Yt.type==="aborted")return;if(Yt.type==="error"){nt(W,te,Yt.error,{flushSync:Me});return}else if(Yt.matches)xe=Yt.matches;else{nt(W,te,Nr(404,{pathname:le}),{flushSync:Me});return}}let st=tm(xe,le);if(!st.route.action&&!st.route.lazy){let Yt=Nr(405,{method:De.formMethod,pathname:le,routeId:te});nt(W,te,Yt,{flushSync:Me});return}j.set(W,Ie);let mt=z,at=pc(r,i,Oe,xe,st,s,Se),et=(await it(Oe,at,Se,W))[st.route.id];if(Oe.signal.aborted){j.get(W)===Ie&&j.delete(W);return}if(se.has(W)){if(Gl(et)||sr(et)){ot(W,za(void 0));return}}else{if(Gl(et))if(j.delete(W),K>mt){ot(W,za(void 0));return}else return L.add(W),ot(W,zu(De)),je(Oe,et,!1,{fetcherSubmission:De,preventScrollReset:Le});if(sr(et)){nt(W,te,et.error);return}}let Ae=M.navigation.location||M.location,Q=oc(n.history,Ae,Ie.signal),Ee=c||l,Ne=M.navigation.state!=="idle"?Fa(Ee,M.navigation.location,u):M.matches;wt(Ne,"Didn't find any matches after fetcher action");let ct=++z;ne.set(W,ct);let Gt=zu(De,et.data);M.fetchers.set(W,Gt);let{dsMatches:Ct,revalidatingFetchers:Ft}=US(Q,Se,r,i,n.history,M,Ne,De,Ae,s,!1,X,V,se,G,L,Ee,u,n.patchRoutesOnNavigation!=null,[st.route.id,et]);Ft.filter(Yt=>Yt.key!==W).forEach(Yt=>{let fr=Yt.key,ua=M.fetchers.get(fr),da=zu(void 0,ua?ua.data:void 0);M.fetchers.set(fr,da),Gn(fr),Yt.controller&&j.set(fr,Yt.controller)}),ke({fetchers:new Map(M.fetchers)});let mn=()=>Ft.forEach(Yt=>Gn(Yt.key));Ie.signal.addEventListener("abort",mn);let{loaderResults:gn,fetcherResults:Ye}=await pt(Ct,Ft,Q,Se);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",mn),ne.delete(W),j.delete(W),Ft.forEach(Yt=>j.delete(Yt.key)),M.fetchers.has(W)){let Yt=za(et.data);M.fetchers.set(W,Yt)}let rt=oh(gn);if(rt)return je(Q,rt.result,!1,{preventScrollReset:Le});if(rt=oh(Ye),rt)return L.add(rt.key),je(Q,rt.result,!1,{preventScrollReset:Le});let{loaderData:pn,errors:bn}=WS(M,Ne,gn,void 0,Ft,Ye);dn(ct),M.navigation.state==="loading"&&ct>K?(wt(U,"Expected pending action"),F&&F.abort(),$e(M.navigation.location,{matches:Ne,loaderData:pn,errors:bn,fetchers:new Map(M.fetchers)})):(ke({errors:bn,loaderData:GS(M.loaderData,pn,Ne,bn),fetchers:new Map(M.fetchers)}),X=!1)}async function Ce(W,te,le,xe,Se,Re,Me,Le,De){let Fe=M.fetchers.get(W);ot(W,zu(De,Fe?Fe.data:void 0),{flushSync:Me});let Ie=new AbortController,Oe=oc(n.history,le,Ie.signal);if(Re){let Ae=await Rt(xe,new URL(Oe.url).pathname,Oe.signal,W);if(Ae.type==="aborted")return;if(Ae.type==="error"){nt(W,te,Ae.error,{flushSync:Me});return}else if(Ae.matches)xe=Ae.matches;else{nt(W,te,Nr(404,{pathname:le}),{flushSync:Me});return}}let st=tm(xe,le);j.set(W,Ie);let mt=z,at=pc(r,i,Oe,xe,st,s,Se),et=(await it(Oe,at,Se,W))[st.route.id];if(j.get(W)===Ie&&j.delete(W),!Oe.signal.aborted){if(se.has(W)){ot(W,za(void 0));return}if(Gl(et))if(K>mt){ot(W,za(void 0));return}else{L.add(W),await je(Oe,et,!1,{preventScrollReset:Le});return}if(sr(et)){nt(W,te,et.error);return}ot(W,za(et.data))}}async function je(W,te,le,{submission:xe,fetcherSubmission:Se,preventScrollReset:Re,replace:Me}={}){te.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Le=te.response.headers.get("Location");wt(Le,"Expected a Location header on the redirect Response"),Le=$S(Le,new URL(W.url),u);let De=xd(M.location,Le,{_isRedirect:!0});if(t){let at=!1;if(te.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(kv(Le)){const Ut=oj(Le,!0);at=Ut.origin!==e.location.origin||Dr(Ut.pathname,u)==null}if(at){Me?e.location.replace(Le):e.location.assign(Le);return}}F=null;let Fe=Me===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Oe,formEncType:st}=M.navigation;!xe&&!Se&&Ie&&Oe&&st&&(xe=ZS(M.navigation));let mt=xe||Se;if(I5.has(te.response.status)&&mt&&zs(mt.formMethod))await He(Fe,De,{submission:{...mt,formAction:Le},preventScrollReset:Re||I,enableViewTransition:le?Z:void 0});else{let at=Mb(De,xe);await He(Fe,De,{overrideNavigation:at,fetcherSubmission:Se,preventScrollReset:Re||I,enableViewTransition:le?Z:void 0})}}async function it(W,te,le,xe){let Se,Re={};try{Se=await G5(h,W,te,xe,le,!1)}catch(Me){return te.filter(Le=>Le.shouldLoad).forEach(Le=>{Re[Le.route.id]={type:"error",error:Me}}),Re}if(W.signal.aborted)return Re;for(let[Me,Le]of Object.entries(Se))if(n4(Le)){let De=Le.result;Re[Me]={type:"redirect",response:Q5(De,W,Me,te,u)}}else Re[Me]=await Z5(Le);return Re}async function pt(W,te,le,xe){let Se=it(le,W,xe,null),Re=Promise.all(te.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Ie=(await it(De.request,De.matches,xe,De.key))[De.match.route.id];return{[De.key]:Ie}}else return Promise.resolve({[De.key]:{type:"error",error:Nr(404,{pathname:De.path})}})})),Me=await Se,Le=(await Re).reduce((De,Fe)=>Object.assign(De,Fe),{});return{loaderResults:Me,fetcherResults:Le}}function ft(){X=!0,G.forEach((W,te)=>{j.has(te)&&V.add(te),Gn(te)})}function ot(W,te,le={}){M.fetchers.set(W,te),ke({fetchers:new Map(M.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function nt(W,te,le,xe={}){let Se=$a(M.matches,te);Jt(W),ke({errors:{[Se.route.id]:le},fetchers:new Map(M.fetchers)},{flushSync:(xe&&xe.flushSync)===!0})}function un(W){return ie.set(W,(ie.get(W)||0)+1),se.has(W)&&se.delete(W),M.fetchers.get(W)||B5}function Jt(W){let te=M.fetchers.get(W);j.has(W)&&!(te&&te.state==="loading"&&ne.has(W))&&Gn(W),G.delete(W),ne.delete(W),L.delete(W),se.delete(W),V.delete(W),M.fetchers.delete(W)}function Ln(W){let te=(ie.get(W)||0)-1;te<=0?(ie.delete(W),se.add(W)):ie.set(W,te),ke({fetchers:new Map(M.fetchers)})}function Gn(W){let te=j.get(W);te&&(te.abort(),j.delete(W))}function ks(W){for(let te of W){let le=un(te),xe=za(le.data);M.fetchers.set(te,xe)}}function os(){let W=[],te=!1;for(let le of L){let xe=M.fetchers.get(le);wt(xe,`Expected fetcher: ${le}`),xe.state==="loading"&&(L.delete(le),W.push(le),te=!0)}return ks(W),te}function dn(W){let te=[];for(let[le,xe]of ne)if(xe<W){let Se=M.fetchers.get(le);wt(Se,`Expected fetcher: ${le}`),Se.state==="loading"&&(Gn(le),ne.delete(le),te.push(le))}return ks(te),te.length>0}function fn(W,te){let le=M.blockers.get(W)||Hu;return pe.get(W)!==te&&pe.set(W,te),le}function cs(W){M.blockers.delete(W),pe.delete(W)}function Nn(W,te){let le=M.blockers.get(W)||Hu;wt(le.state==="unblocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="proceeding"||le.state==="blocked"&&te.state==="unblocked"||le.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${te.state}`);let xe=new Map(M.blockers);xe.set(W,te),ke({blockers:xe})}function Os({currentLocation:W,nextLocation:te,historyAction:le}){if(pe.size===0)return;pe.size>1&&On(!1,"A router only supports one blocker at a time");let xe=Array.from(pe.entries()),[Se,Re]=xe[xe.length-1],Me=M.blockers.get(Se);if(!(Me&&Me.state==="proceeding")&&Re({currentLocation:W,nextLocation:te,historyAction:le}))return Se}function hn(W){let te=Nr(404,{pathname:W}),le=c||l,{matches:xe,route:Se}=lh(le);return{notFoundMatches:xe,route:Se,error:te}}function us(W,te,le){if(v=W,S=te,x=le||null,!E&&M.navigation===Ob){E=!0;let xe=dr(M.location,M.matches);xe!=null&&ke({restoreScrollPosition:xe})}return()=>{v=null,S=null,x=null}}function Ms(W,te){return x&&x(W,te.map(xe=>h5(xe,M.loaderData)))||W.key}function An(W,te){if(v&&S){let le=Ms(W,te);v[le]=S()}}function dr(W,te){if(v){let le=Ms(W,te),xe=v[le];if(typeof xe=="number")return xe}return null}function ns(W,te,le){if(n.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:em(te,le,u,!0)}}else return{active:!0,matches:em(te,le,u,!0)||[]};return{active:!1,matches:null}}async function Rt(W,te,le,xe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:W};let Se=W;for(;;){let Re=c==null,Me=c||l,Le=i;try{await n.patchRoutesOnNavigation({signal:le,path:te,matches:Se,fetcherKey:xe,patch:(Ie,Oe)=>{le.aborted||HS(Ie,Oe,Me,Le,r,!1)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:Se}}finally{Re&&!le.aborted&&(l=[...l])}if(le.aborted)return{type:"aborted"};let De=Fa(Me,te,u);if(De)return{type:"success",matches:De};let Fe=em(Me,te,u,!0);if(!Fe||Se.length===Fe.length&&Se.every((Ie,Oe)=>Ie.route.id===Fe[Oe].route.id))return{type:"success",matches:null};Se=Fe}}function Yn(W){i={},c=wd(W,r,void 0,i)}function Gs(W,te,le=!1){let xe=c==null;HS(W,te,c||l,i,r,le),xe&&(l=[...l],ke({}))}return D={get basename(){return u},get future(){return m},get state(){return M},get routes(){return l},get window(){return e},initialize:Ze,subscribe:Te,enableScrollRestoration:us,navigate:Ue,fetch:Es,revalidate:Ke,createHref:W=>n.history.createHref(W),encodeLocation:W=>n.history.encodeLocation(W),getFetcher:un,deleteFetcher:Ln,dispose:ge,getBlocker:fn,deleteBlocker:cs,patchRoutes:Gs,_internalFetchControllers:j,_internalSetRoutes:Yn,_internalSetStateDoNotUseOrYouWillBreakYourApp(W){ke(W)}},D}function z5(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Iy(n,e,t,s,r,i){let l,c;if(r){l=[];for(let h of e)if(l.push(h),h.route.id===r){c=h;break}}else l=e,c=e[e.length-1];let u=Dv(s||".",Rv(l),Dr(n.pathname,t)||n.pathname,i==="path");if(s==null&&(u.search=n.search,u.hash=n.hash),(s==null||s===""||s===".")&&c){let h=Ov(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(u.search),p=m.getAll("index");m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let b=m.toString();u.search=b?`?${b}`:""}}return t!=="/"&&(u.pathname=A5({basename:t,pathname:u.pathname})),al(u)}function PS(n,e,t){if(!t||!z5(t))return{path:e};if(t.formMethod&&!s4(t.formMethod))return{path:e,error:Nr(405,{method:t.formMethod})};let s=()=>({path:e,error:Nr(400,{type:"invalid-body"})}),i=(t.formMethod||"get").toUpperCase(),l=xj(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!zs(i))return s();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[v,x])=>`${b}${v}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:i,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!zs(i))return s();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:i,formAction:l,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}wt(typeof FormData=="function","FormData is not available in this environment");let c,u;if(t.formData)c=Uy(t.formData),u=t.formData;else if(t.body instanceof FormData)c=Uy(t.body),u=t.body;else if(t.body instanceof URLSearchParams)c=t.body,u=VS(c);else if(t.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(t.body),u=VS(c)}catch{return s()}let h={formMethod:i,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(zs(h.formMethod))return{path:e,submission:h};let m=fl(e);return n&&m.search&&Ov(m.search)&&c.append("index",""),m.search=`?${c}`,{path:al(m),submission:h}}function US(n,e,t,s,r,i,l,c,u,h,m,p,b,v,x,S,E,N,A,R){let T=R?sr(R[1])?R[1].error:R[1].data:void 0,D=r.createURL(i.location),M=r.createURL(u),U;if(m&&i.errors){let H=Object.keys(i.errors)[0];U=l.findIndex(X=>X.route.id===H)}else if(R&&sr(R[1])){let H=R[0];U=l.findIndex(X=>X.route.id===H)-1}let I=R?R[1].statusCode:void 0,F=I&&I>=400,Z={currentUrl:D,currentParams:i.matches[0]?.params||{},nextUrl:M,nextParams:l[0].params,...c,actionResult:T,actionStatus:I},O=l.map((H,X)=>{let{route:V}=H,j=null;if(U!=null&&X>U?j=!1:V.lazy?j=!0:V.loader==null?j=!1:m?j=By(V,i.loaderData,i.errors):q5(i.loaderData,i.matches[X],H)&&(j=!0),j!==null)return Py(t,s,n,H,h,e,j);let z=F?!1:p||D.pathname+D.search===M.pathname+M.search||D.search!==M.search||F5(i.matches[X],H),K={...Z,defaultShouldRevalidate:z},ne=vm(H,K);return Py(t,s,n,H,h,e,ne,K)}),q=[];return x.forEach((H,X)=>{if(m||!l.some(ie=>ie.route.id===H.routeId)||v.has(X))return;let V=i.fetchers.get(X),j=V&&V.state!=="idle"&&V.data===void 0,z=Fa(E,H.path,N);if(!z){if(A&&j)return;q.push({key:X,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(S.has(X))return;let K=tm(z,H.path),ne=new AbortController,L=oc(r,H.path,ne.signal),G=null;if(b.has(X))b.delete(X),G=pc(t,s,L,z,K,h,e);else if(j)p&&(G=pc(t,s,L,z,K,h,e));else{let ie={...Z,defaultShouldRevalidate:F?!1:p};vm(K,ie)&&(G=pc(t,s,L,z,K,h,e,ie))}G&&q.push({key:X,routeId:H.routeId,path:H.path,matches:G,match:K,request:L,controller:ne})}),{dsMatches:O,revalidatingFetchers:q}}function By(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let s=e!=null&&n.id in e,r=t!=null&&t[n.id]!==void 0;return!s&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!s&&!r}function q5(n,e,t){let s=!e||t.route.id!==e.route.id,r=!n.hasOwnProperty(t.route.id);return s||r}function F5(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function vm(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function HS(n,e,t,s,r,i){let l;if(n){let h=s[n];wt(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),l=h.children}else l=t;let c=[],u=[];if(e.forEach(h=>{let m=l.find(p=>gj(h,p));m?u.push({existingRoute:m,newRoute:h}):c.push(h)}),c.length>0){let h=wd(c,r,[n||"_","patch",String(l?.length||"0")],s);l.push(...h)}if(i&&u.length>0)for(let h=0;h<u.length;h++){let{existingRoute:m,newRoute:p}=u[h],b=m,[v]=wd([p],r,[],{},!0);Object.assign(b,{element:v.element?v.element:b.element,errorElement:v.errorElement?v.errorElement:b.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:b.hydrateFallbackElement})}}function gj(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,s)=>e.children?.some(r=>gj(t,r))):!1}var zS=new WeakMap,pj=({key:n,route:e,manifest:t,mapRouteProperties:s})=>{let r=t[e.id];if(wt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let i=r.lazy[n];if(!i)return;let l=zS.get(r);l||(l={},zS.set(r,l));let c=l[n];if(c)return c;let u=(async()=>{let h=c5(n),p=r[n]!==void 0&&n!=="hasErrorBoundary";if(h)On(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),l[n]=Promise.resolve();else if(p)On(!1,`Route "${r.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await i();b!=null&&(Object.assign(r,{[n]:b}),Object.assign(r,s(r)))}typeof r.lazy=="object"&&(r.lazy[n]=void 0,Object.values(r.lazy).every(b=>b===void 0)&&(r.lazy=void 0))})();return l[n]=u,u},qS=new WeakMap;function $5(n,e,t,s,r){let i=t[n.id];if(wt(i,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=qS.get(i);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let p=(async()=>{wt(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),v={};for(let x in b){let S=b[x];if(S===void 0)continue;let E=d5(x),A=i[x]!==void 0&&x!=="hasErrorBoundary";E?On(!E,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?On(!A,`Route "${i.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):v[x]=S}Object.assign(i,v),Object.assign(i,{...s(i),lazy:void 0})})();return qS.set(i,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let l=Object.keys(n.lazy),c=[],u;for(let m of l){if(r&&r.includes(m))continue;let p=pj({key:m,route:n,manifest:t,mapRouteProperties:s});p&&(c.push(p),m===e&&(u=p))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:u}}async function FS(n){let e=n.matches.filter(r=>r.shouldLoad),t={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,i)=>{t[e[i].route.id]=r}),t}async function V5(n){return n.matches.some(e=>e.route.middleware)?bj(n,()=>FS(n)):FS(n)}function bj(n,e){return W5(n,e,s=>s,e4,t);function t(s,r,i){if(i)return Promise.resolve(Object.assign(i.value,{[r]:{type:"error",result:s}}));{let{matches:l}=n,c=Math.min(l.findIndex(h=>h.route.id===r)||0,l.findIndex(h=>h.unstable_shouldCallHandler())||0),u=$a(l,l[c].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:s}})}}}async function W5(n,e,t,s,r){let{matches:i,request:l,params:c,context:u}=n,h=i.flatMap(p=>p.route.middleware?p.route.middleware.map(b=>[p.route.id,b]):[]);return await yj({request:l,params:c,context:u},h,e,t,s,r)}async function yj(n,e,t,s,r,i,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let u=e[l];if(!u)return await t();let[h,m]=u,p,b=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await yj(n,e,t,s,r,i,l+1)},p.value}catch(v){return p={value:await i(v,h,p)},p.value}};try{let v=await m(n,b),x=v!=null?s(v):void 0;return r(x)?x:p?x??p.value:(p={value:await b()},p.value)}catch(v){return await i(v,h,p)}}function vj(n,e,t,s,r){let i=pj({key:"middleware",route:s.route,manifest:e,mapRouteProperties:n}),l=$5(s.route,zs(t.method)?"action":"loader",e,n,r);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Py(n,e,t,s,r,i,l,c=null){let u=!1,h=vj(n,e,t,s,r);return{...s,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(m){return u=!0,c?typeof m=="boolean"?vm(s,{...c,defaultShouldRevalidate:m}):vm(s,c):l},resolve(m){return u||l||m&&!zs(t.method)&&(s.route.lazy||s.route.loader)?Y5({request:t,match:s,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:m,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function pc(n,e,t,s,r,i,l,c=null){return s.map(u=>u.route.id!==r.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:vj(n,e,t,u,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Py(n,e,t,u,i,l,!0,c))}async function G5(n,e,t,s,r,i){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let l={request:e,params:t[0].params,context:r,matches:t},u=await n({...l,fetcherKey:s,runClientMiddleware:h=>{let m=l;return bj(m,()=>h({...m,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return u}async function Y5({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:r,scopedContext:i}){let l,c,u=zs(n.method),h=u?"action":"loader",m=p=>{let b,v=new Promise((E,N)=>b=N);c=()=>b(),n.signal.addEventListener("abort",c);let x=E=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:n,params:e.params,context:i},...E!==void 0?[E]:[]),S=(async()=>{try{return{type:"data",result:await(r?r(N=>x(N)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([S,v])};try{let p=u?e.route.action:e.route.loader;if(t||s)if(p){let b,[v]=await Promise.all([m(p).catch(x=>{b=x}),t,s]);if(b!==void 0)throw b;l=v}else{await t;let b=u?e.route.action:e.route.loader;if(b)[l]=await Promise.all([m(b),s]);else if(h==="action"){let v=new URL(n.url),x=v.pathname+v.search;throw Nr(405,{method:n.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)l=await m(p);else{let b=new URL(n.url),v=b.pathname+b.search;throw Nr(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{c&&n.signal.removeEventListener("abort",c)}return l}async function X5(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function Z5(n){let{result:e,type:t}=n;if(wj(e)){let s;try{s=await X5(e)}catch(r){return{type:"error",error:r}}return t==="error"?{type:"error",error:new ym(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?XS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ym(e.init?.status||500,void 0,e.data),statusCode:Ed(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ed(e)?e.status:void 0}:XS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Q5(n,e,t,s,r){let i=n.headers.get("Location");if(wt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!kv(i)){let l=s.slice(0,s.findIndex(c=>c.route.id===t)+1);i=Iy(new URL(e.url),l,r,i),n.headers.set("Location",i)}return n}function $S(n,e,t){if(kv(n)){let s=n,r=s.startsWith("//")?new URL(e.protocol+s):new URL(s),i=Dr(r.pathname,t)!=null;if(r.origin===e.origin&&i)return r.pathname+r.search+r.hash}return n}function oc(n,e,t,s){let r=n.createURL(xj(e)).toString(),i={signal:t};if(s&&zs(s.formMethod)){let{formMethod:l,formEncType:c}=s;i.method=l.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(s.json)):c==="text/plain"?i.body=s.text:c==="application/x-www-form-urlencoded"&&s.formData?i.body=Uy(s.formData):i.body=s.formData}return new Request(r,i)}function Uy(n){let e=new URLSearchParams;for(let[t,s]of n.entries())e.append(t,typeof s=="string"?s:s.name);return e}function VS(n){let e=new FormData;for(let[t,s]of n.entries())e.append(t,s);return e}function K5(n,e,t,s=!1,r=!1){let i={},l=null,c,u=!1,h={},m=t&&sr(t[1])?t[1].error:void 0;return n.forEach(p=>{if(!(p.route.id in e))return;let b=p.route.id,v=e[b];if(wt(!Gl(v),"Cannot handle redirect results in processLoaderData"),sr(v)){let x=v.error;if(m!==void 0&&(x=m,m=void 0),l=l||{},r)l[b]=x;else{let S=$a(n,b);l[S.route.id]==null&&(l[S.route.id]=x)}s||(i[b]=mj),u||(u=!0,c=Ed(v.error)?v.error.status:500),v.headers&&(h[b]=v.headers)}else i[b]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(c=v.statusCode),v.headers&&(h[b]=v.headers)}),m!==void 0&&t&&(l={[t[0]]:m},t[2]&&(i[t[2]]=void 0)),{loaderData:i,errors:l,statusCode:c||200,loaderHeaders:h}}function WS(n,e,t,s,r,i){let{loaderData:l,errors:c}=K5(e,t,s);return r.filter(u=>!u.matches||u.matches.some(h=>h.shouldLoad)).forEach(u=>{let{key:h,match:m,controller:p}=u;if(p&&p.signal.aborted)return;let b=i[h];if(wt(b,"Did not find corresponding fetcher result"),sr(b)){let v=$a(n.matches,m?.route.id);c&&c[v.route.id]||(c={...c,[v.route.id]:b.error}),n.fetchers.delete(h)}else if(Gl(b))wt(!1,"Unhandled fetcher revalidation redirect");else{let v=za(b.data);n.fetchers.set(h,v)}}),{loaderData:l,errors:c}}function GS(n,e,t,s){let r=Object.entries(e).filter(([,i])=>i!==mj).reduce((i,[l,c])=>(i[l]=c,i),{});for(let i of t){let l=i.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&i.route.loader&&(r[l]=n[l]),s&&s.hasOwnProperty(l))break}return r}function YS(n){return n?sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $a(n,e){return(e?n.slice(0,n.findIndex(s=>s.route.id===e)+1):[...n]).reverse().find(s=>s.route.hasErrorBoundary===!0)||n[0]}function lh(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nr(n,{pathname:e,routeId:t,method:s,type:r,message:i}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(l="Bad Request",s&&e&&t?c=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:r==="invalid-body"&&(c="Unable to encode submission body")):n===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",c=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",s&&e&&t?c=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(c=`Invalid request method "${s.toUpperCase()}"`)),new ym(n||500,l,new Error(c),!0)}function oh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[s,r]=e[t];if(Gl(r))return{key:s,result:r}}}function xj(n){let e=typeof n=="string"?fl(n):n;return al({...e,hash:""})}function J5(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function e4(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&t4(t))}function t4(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function n4(n){return wj(n.result)&&L5.has(n.result.status)}function sr(n){return n.type==="error"}function Gl(n){return(n&&n.type)==="redirect"}function XS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function wj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function s4(n){return M5.has(n.toUpperCase())}function zs(n){return k5.has(n.toUpperCase())}function Ov(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function tm(n,e){let t=typeof e=="string"?fl(e).search:e.search;if(n[n.length-1].route.index&&Ov(t||""))return n[n.length-1];let s=dj(n);return s[s.length-1]}function ZS(n){let{formMethod:e,formAction:t,formEncType:s,text:r,formData:i,json:l}=n;if(!(!e||!t||!s)){if(r!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:e,formAction:t,formEncType:s,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:l,text:void 0}}}function Mb(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function r4(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function i4(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function za(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function a4(n,e){try{let t=n.sessionStorage.getItem(hj);if(t){let s=JSON.parse(t);for(let[r,i]of Object.entries(s||{}))i&&Array.isArray(i)&&e.set(r,new Set(i||[]))}}catch{}}function l4(n,e){if(e.size>0){let t={};for(let[s,r]of e)t[s]=[...r];try{n.sessionStorage.setItem(hj,JSON.stringify(t))}catch(s){On(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function o4(){let n,e,t=new Promise((s,r)=>{n=async i=>{s(i);try{await t}catch{}},e=async i=>{r(i);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var fo=_.createContext(null);fo.displayName="DataRouter";var Ud=_.createContext(null);Ud.displayName="DataRouterState";_.createContext(!1);var Mv=_.createContext({isTransitioning:!1});Mv.displayName="ViewTransition";var Ej=_.createContext(new Map);Ej.displayName="Fetchers";var c4=_.createContext(null);c4.displayName="Await";var Ni=_.createContext(null);Ni.displayName="Navigation";var Km=_.createContext(null);Km.displayName="Location";var Ai=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Lv=_.createContext(null);Lv.displayName="RouteError";function u4(n,{relative:e}={}){wt(Hd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=_.useContext(Ni),{hash:r,pathname:i,search:l}=zd(n,{relative:e}),c=i;return t!=="/"&&(c=i==="/"?t:vi([t,i])),s.createHref({pathname:c,search:l,hash:r})}function Hd(){return _.useContext(Km)!=null}function or(){return wt(Hd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Km).location}var Sj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _j(n){_.useContext(Ni).static||_.useLayoutEffect(n)}function _t(){let{isDataRoute:n}=_.useContext(Ai);return n?S4():d4()}function d4(){wt(Hd(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(fo),{basename:e,navigator:t}=_.useContext(Ni),{matches:s}=_.useContext(Ai),{pathname:r}=or(),i=JSON.stringify(Rv(s)),l=_.useRef(!1);return _j(()=>{l.current=!0}),_.useCallback((u,h={})=>{if(On(l.current,Sj),!l.current)return;if(typeof u=="number"){t.go(u);return}let m=Dv(u,JSON.parse(i),r,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vi([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,i,r,n])}_.createContext(null);function cr(){let{matches:n}=_.useContext(Ai),e=n[n.length-1];return e?e.params:{}}function zd(n,{relative:e}={}){let{matches:t}=_.useContext(Ai),{pathname:s}=or(),r=JSON.stringify(Rv(t));return _.useMemo(()=>Dv(n,JSON.parse(r),s,e==="path"),[n,r,s,e])}function f4(n,e,t,s,r){wt(Hd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Ni),{matches:l}=_.useContext(Ai),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let A=p&&p.path||"";Nj(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=or(),v;v=b;let x=v.pathname||"/",S=x;if(m!=="/"){let A=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Fa(n,{pathname:S});return On(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),On(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),b4(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:vi([m,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:vi([m,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,t,s,r)}function h4(){let n=E4(),e=Ed(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:r},t):null,l)}var m4=_.createElement(h4,null),g4=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?_.createElement(Ai.Provider,{value:this.props.routeContext},_.createElement(Lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p4({routeContext:n,match:e,children:t}){let s=_.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Ai.Provider,{value:n},t)}function b4(n,e=[],t=null,s=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,l=t?.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:b}=t,v=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,p)=>{let b,v=!1,x=null,S=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||m4,c&&(u<0&&p===0?(Nj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===p&&(v=!0,S=m.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),N=()=>{let A;return b?A=x:v?A=S:m.route.Component?A=_.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,_.createElement(p4,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:t!=null},children:A})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?_.createElement(g4,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:s}):N()},null)}function Iv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y4(n){let e=_.useContext(fo);return wt(e,Iv(n)),e}function v4(n){let e=_.useContext(Ud);return wt(e,Iv(n)),e}function x4(n){let e=_.useContext(Ai);return wt(e,Iv(n)),e}function Bv(n){let e=x4(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function w4(){return Bv("useRouteId")}function E4(){let n=_.useContext(Lv),e=v4("useRouteError"),t=Bv("useRouteError");return n!==void 0?n:e.errors?.[t]}function S4(){let{router:n}=y4("useNavigate"),e=Bv("useNavigate"),t=_.useRef(!1);return _j(()=>{t.current=!0}),_.useCallback(async(r,i={})=>{On(t.current,Sj),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...i}))},[n,e])}var QS={};function Nj(n,e,t){!e&&!QS[n]&&(QS[n]=!0,On(!1,t))}var KS={};function JS(n,e){!n&&!KS[e]&&(KS[e]=!0,console.warn(e))}function _4(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&On(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:_.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&On(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:_.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&On(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:_.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var N4=["HydrateFallback","hydrateFallbackElement"],A4=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function C4({router:n,flushSync:e,unstable_onError:t}){let[s,r]=_.useState(n.state),[i,l]=_.useState(),[c,u]=_.useState({isTransitioning:!1}),[h,m]=_.useState(),[p,b]=_.useState(),[v,x]=_.useState(),S=_.useRef(new Map),E=_.useCallback(D=>{r(M=>(D.errors&&t&&Object.entries(D.errors).forEach(([U,I])=>{M.errors?.[U]!==I&&t(I)}),D))},[t]),N=_.useCallback((D,{deletedFetchers:M,flushSync:U,viewTransitionOpts:I})=>{D.fetchers.forEach((Z,O)=>{Z.data!==void 0&&S.current.set(O,Z.data)}),M.forEach(Z=>S.current.delete(Z)),JS(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let F=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(JS(I==null||F,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!F){e&&U?e(()=>E(D)):_.startTransition(()=>E(D));return}if(e&&U){e(()=>{p&&(h&&h.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let Z=n.window.document.startViewTransition(()=>{e(()=>E(D))});Z.finished.finally(()=>{e(()=>{m(void 0),b(void 0),l(void 0),u({isTransitioning:!1})})}),e(()=>b(Z));return}p?(h&&h.resolve(),p.skipTransition(),x({state:D,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(l(D),u({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,e,p,h,E]);_.useLayoutEffect(()=>n.subscribe(N),[n,N]),_.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new A4)},[c]),_.useEffect(()=>{if(h&&i&&n.window){let D=i,M=h.promise,U=n.window.document.startViewTransition(async()=>{_.startTransition(()=>E(D)),await M});U.finished.finally(()=>{m(void 0),b(void 0),l(void 0),u({isTransitioning:!1})}),b(U)}},[i,h,n.window,E]),_.useEffect(()=>{h&&i&&s.location.key===i.location.key&&h.resolve()},[h,p,s.location,i]),_.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),x(void 0))},[c.isTransitioning,v]);let A=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,M,U)=>n.navigate(D,{state:M,preventScrollReset:U?.preventScrollReset}),replace:(D,M,U)=>n.navigate(D,{replace:!0,state:M,preventScrollReset:U?.preventScrollReset})}),[n]),R=n.basename||"/",T=_.useMemo(()=>({router:n,navigator:A,static:!1,basename:R,unstable_onError:t}),[n,A,R,t]);return _.createElement(_.Fragment,null,_.createElement(fo.Provider,{value:T},_.createElement(Ud.Provider,{value:s},_.createElement(Ej.Provider,{value:S.current},_.createElement(Mv.Provider,{value:c},_.createElement(R4,{basename:R,location:s.location,navigationType:s.historyAction,navigator:A},_.createElement(T4,{routes:n.routes,future:n.future,state:s,unstable_onError:t})))))),null)}var T4=_.memo(j4);function j4({routes:n,future:e,state:t,unstable_onError:s}){return f4(n,void 0,t,s,e)}function R4({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:i=!1}){wt(!Hd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:r,static:i,future:{}}),[l,r,i]);typeof t=="string"&&(t=fl(t));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:b="default"}=t,v=_.useMemo(()=>{let x=Dr(u,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:b},navigationType:s}},[l,u,h,m,p,b,s]);return On(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(Ni.Provider,{value:c},_.createElement(Km.Provider,{children:e,value:v}))}var nm="get",sm="application/x-www-form-urlencoded";function Jm(n){return n!=null&&typeof n.tagName=="string"}function D4(n){return Jm(n)&&n.tagName.toLowerCase()==="button"}function k4(n){return Jm(n)&&n.tagName.toLowerCase()==="form"}function O4(n){return Jm(n)&&n.tagName.toLowerCase()==="input"}function M4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L4(n,e){return n.button===0&&(!e||e==="_self")&&!M4(n)}function Hy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(r=>[t,r]):[[t,s]])},[]))}function I4(n,e){let t=Hy(n);return e&&e.forEach((s,r)=>{t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)})}),t}var ch=null;function B4(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var P4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lb(n){return n!=null&&!P4.has(n)?(On(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):n}function U4(n,e){let t,s,r,i,l;if(k4(n)){let c=n.getAttribute("action");s=c?Dr(c,e):null,t=n.getAttribute("method")||nm,r=Lb(n.getAttribute("enctype"))||sm,i=new FormData(n)}else if(D4(n)||O4(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(s=u?Dr(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||nm,r=Lb(n.getAttribute("formenctype"))||Lb(c.getAttribute("enctype"))||sm,i=new FormData(c,n),!B4()){let{name:h,type:m,value:p}=n;if(m==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,p)}}else{if(Jm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nm,s=null,r=sm,l=n}return i&&r==="text/plain"&&(l=i,i=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function H4(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function z4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function F4(n,e,t){let s=await Promise.all(n.map(async r=>{let i=e.routes[r.route.id];if(i){let l=await z4(i,t);return l.links?l.links():[]}return[]}));return G4(s.flat(1).filter(q4).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function e_(n,e,t,s,r,i){let l=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{let m=s.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $4(n,e,{includeHydrateFallback:t}={}){return V4(n.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function V4(n){return[...new Set(n)]}function W4(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function G4(n,e){let t=new Set;return new Set(e),n.reduce((s,r)=>{let i=JSON.stringify(W4(r));return t.has(i)||(t.add(i),s.push({key:i,link:r})),s},[])}function Aj(){let n=_.useContext(fo);return Pv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Y4(){let n=_.useContext(Ud);return Pv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uv=_.createContext(void 0);Uv.displayName="FrameworkContext";function Cj(){let n=_.useContext(Uv);return Pv(n,"You must render this element inside a <HydratedRouter> element"),n}function X4(n,e){let t=_.useContext(Uv),[s,r]=_.useState(!1),[i,l]=_.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=e,b=_.useRef(null);_.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=N=>{N.forEach(A=>{l(A.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[n]),_.useEffect(()=>{if(s){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?n!=="intent"?[i,b,{}]:[i,b,{onFocus:qu(c,v),onBlur:qu(u,x),onMouseEnter:qu(h,v),onMouseLeave:qu(m,x),onTouchStart:qu(p,v)}]:[!1,b,{}]}function qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Z4({page:n,...e}){let{router:t}=Aj(),s=_.useMemo(()=>Fa(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?_.createElement(K4,{page:n,matches:s,...e}):null}function Q4(n){let{manifest:e,routeModules:t}=Cj(),[s,r]=_.useState([]);return _.useEffect(()=>{let i=!1;return F4(n,e,t).then(l=>{i||r(l)}),()=>{i=!0}},[n,e,t]),s}function K4({page:n,matches:e,...t}){let s=or(),{manifest:r,routeModules:i}=Cj(),{basename:l}=Aj(),{loaderData:c,matches:u}=Y4(),h=_.useMemo(()=>e_(n,e,u,r,s,"data"),[n,e,u,r,s]),m=_.useMemo(()=>e_(n,e,u,r,s,"assets"),[n,e,u,r,s]),p=_.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let x=new Set,S=!1;if(e.forEach(N=>{let A=r.routes[N.route.id];!A||!A.hasLoader||(!h.some(R=>R.route.id===N.route.id)&&N.route.id in c&&i[N.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:x.add(N.route.id))}),x.size===0)return[];let E=H4(n,l,"data");return S&&x.size>0&&E.searchParams.set("_routes",e.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[E.pathname+E.search]},[l,c,s,r,h,e,n,i]),b=_.useMemo(()=>$4(m,r),[m,r]),v=Q4(m);return _.createElement(_.Fragment,null,p.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:S})=>_.createElement("link",{key:x,nonce:t.nonce,...S})))}function J4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tj&&(window.__reactRouterVersion="7.9.1")}catch{}function eL(n,e){return H5({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:i5({window:e?.window}),hydrationData:tL(),routes:n,mapRouteProperties:_4,hydrationRouteProperties:N4,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function tL(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nL(n.errors)}),n}function nL(n){if(!n)return null;let e=Object.entries(n),t={};for(let[s,r]of e)if(r&&r.__type==="RouteErrorResponse")t[s]=new ym(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let l=new i(r.message);l.stack="",t[s]=l}catch{}}if(t[s]==null){let i=new Error(r.message);i.stack="",t[s]=i}}else t[s]=r;return t}var jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=_.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:i,replace:l,state:c,target:u,to:h,preventScrollReset:m,viewTransition:p,...b},v){let{basename:x}=_.useContext(Ni),S=typeof h=="string"&&jj.test(h),E,N=!1;if(typeof h=="string"&&S&&(E=h,Tj))try{let F=new URL(window.location.href),Z=h.startsWith("//")?new URL(F.protocol+h):new URL(h),O=Dr(Z.pathname,x);Z.origin===F.origin&&O!=null?h=O+Z.search+Z.hash:N=!0}catch{On(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=u4(h,{relative:r}),[R,T,D]=X4(s,b),M=aL(h,{replace:l,state:c,target:u,preventScrollReset:m,relative:r,viewTransition:p});function U(F){e&&e(F),F.defaultPrevented||M(F)}let I=_.createElement("a",{...b,...D,href:E||A,onClick:N||i?e:U,ref:J4(v,T),target:u,"data-discover":!S&&t==="render"?"true":void 0});return R&&!S?_.createElement(_.Fragment,null,I,_.createElement(Z4,{page:A})):I});Ot.displayName="Link";var sL=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:i,to:l,viewTransition:c,children:u,...h},m){let p=zd(l,{relative:h.relative}),b=or(),v=_.useContext(Ud),{navigator:x,basename:S}=_.useContext(Ni),E=v!=null&&dL(p)&&c===!0,N=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,A=b.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(A=A.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&S&&(R=Dr(R,S)||R);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=A===N||!r&&A.startsWith(N)&&A.charAt(T)==="/",M=R!=null&&(R===N||!r&&R.startsWith(N)&&R.charAt(N.length)==="/"),U={isActive:D,isPending:M,isTransitioning:E},I=D?e:void 0,F;typeof s=="function"?F=s(U):F=[s,D?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Z=typeof i=="function"?i(U):i;return _.createElement(Ot,{...h,"aria-current":I,className:F,ref:m,style:Z,to:l,viewTransition:c},typeof u=="function"?u(U):u)});sL.displayName="NavLink";var rL=_.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:i,method:l=nm,action:c,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:p,...b},v)=>{let x=cL(),S=uL(c,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&jj.test(c),A=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let T=R.nativeEvent.submitter,D=T?.getAttribute("formmethod")||l;x(T||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:i,relative:h,preventScrollReset:m,viewTransition:p})};return _.createElement("form",{ref:v,method:E,action:S,onSubmit:s?u:A,...b,"data-discover":!N&&n==="render"?"true":void 0})});rL.displayName="Form";function iL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rj(n){let e=_.useContext(fo);return wt(e,iL(n)),e}function aL(n,{target:e,replace:t,state:s,preventScrollReset:r,relative:i,viewTransition:l}={}){let c=_t(),u=or(),h=zd(n,{relative:i});return _.useCallback(m=>{if(L4(m,e)){m.preventDefault();let p=t!==void 0?t:al(u)===al(h);c(n,{replace:p,state:s,preventScrollReset:r,relative:i,viewTransition:l})}},[u,c,h,t,s,e,n,r,i,l])}function Oc(n){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=_.useRef(Hy(n)),t=_.useRef(!1),s=or(),r=_.useMemo(()=>I4(s.search,t.current?null:e.current),[s.search]),i=_t(),l=_.useCallback((c,u)=>{const h=Hy(typeof c=="function"?c(new URLSearchParams(r)):c);t.current=!0,i("?"+h,u)},[i,r]);return[r,l]}var lL=0,oL=()=>`__${String(++lL)}__`;function cL(){let{router:n}=Rj("useSubmit"),{basename:e}=_.useContext(Ni),t=w4();return _.useCallback(async(s,r={})=>{let{action:i,method:l,encType:c,formData:u,body:h}=U4(s,e);if(r.navigate===!1){let m=r.fetcherKey||oL();await n.fetch(m,t,r.action||i,{preventScrollReset:r.preventScrollReset,formData:u,body:h,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:u,body:h,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function uL(n,{relative:e}={}){let{basename:t}=_.useContext(Ni),s=_.useContext(Ai);wt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...zd(n||".",{relative:e})},l=or();if(n==null){i.search=l.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:vi([t,i.pathname])),al(i)}function dL(n,{relative:e}={}){let t=_.useContext(Mv);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rj("useViewTransitionState"),r=zd(n,{relative:e});if(!t.isTransitioning)return!1;let i=Dr(t.currentLocation.pathname,s)||t.currentLocation.pathname,l=Dr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return bm(r.pathname,l)!=null||bm(r.pathname,i)!=null}var _c=aj();function fL(n){return _.createElement(C4,{flushSync:_c.flushSync,...n})}const t_=n=>{let e;const t=new Set,s=(h,m)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const b=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,b))}},r=()=>e,c={setState:s,getState:r,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(s,r,c);return c},hL=(n=>n?t_(n):t_),mL=n=>n;function gL(n,e=mL){const t=qn.useSyncExternalStore(n.subscribe,qn.useCallback(()=>e(n.getState()),[n,e]),qn.useCallback(()=>e(n.getInitialState()),[n,e]));return qn.useDebugValue(t),t}const n_=n=>{const e=hL(n),t=s=>gL(e,s);return Object.assign(t,e),t},pL=(n=>n?n_(n):n_);function bL(n,e){let t;try{t=n()}catch{return}return{getItem:r=>{var i;const l=u=>u===null?null:JSON.parse(u,void 0),c=(i=t.getItem(r))!=null?i:null;return c instanceof Promise?c.then(l):l(c)},setItem:(r,i)=>t.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>t.removeItem(r)}}const zy=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(s){return zy(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return zy(s)(t)}}}},yL=(n,e)=>(t,s,r)=>{let i={storage:bL(()=>localStorage),partialize:S=>S,version:0,merge:(S,E)=>({...E,...S}),...e},l=!1;const c=new Set,u=new Set;let h=i.storage;if(!h)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...S)},s,r);const m=()=>{const S=i.partialize({...s()});return h.setItem(i.name,{state:S,version:i.version})},p=r.setState;r.setState=(S,E)=>(p(S,E),m());const b=n((...S)=>(t(...S),m()),s,r);r.getInitialState=()=>b;let v;const x=()=>{var S,E;if(!h)return;l=!1,c.forEach(A=>{var R;return A((R=s())!=null?R:b)});const N=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(S=s())!=null?S:b))||void 0;return zy(h.getItem.bind(h))(i.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==i.version){if(i.migrate){const R=i.migrate(A.state,A.version);return R instanceof Promise?R.then(T=>[!0,T]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var R;const[T,D]=A;if(v=i.merge(D,(R=s())!=null?R:b),t(v,!0),T)return m()}).then(()=>{N?.(v,void 0),v=s(),l=!0,u.forEach(A=>A(v))}).catch(A=>{N?.(void 0,A)})};return r.persist={setOptions:S=>{i={...i,...S},S.storage&&(h=S.storage)},clearStorage:()=>{h?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},i.skipHydration||x(),v||b},vL=yL,ws=pL(vL((n,e)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,currentClubId:null,currentClubRole:null,setUser:t=>n({user:t,isAuthenticated:!!t,error:null}),setCurrentClub:(t,s)=>n({currentClubId:t,currentClubRole:s}),clearUser:()=>n({user:null,isAuthenticated:!1,error:null,currentClubId:null,currentClubRole:null}),setLoading:t=>n({isLoading:t}),setError:t=>n({error:t,isLoading:!1}),updateUser:t=>n(s=>({user:s.user?{...s.user,...t}:null})),isLoggedIn:()=>e().isAuthenticated,getUserId:()=>e().user?.id,getUserName:()=>e().user?.name,getCurrentClubId:()=>e().currentClubId,getCurrentClubRole:()=>e().currentClubRole,isClubLeader:()=>e().currentClubRole==="LEADER",isClubManager:()=>e().currentClubRole==="LEADER"||e().currentClubRole==="MANAGER"}),{name:"user-storage",partialize:n=>({user:n.user,isAuthenticated:n.isAuthenticated,currentClubId:n.currentClubId,currentClubRole:n.currentClubRole})}));function Dj(n,e){return function(){return n.apply(e,arguments)}}const{toString:xL}=Object.prototype,{getPrototypeOf:Hv}=Object,{iterator:eg,toStringTag:kj}=Symbol,tg=(n=>e=>{const t=xL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ei=n=>(n=n.toLowerCase(),e=>tg(e)===n),ng=n=>e=>typeof e===n,{isArray:Mc}=Array,Nc=ng("undefined");function qd(n){return n!==null&&!Nc(n)&&n.constructor!==null&&!Nc(n.constructor)&&Vs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Oj=ei("ArrayBuffer");function wL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Oj(n.buffer),e}const EL=ng("string"),Vs=ng("function"),Mj=ng("number"),Fd=n=>n!==null&&typeof n=="object",SL=n=>n===!0||n===!1,rm=n=>{if(tg(n)!=="object")return!1;const e=Hv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kj in n)&&!(eg in n)},_L=n=>{if(!Fd(n)||qd(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},NL=ei("Date"),AL=ei("File"),CL=ei("Blob"),TL=ei("FileList"),jL=n=>Fd(n)&&Vs(n.pipe),RL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Vs(n.append)&&((e=tg(n))==="formdata"||e==="object"&&Vs(n.toString)&&n.toString()==="[object FormData]"))},DL=ei("URLSearchParams"),[kL,OL,ML,LL]=["ReadableStream","Request","Response","Headers"].map(ei),IL=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $d(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,r;if(typeof n!="object"&&(n=[n]),Mc(n))for(s=0,r=n.length;s<r;s++)e.call(null,n[s],s,n);else{if(qd(n))return;const i=t?Object.getOwnPropertyNames(n):Object.keys(n),l=i.length;let c;for(s=0;s<l;s++)c=i[s],e.call(null,n[c],c,n)}}function Lj(n,e){if(qd(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const Yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Ij=n=>!Nc(n)&&n!==Yl;function qy(){const{caseless:n,skipUndefined:e}=Ij(this)&&this||{},t={},s=(r,i)=>{const l=n&&Lj(t,i)||i;rm(t[l])&&rm(r)?t[l]=qy(t[l],r):rm(r)?t[l]=qy({},r):Mc(r)?t[l]=r.slice():(!e||!Nc(r))&&(t[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$d(arguments[r],s);return t}const BL=(n,e,t,{allOwnKeys:s}={})=>($d(e,(r,i)=>{t&&Vs(r)?n[i]=Dj(r,t):n[i]=r},{allOwnKeys:s}),n),PL=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),UL=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},HL=(n,e,t,s)=>{let r,i,l;const c={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)l=r[i],(!s||s(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&Hv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},zL=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},qL=n=>{if(!n)return null;if(Mc(n))return n;let e=n.length;if(!Mj(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},FL=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Hv(Uint8Array)),$L=(n,e)=>{const s=(n&&n[eg]).call(n);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(n,i[0],i[1])}},VL=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},WL=ei("HTMLFormElement"),GL=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),s_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),YL=ei("RegExp"),Bj=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};$d(t,(r,i)=>{let l;(l=e(r,i,n))!==!1&&(s[i]=l||r)}),Object.defineProperties(n,s)},XL=n=>{Bj(n,(e,t)=>{if(Vs(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(Vs(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ZL=(n,e)=>{const t={},s=r=>{r.forEach(i=>{t[i]=!0})};return Mc(n)?s(n):s(String(n).split(e)),t},QL=()=>{},KL=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function JL(n){return!!(n&&Vs(n.append)&&n[kj]==="FormData"&&n[eg])}const e3=n=>{const e=new Array(10),t=(s,r)=>{if(Fd(s)){if(e.indexOf(s)>=0)return;if(qd(s))return s;if(!("toJSON"in s)){e[r]=s;const i=Mc(s)?[]:{};return $d(s,(l,c)=>{const u=t(l,r+1);!Nc(u)&&(i[c]=u)}),e[r]=void 0,i}}return s};return t(n,0)},t3=ei("AsyncFunction"),n3=n=>n&&(Fd(n)||Vs(n))&&Vs(n.then)&&Vs(n.catch),Pj=((n,e)=>n?setImmediate:e?((t,s)=>(Yl.addEventListener("message",({source:r,data:i})=>{r===Yl&&i===t&&s.length&&s.shift()()},!1),r=>{s.push(r),Yl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Vs(Yl.postMessage)),s3=typeof queueMicrotask<"u"?queueMicrotask.bind(Yl):typeof process<"u"&&process.nextTick||Pj,r3=n=>n!=null&&Vs(n[eg]),de={isArray:Mc,isArrayBuffer:Oj,isBuffer:qd,isFormData:RL,isArrayBufferView:wL,isString:EL,isNumber:Mj,isBoolean:SL,isObject:Fd,isPlainObject:rm,isEmptyObject:_L,isReadableStream:kL,isRequest:OL,isResponse:ML,isHeaders:LL,isUndefined:Nc,isDate:NL,isFile:AL,isBlob:CL,isRegExp:YL,isFunction:Vs,isStream:jL,isURLSearchParams:DL,isTypedArray:FL,isFileList:TL,forEach:$d,merge:qy,extend:BL,trim:IL,stripBOM:PL,inherits:UL,toFlatObject:HL,kindOf:tg,kindOfTest:ei,endsWith:zL,toArray:qL,forEachEntry:$L,matchAll:VL,isHTMLForm:WL,hasOwnProperty:s_,hasOwnProp:s_,reduceDescriptors:Bj,freezeMethods:XL,toObjectSet:ZL,toCamelCase:GL,noop:QL,toFiniteNumber:KL,findKey:Lj,global:Yl,isContextDefined:Ij,isSpecCompliantForm:JL,toJSONObject:e3,isAsyncFn:t3,isThenable:n3,setImmediate:Pj,asap:s3,isIterable:r3};function lt(n,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}de.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const Uj=lt.prototype,Hj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Hj[n]={value:n}});Object.defineProperties(lt,Hj);Object.defineProperty(Uj,"isAxiosError",{value:!0});lt.from=(n,e,t,s,r,i)=>{const l=Object.create(Uj);de.toFlatObject(n,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=n&&n.message?n.message:"Error",u=e==null&&n?n.code:e;return lt.call(l,c,u,t,s,r),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",i&&Object.assign(l,i),l};const i3=null;function Fy(n){return de.isPlainObject(n)||de.isArray(n)}function zj(n){return de.endsWith(n,"[]")?n.slice(0,-2):n}function r_(n,e,t){return n?n.concat(e).map(function(r,i){return r=zj(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function a3(n){return de.isArray(n)&&!n.some(Fy)}const l3=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function sg(n,e,t){if(!de.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=de.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,E){return!de.isUndefined(E[S])});const s=t.metaTokens,r=t.visitor||m,i=t.dots,l=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(r))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(de.isDate(x))return x.toISOString();if(de.isBoolean(x))return x.toString();if(!u&&de.isBlob(x))throw new lt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(x)||de.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,S,E){let N=x;if(x&&!E&&typeof x=="object"){if(de.endsWith(S,"{}"))S=s?S:S.slice(0,-2),x=JSON.stringify(x);else if(de.isArray(x)&&a3(x)||(de.isFileList(x)||de.endsWith(S,"[]"))&&(N=de.toArray(x)))return S=zj(S),N.forEach(function(R,T){!(de.isUndefined(R)||R===null)&&e.append(l===!0?r_([S],T,i):l===null?S:S+"[]",h(R))}),!1}return Fy(x)?!0:(e.append(r_(E,S,i),h(x)),!1)}const p=[],b=Object.assign(l3,{defaultVisitor:m,convertValue:h,isVisitable:Fy});function v(x,S){if(!de.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(x),de.forEach(x,function(N,A){(!(de.isUndefined(N)||N===null)&&r.call(e,N,de.isString(A)?A.trim():A,S,b))===!0&&v(N,S?S.concat(A):[A])}),p.pop()}}if(!de.isObject(n))throw new TypeError("data must be an object");return v(n),e}function i_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function zv(n,e){this._pairs=[],n&&sg(n,this,e)}const qj=zv.prototype;qj.append=function(e,t){this._pairs.push([e,t])};qj.toString=function(e){const t=e?function(s){return e.call(this,s,i_)}:i_;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function o3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Fj(n,e,t){if(!e)return n;const s=t&&t.encode||o3;de.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(e,t):i=de.isURLSearchParams(e)?e.toString():new zv(e,t).toString(s),i){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class a_{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(s){s!==null&&e(s)})}}const $j={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c3=typeof URLSearchParams<"u"?URLSearchParams:zv,u3=typeof FormData<"u"?FormData:null,d3=typeof Blob<"u"?Blob:null,f3={isBrowser:!0,classes:{URLSearchParams:c3,FormData:u3,Blob:d3},protocols:["http","https","file","blob","url","data"]},qv=typeof window<"u"&&typeof document<"u",$y=typeof navigator=="object"&&navigator||void 0,h3=qv&&(!$y||["ReactNative","NativeScript","NS"].indexOf($y.product)<0),m3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g3=qv&&window.location.href||"http://localhost",p3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qv,hasStandardBrowserEnv:h3,hasStandardBrowserWebWorkerEnv:m3,navigator:$y,origin:g3},Symbol.toStringTag,{value:"Module"})),bs={...p3,...f3};function b3(n,e){return sg(n,new bs.classes.URLSearchParams,{visitor:function(t,s,r,i){return bs.isNode&&de.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function y3(n){return de.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function v3(n){const e={},t=Object.keys(n);let s;const r=t.length;let i;for(s=0;s<r;s++)i=t[s],e[i]=n[i];return e}function Vj(n){function e(t,s,r,i){let l=t[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=i>=t.length;return l=!l&&de.isArray(r)?r.length:l,u?(de.hasOwnProp(r,l)?r[l]=[r[l],s]:r[l]=s,!c):((!r[l]||!de.isObject(r[l]))&&(r[l]=[]),e(t,s,r[l],i)&&de.isArray(r[l])&&(r[l]=v3(r[l])),!c)}if(de.isFormData(n)&&de.isFunction(n.entries)){const t={};return de.forEachEntry(n,(s,r)=>{e(y3(s),r,t,0)}),t}return null}function x3(n,e,t){if(de.isString(n))try{return(e||JSON.parse)(n),de.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Vd={transitional:$j,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,i=de.isObject(e);if(i&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return r?JSON.stringify(Vj(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return b3(e,this.formSerializer).toString();if((c=de.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return sg(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),x3(e)):e}],transformResponse:[function(e){const t=this.transitional||Vd.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(s&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?lt.from(c,lt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],n=>{Vd.headers[n]={}});const w3=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E3=n=>{const e={};let t,s,r;return n&&n.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),s=l.substring(r+1).trim(),!(!t||e[t]&&w3[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},l_=Symbol("internals");function Fu(n){return n&&String(n).trim().toLowerCase()}function im(n){return n===!1||n==null?n:de.isArray(n)?n.map(im):String(n)}function S3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const _3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ib(n,e,t,s,r){if(de.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!de.isString(e)){if(de.isString(s))return e.indexOf(s)!==-1;if(de.isRegExp(s))return s.test(e)}}function N3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function A3(n,e){const t=de.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(r,i,l){return this[s].call(this,e,r,i,l)},configurable:!0})})}let Ws=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function i(c,u,h){const m=Fu(u);if(!m)throw new Error("header name must be a non-empty string");const p=de.findKey(r,m);(!p||r[p]===void 0||h===!0||h===void 0&&r[p]!==!1)&&(r[p||u]=im(c))}const l=(c,u)=>de.forEach(c,(h,m)=>i(h,m,u));if(de.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(de.isString(e)&&(e=e.trim())&&!_3(e))l(E3(e),t);else if(de.isObject(e)&&de.isIterable(e)){let c={},u,h;for(const m of e){if(!de.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(u=c[h])?de.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}l(c,t)}else e!=null&&i(t,e,s);return this}get(e,t){if(e=Fu(e),e){const s=de.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return S3(r);if(de.isFunction(t))return t.call(this,r,s);if(de.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fu(e),e){const s=de.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Ib(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function i(l){if(l=Fu(l),l){const c=de.findKey(s,l);c&&(!t||Ib(s,s[c],c,t))&&(delete s[c],r=!0)}}return de.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const i=t[s];(!e||Ib(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,s={};return de.forEach(this,(r,i)=>{const l=de.findKey(s,i);if(l){t[l]=im(r),delete t[i];return}const c=e?N3(i):String(i).trim();c!==i&&delete t[i],t[c]=im(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return de.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&de.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[l_]=this[l_]={accessors:{}}).accessors,r=this.prototype;function i(l){const c=Fu(l);s[c]||(A3(r,l),s[c]=!0)}return de.isArray(e)?e.forEach(i):i(e),this}};Ws.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Ws.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});de.freezeMethods(Ws);function Bb(n,e){const t=this||Vd,s=e||t,r=Ws.from(s.headers);let i=s.data;return de.forEach(n,function(c){i=c.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Wj(n){return!!(n&&n.__CANCEL__)}function Lc(n,e,t){lt.call(this,n??"canceled",lt.ERR_CANCELED,e,t),this.name="CanceledError"}de.inherits(Lc,lt,{__CANCEL__:!0});function Gj(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new lt("Request failed with status code "+t.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function C3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function T3(n,e){n=n||10;const t=new Array(n),s=new Array(n);let r=0,i=0,l;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),m=s[i];l||(l=h),t[r]=u,s[r]=h;let p=i,b=0;for(;p!==r;)b+=t[p++],p=p%n;if(r=(r+1)%n,r===i&&(i=(i+1)%n),h-l<e)return;const v=m&&h-m;return v?Math.round(b*1e3/v):void 0}}function j3(n,e){let t=0,s=1e3/e,r,i;const l=(h,m=Date.now())=>{t=m,r=null,i&&(clearTimeout(i),i=null),n(...h)};return[(...h)=>{const m=Date.now(),p=m-t;p>=s?l(h,m):(r=h,i||(i=setTimeout(()=>{i=null,l(r)},s-p)))},()=>r&&l(r)]}const xm=(n,e,t=3)=>{let s=0;const r=T3(50,250);return j3(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,u=l-s,h=r(u),m=l<=c;s=l;const p={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(p)},t)},o_=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},c_=n=>(...e)=>de.asap(()=>n(...e)),R3=bs.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,bs.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,D3=bs.hasStandardBrowserEnv?{write(n,e,t,s,r,i){const l=[n+"="+encodeURIComponent(e)];de.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),de.isString(s)&&l.push("path="+s),de.isString(r)&&l.push("domain="+r),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function O3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Yj(n,e,t){let s=!k3(e);return n&&(s||t==!1)?O3(n,e):e}const u_=n=>n instanceof Ws?{...n}:n;function eo(n,e){e=e||{};const t={};function s(h,m,p,b){return de.isPlainObject(h)&&de.isPlainObject(m)?de.merge.call({caseless:b},h,m):de.isPlainObject(m)?de.merge({},m):de.isArray(m)?m.slice():m}function r(h,m,p,b){if(de.isUndefined(m)){if(!de.isUndefined(h))return s(void 0,h,p,b)}else return s(h,m,p,b)}function i(h,m){if(!de.isUndefined(m))return s(void 0,m)}function l(h,m){if(de.isUndefined(m)){if(!de.isUndefined(h))return s(void 0,h)}else return s(void 0,m)}function c(h,m,p){if(p in e)return s(h,m);if(p in n)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,p)=>r(u_(h),u_(m),p,!0)};return de.forEach(Object.keys({...n,...e}),function(m){const p=u[m]||r,b=p(n[m],e[m],m);de.isUndefined(b)&&p!==c||(t[m]=b)}),t}const Xj=n=>{const e=eo({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:c}=e;if(e.headers=l=Ws.from(l),e.url=Fj(Yj(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),de.isFormData(t)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(de.isFunction(t.getHeaders)){const u=t.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([m,p])=>{h.includes(m.toLowerCase())&&l.set(m,p)})}}if(bs.hasStandardBrowserEnv&&(s&&de.isFunction(s)&&(s=s(e)),s||s!==!1&&R3(e.url))){const u=r&&i&&D3.read(i);u&&l.set(r,u)}return e},M3=typeof XMLHttpRequest<"u",L3=M3&&function(n){return new Promise(function(t,s){const r=Xj(n);let i=r.data;const l=Ws.from(r.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=r,m,p,b,v,x;function S(){v&&v(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function N(){if(!E)return;const R=Ws.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:R,config:n,request:E};Gj(function(U){t(U),S()},function(U){s(U),S()},D),E=null}"onloadend"in E?E.onloadend=N:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(N)},E.onabort=function(){E&&(s(new lt("Request aborted",lt.ECONNABORTED,n,E)),E=null)},E.onerror=function(T){const D=T&&T.message?T.message:"Network Error",M=new lt(D,lt.ERR_NETWORK,n,E);M.event=T||null,s(M),E=null},E.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||$j;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),s(new lt(T,D.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,n,E)),E=null},i===void 0&&l.setContentType(null),"setRequestHeader"in E&&de.forEach(l.toJSON(),function(T,D){E.setRequestHeader(D,T)}),de.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),c&&c!=="json"&&(E.responseType=r.responseType),h&&([b,x]=xm(h,!0),E.addEventListener("progress",b)),u&&E.upload&&([p,v]=xm(u),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(m=R=>{E&&(s(!R||R.type?new Lc(null,n,E):R),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const A=C3(r.url);if(A&&bs.protocols.indexOf(A)===-1){s(new lt("Unsupported protocol "+A+":",lt.ERR_BAD_REQUEST,n));return}E.send(i||null)})},I3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,r;const i=function(h){if(!r){r=!0,c();const m=h instanceof Error?h:this.reason;s.abort(m instanceof lt?m:new Lc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,i(new lt(`timeout ${e} of ms exceeded`,lt.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),n=null)};n.forEach(h=>h.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>de.asap(c),u}},B3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,r;for(;s<t;)r=s+e,yield n.slice(s,r),s=r},P3=async function*(n,e){for await(const t of U3(n))yield*B3(t,e)},U3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},d_=(n,e,t,s)=>{const r=P3(n,e);let i=0,l,c=u=>{l||(l=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:m}=await r.next();if(h){c(),u.close();return}let p=m.byteLength;if(t){let b=i+=p;t(b)}u.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(u){return c(u),r.return()}},{highWaterMark:2})},f_=64*1024,{isFunction:uh}=de,H3=(({Request:n,Response:e})=>({Request:n,Response:e}))(de.global),{ReadableStream:h_,TextEncoder:m_}=de.global,g_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},z3=n=>{n=de.merge.call({skipUndefined:!0},H3,n);const{fetch:e,Request:t,Response:s}=n,r=e?uh(e):typeof fetch=="function",i=uh(t),l=uh(s);if(!r)return!1;const c=r&&uh(h_),u=r&&(typeof m_=="function"?(x=>S=>x.encode(S))(new m_):async x=>new Uint8Array(await new t(x).arrayBuffer())),h=i&&c&&g_(()=>{let x=!1;const S=new t(bs.origin,{body:new h_,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!S}),m=l&&c&&g_(()=>de.isReadableStream(new s("").body)),p={stream:m&&(x=>x.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(S,E)=>{let N=S&&S[x];if(N)return N.call(S);throw new lt(`Response type '${x}' is not supported`,lt.ERR_NOT_SUPPORT,E)})});const b=async x=>{if(x==null)return 0;if(de.isBlob(x))return x.size;if(de.isSpecCompliantForm(x))return(await new t(bs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(de.isArrayBufferView(x)||de.isArrayBuffer(x))return x.byteLength;if(de.isURLSearchParams(x)&&(x=x+""),de.isString(x))return(await u(x)).byteLength},v=async(x,S)=>{const E=de.toFiniteNumber(x.getContentLength());return E??b(S)};return async x=>{let{url:S,method:E,data:N,signal:A,cancelToken:R,timeout:T,onDownloadProgress:D,onUploadProgress:M,responseType:U,headers:I,withCredentials:F="same-origin",fetchOptions:Z}=Xj(x),O=e||fetch;U=U?(U+"").toLowerCase():"text";let q=I3([A,R&&R.toAbortSignal()],T),H=null;const X=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let V;try{if(M&&h&&E!=="get"&&E!=="head"&&(V=await v(I,N))!==0){let G=new t(S,{method:"POST",body:N,duplex:"half"}),ie;if(de.isFormData(N)&&(ie=G.headers.get("content-type"))&&I.setContentType(ie),G.body){const[se,pe]=o_(V,xm(c_(M)));N=d_(G.body,f_,se,pe)}}de.isString(F)||(F=F?"include":"omit");const j=i&&"credentials"in t.prototype,z={...Z,signal:q,method:E.toUpperCase(),headers:I.normalize().toJSON(),body:N,duplex:"half",credentials:j?F:void 0};H=i&&new t(S,z);let K=await(i?O(H,Z):O(S,z));const ne=m&&(U==="stream"||U==="response");if(m&&(D||ne&&X)){const G={};["status","statusText","headers"].forEach(he=>{G[he]=K[he]});const ie=de.toFiniteNumber(K.headers.get("content-length")),[se,pe]=D&&o_(ie,xm(c_(D),!0))||[];K=new s(d_(K.body,f_,se,()=>{pe&&pe(),X&&X()}),G)}U=U||"text";let L=await p[de.findKey(p,U)||"text"](K,x);return!ne&&X&&X(),await new Promise((G,ie)=>{Gj(G,ie,{data:L,headers:Ws.from(K.headers),status:K.status,statusText:K.statusText,config:x,request:H})})}catch(j){throw X&&X(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,x,H),{cause:j.cause||j}):lt.from(j,j&&j.code,x,H)}}},q3=new Map,Zj=n=>{let e=n?n.env:{};const{fetch:t,Request:s,Response:r}=e,i=[s,r,t];let l=i.length,c=l,u,h,m=q3;for(;c--;)u=i[c],h=m.get(u),h===void 0&&m.set(u,h=c?new Map:z3(e)),m=h;return h};Zj();const Vy={http:i3,xhr:L3,fetch:{get:Zj}};de.forEach(Vy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const p_=n=>`- ${n}`,F3=n=>de.isFunction(n)||n===null||n===!1,Qj={getAdapter:(n,e)=>{n=de.isArray(n)?n:[n];const{length:t}=n;let s,r;const i={};for(let l=0;l<t;l++){s=n[l];let c;if(r=s,!F3(s)&&(r=Vy[(c=String(s)).toLowerCase()],r===void 0))throw new lt(`Unknown adapter '${c}'`);if(r&&(de.isFunction(r)||(r=r.get(e))))break;i[c||"#"+l]=r}if(!r){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(p_).join(`
`):" "+p_(l[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Vy};function Pb(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lc(null,n)}function b_(n){return Pb(n),n.headers=Ws.from(n.headers),n.data=Bb.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Qj.getAdapter(n.adapter||Vd.adapter,n)(n).then(function(s){return Pb(n),s.data=Bb.call(n,n.transformResponse,s),s.headers=Ws.from(s.headers),s},function(s){return Wj(s)||(Pb(n),s&&s.response&&(s.response.data=Bb.call(n,n.transformResponse,s.response),s.response.headers=Ws.from(s.response.headers))),Promise.reject(s)})}const Kj="1.12.2",rg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{rg[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const y_={};rg.transitional=function(e,t,s){function r(i,l){return"[Axios v"+Kj+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,c)=>{if(e===!1)throw new lt(r(l," has been removed"+(t?" in "+t:"")),lt.ERR_DEPRECATED);return t&&!y_[l]&&(y_[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,l,c):!0}};rg.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function $3(n,e,t){if(typeof n!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let r=s.length;for(;r-- >0;){const i=s[r],l=e[i];if(l){const c=n[i],u=c===void 0||l(c,i,n);if(u!==!0)throw new lt("option "+i+" must be "+u,lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new lt("Unknown option "+i,lt.ERR_BAD_OPTION)}}const am={assertOptions:$3,validators:rg},fi=am.validators;let Ql=class{constructor(e){this.defaults=e||{},this.interceptors={request:new a_,response:new a_}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=eo(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:i}=t;s!==void 0&&am.assertOptions(s,{silentJSONParsing:fi.transitional(fi.boolean),forcedJSONParsing:fi.transitional(fi.boolean),clarifyTimeoutError:fi.transitional(fi.boolean)},!1),r!=null&&(de.isFunction(r)?t.paramsSerializer={serialize:r}:am.assertOptions(r,{encode:fi.function,serialize:fi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),am.assertOptions(t,{baseUrl:fi.spelling("baseURL"),withXsrfToken:fi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=i&&de.merge(i.common,i[t.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),t.headers=Ws.concat(l,i);const c=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(u=u&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let m,p=0,b;if(!u){const x=[b_.bind(this),void 0];for(x.unshift(...c),x.push(...h),b=x.length,m=Promise.resolve(t);p<b;)m=m.then(x[p++],x[p++]);return m}b=c.length;let v=t;for(;p<b;){const x=c[p++],S=c[p++];try{v=x(v)}catch(E){S.call(this,E);break}}try{m=b_.call(this,v)}catch(x){return Promise.reject(x)}for(p=0,b=h.length;p<b;)m=m.then(h[p++],h[p++]);return m}getUri(e){e=eo(this.defaults,e);const t=Yj(e.baseURL,e.url,e.allowAbsoluteUrls);return Fj(t,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){Ql.prototype[e]=function(t,s){return this.request(eo(s||{},{method:e,url:t,data:(s||{}).data}))}});de.forEach(["post","put","patch"],function(e){function t(s){return function(i,l,c){return this.request(eo(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ql.prototype[e]=t(),Ql.prototype[e+"Form"]=t(!0)});let V3=class Jj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(c=>{s.subscribe(c),i=c}).then(r);return l.cancel=function(){s.unsubscribe(i)},l},e(function(i,l,c){s.reason||(s.reason=new Lc(i,l,c),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jj(function(r){e=r}),cancel:e}}};function W3(n){return function(t){return n.apply(null,t)}}function G3(n){return de.isObject(n)&&n.isAxiosError===!0}const Wy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wy).forEach(([n,e])=>{Wy[e]=n});function eR(n){const e=new Ql(n),t=Dj(Ql.prototype.request,e);return de.extend(t,Ql.prototype,e,{allOwnKeys:!0}),de.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return eR(eo(n,r))},t}const Kt=eR(Vd);Kt.Axios=Ql;Kt.CanceledError=Lc;Kt.CancelToken=V3;Kt.isCancel=Wj;Kt.VERSION=Kj;Kt.toFormData=sg;Kt.AxiosError=lt;Kt.Cancel=Kt.CanceledError;Kt.all=function(e){return Promise.all(e)};Kt.spread=W3;Kt.isAxiosError=G3;Kt.mergeConfig=eo;Kt.AxiosHeaders=Ws;Kt.formToJSON=n=>Vj(de.isHTMLForm(n)?new FormData(n):n);Kt.getAdapter=Qj.getAdapter;Kt.HttpStatusCode=Wy;Kt.default=Kt;const{Axios:iK,AxiosError:aK,CanceledError:lK,isCancel:oK,CancelToken:cK,VERSION:uK,all:dK,Cancel:fK,isAxiosError:hK,spread:mK,toFormData:gK,AxiosHeaders:pK,HttpStatusCode:bK,formToJSON:yK,getAdapter:vK,mergeConfig:xK}=Kt,Y3="http://localhost:8080",Wd=Kt.create({baseURL:Y3,headers:{"Content-Type":"application/json"},withCredentials:!0});Wd.interceptors.response.use(n=>n,n=>{if(n.response?.status===401)return ㅞ,window.location.href="/login",Promise.reject(new Error("인증이 만료되었습니다."));const e=n.response?.data?.message||n.message||"요청에 실패했습니다.",t=new Error(e);return t.status=n.response?.status,t.response=n.response,console.error("API 요청 에러:",{status:n.response?.status,message:e,url:n.config?.url}),Promise.reject(t)});const dt=async(n,e={})=>(await Wd.get(n,e)).data,Dn=async(n,e)=>await Wd.post(n,e),ar=async(n,e)=>await Wd.put(n,e),na=async(n,e)=>await Wd.delete(n,{data:e}),Ei={login:async(n,e)=>(await Dn("/auth/login",{email:n,password:e})).data,registerStep1:async(n,e,t)=>(await Dn("/auth/register/step1",{email:n,password:e,name:t})).data,registerStep2:async(n,e,t,s,r,i)=>(await Dn("/auth/register/step2",{memberId:n,nickname:e,birthDate:t,gender:s,sido:r,sigungu:i})).data,registerStep3:async(n,e)=>(await Dn("/auth/register/step3",{memberId:n,interests:e})).data,verifyEmail:async n=>await dt(`/auth/email/verify?token=${encodeURIComponent(n)}`),checkNickname:async n=>await dt(`/member/check-nickname?nickname=${encodeURIComponent(n)}`),findId:async n=>(await Dn("/auth/find-id",{email:n})).data,forgotPassword:async n=>(await Dn("/auth/forgot-password",{email:n})).data,resetPassword:async(n,e)=>(await Dn("/auth/reset-password",{token:n,newPassword:e})).data,logout:async()=>{try{return(await Dn("/auth/logout",{})).data}catch(n){throw console.error("로그아웃 실패:",n),n}},refreshToken:async n=>(await Dn("/auth/refresh",{refreshToken:n})).data},Ic={getCategoriesHierarchy:async()=>await dt("/categories/hierarchy"),getChildCategories:async()=>await dt("/categories/children")},ea={getPostList:async()=>await dt("/posts/summary"),getPostDetail:async n=>await dt(`/posts/${n}`),createPost:async n=>{try{return(await Dn("/posts",n)).data}catch(e){throw console.error("게시글 등록 실패:",e),new Error("게시글 등록에 실패했습니다.")}},updatePost:async(n,e)=>{try{return(await ar(`/posts/${n}`,e)).data}catch(t){throw console.error("게시글 수정 실패:",t),new Error("게시글 수정에 실패했습니다.")}},deletePost:async n=>{try{return(await na(`/posts/${n}`)).data}catch(e){throw console.error("게시글 삭제 실패:",e),new Error("게시글 삭제에 실패했습니다.")}},toggleLike:async n=>{try{return(await Dn(`/posts/${n}/likes`,{})).data}catch(e){throw console.error("좋아요 처리 실패:",e),new Error("좋아요 처리에 실패했습니다.")}},getLikeStatus:async n=>await dt(`/posts/${n}/likes/status`)},St={getJoinedClubs:async()=>await dt("/clubs/joined"),createClub:async n=>(await Dn("/clubs",n)).data,getClubDetail:async n=>await dt(`/clubs/${n}`),updateClub:async(n,e)=>await ar(`/clubs/${n}`,e),deleteClub:async n=>await na(`/clubs/${n}`),getClubMemberCount:async n=>await dt(`/clubs/${n}/member-count`),getClubMembers:async n=>await dt(`/clubs/${n}/members/summary`),requestJoin:async n=>await Dn(`/clubs/${n}/members/join`),getMyMemberStatus:async n=>await dt(`/clubs/${n}/members/my-status`),getMonthlyAttendance:async n=>await dt(`/clubs/${n}/dashboard/attendance`),getAgeDistribution:async n=>await dt(`/clubs/${n}/dashboard/age`),getGenderRatio:async n=>await dt(`/clubs/${n}/dashboard/gender`),getQuarterlyJoinStats:async n=>await dt(`/clubs/${n}/dashboard/quarterly-join`),searchClubs:async n=>await dt(`/clubs/search?keyword=${encodeURIComponent(n)}`),getRecentClubs:async()=>await dt("/clubs/recent"),getRecentClubsAll:async(n=10,e=null)=>{const t=new URLSearchParams;return t.append("size",n),e&&t.append("cursor",e),await dt(`/clubs/recent/all?${t.toString()}`)},getClubsByCategory:async n=>await dt(`/clubs/category/${n}`),getClubsByCategoryAll:async(n,e=10,t=null)=>{const s=new URLSearchParams;return s.append("size",e),t&&s.append("cursor",t),await dt(`/clubs/category/${n}/all?${s.toString()}`)},recommendByCategory:async()=>await dt("/clubs/recommend/category"),recommendByRegion:async()=>await dt("/clubs/recommend/region"),recommendByCombined:async()=>await dt("/clubs/recommend/combined"),withdrawFromClub:async n=>await na(`/clubs/${n}/members/withdraw`)},to={getProfile:async()=>await dt("/member/profile"),updateProfile:async n=>await ar("/member/profile",n),updateInterests:async n=>await ar("/member/interests",{interests:n}),checkNickname:async n=>await dt(`/member/check-nickname?nickname=${encodeURIComponent(n)}`),updatePassword:async(n,e)=>(await ar("/member/password",{currentPassword:n,newPassword:e})).data,withdrawAccount:async n=>(await na("/member/withdrawal",n?{password:n}:{})).data,getMyActivities:async(n="all")=>(await apiClient.get("/member/activities/posts",{params:{type:n}})).data},dh={getNotifications:async()=>await dt("/notifications"),markAsRead:async n=>{await ar(`/notifications/${n}/read`)},markAllAsRead:async()=>{await ar("/notifications/read-all")},deleteNotification:async n=>{await na(`/notifications/${n}`)}},xi={getPinned:async()=>await dt("/notices/ispinned"),getNoticeList:async()=>await dt("/notices/list"),getNoticesByClubId:async n=>await dt(`/notices/club/${n}`),getNoticeDetail:async n=>await dt(`/notices/${n}`),createNotice:async n=>{try{return(await Dn("/notices",n)).data}catch(e){throw console.error("공지사항 등록 실패:",e),new Error("공지사항 등록에 실패했습니다.")}},updateNotice:async(n,e)=>{try{return(await ar(`/notices/${n}`,e)).data}catch(t){throw console.error("공지사항 수정 실패:",t),new Error("공지사항 수정에 실패했습니다.")}},deleteNotice:async n=>{try{return(await na(`/notices/${n}`)).data}catch(e){throw console.error("공지사항 삭제 실패:",e),new Error("공지사항 삭제에 실패했습니다.")}},togglePin:async n=>{try{return(await ar(`/notices/${n}/pin`,{})).data}catch(e){throw console.error("고정 상태 변경 실패:",e),new Error("고정 상태 변경에 실패했습니다.")}}},Yr={getGalleryList:async n=>await dt("/gallery/list",{params:n?{clubId:n}:{}}),getGallery:async n=>await dt(`/gallery/${n}`),createGallery:async n=>(await Dn("/gallery",n)).data,deleteGallery:async n=>(await na(`/gallery/${n}`)).data,toggleGalleryLike:async n=>(await Dn(`/gallery/${n}/likes`)).data,getGalleryLikeStatus:async n=>await dt(`/gallery/${n}/likes/status`)},X3="http://localhost:8080",fh=Kt.create({baseURL:X3,withCredentials:!0}),Ts={uploadImage:async n=>{const e=new FormData;e.append("file",n);try{return(await fh.post("/file/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("이미지 업로드 실패:",t),new Error("이미지 업로드에 실패했습니다.")}},getFile:async n=>{try{return(await fh.get(`/file/${n}`)).data}catch(e){throw console.error("파일 조회 실패:",e),new Error("파일 조회에 실패했습니다.")}},getFiles:async n=>{if(!n||n.length===0)return[];try{const e=n.map(s=>fh.get(`/file/${s}`));return(await Promise.all(e)).map(s=>s.data)}catch(e){throw console.error("파일 목록 조회 실패:",e),new Error("파일 목록 조회에 실패했습니다.")}},deleteImage:async n=>{try{return(await fh.delete(`/file/${n}`)).data}catch(e){throw console.error("이미지 삭제 실패:",e),new Error("이미지 삭제에 실패했습니다.")}}},Bc={getClubMembers:async n=>await dt(`/clubs/${n}/members`),getWaitingMembers:async n=>await dt(`/clubs/${n}/members/waiting`),updateMemberRole:async(n,e)=>await ar(`/clubs/${n}/members/role`,e),removeMember:async(n,e)=>await ar(`/clubs/${n}/members/remove`,e),approveMember:async(n,e)=>await Dn(`/clubs/${n}/members/approve`,e),rejectMember:async(n,e)=>await Dn(`/clubs/${n}/members/reject`,e)},Sr={getComments:async n=>await dt(`/posts/${n}/comments`),createComment:async(n,e)=>{try{return(await Dn(`/posts/${n}/comments`,e)).data}catch(t){throw console.error("댓글 등록 실패:",t),new Error("댓글 등록에 실패했습니다.")}},updateComment:async(n,e)=>{try{return(await ar(`/comments/${n}`,{content:e})).data}catch(t){throw console.error("댓글 수정 실패:",t),new Error("댓글 수정에 실패했습니다.")}},deleteComment:async n=>{try{return(await na(`/comments/${n}`)).data}catch(e){throw console.error("댓글 삭제 실패:",e),new Error("댓글 삭제에 실패했습니다.")}},toggleCommentLike:async n=>{try{return(await Dn(`/comments/${n}/likes`,{})).data}catch(e){throw console.error("댓글 좋아요 실패:",e),new Error("댓글 좋아요 처리에 실패했습니다.")}},getCommentLikeStatus:async n=>{try{return await dt(`/comments/${n}/likes/status`)}catch(e){throw console.error("댓글 좋아요 상태 조회 실패:",e),new Error("댓글 좋아요 상태 조회에 실패했습니다.")}}},Fv="/assets/logo-xX8HBsvl.png",vn="/assets/default-profile-yxbLtSwC.png";function Z3({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const tR=_.forwardRef(Z3);function Q3({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const K3=_.forwardRef(Q3);function J3({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ig=_.forwardRef(J3);function eI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const v_=_.forwardRef(eI);function tI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"}))}const $v=_.forwardRef(tI);function nI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sI=_.forwardRef(nI);function rI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const x_=_.forwardRef(rI);function iI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const aI=_.forwardRef(iI);function lI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Gy=_.forwardRef(lI);function oI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ag=_.forwardRef(oI);function cI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const uI=_.forwardRef(cI);function dI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const fI=_.forwardRef(dI);function hI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const Vv=_.forwardRef(hI);function mI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const gI=_.forwardRef(mI);function pI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const bI=_.forwardRef(pI);function yI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Wv=_.forwardRef(yI);function vI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const xI=_.forwardRef(vI);function wI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const sa=_.forwardRef(wI);function EI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Pc=_.forwardRef(EI);function SI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const w_=_.forwardRef(SI);function _I({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const NI=_.forwardRef(_I);function AI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const CI=_.forwardRef(AI);function TI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Gv=_.forwardRef(TI);function jI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const E_=_.forwardRef(jI);function RI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const DI=_.forwardRef(RI);function kI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Ac=_.forwardRef(kI);function OI({title:n,titleId:e,...t},s){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const no=_.forwardRef(OI);var Ub={exports:{}},hh={},S_;function MI(){return S_||(S_=1,globalThis.crypto&&globalThis.crypto.getRandomValues?hh.randomBytes=function(n){var e=new Uint8Array(n);return globalThis.crypto.getRandomValues(e),e}:hh.randomBytes=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=Math.floor(Math.random()*256);return e}),hh}var Hb,__;function Uc(){if(__)return Hb;__=1;var n=MI(),e="abcdefghijklmnopqrstuvwxyz012345";return Hb={string:function(t){for(var s=e.length,r=n.randomBytes(t),i=[],l=0;l<t;l++)i.push(e.substr(r[l]%s,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var s=(""+(t-1)).length,r=new Array(s+1).join("0");return(r+this.number(t)).slice(-s)}},Hb}var N_;function hl(){return N_||(N_=1,(function(n){var e=Uc(),t={},s=!1,r=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;n.exports={attachEvent:function(l,c){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(l,c,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+l,c),globalThis.attachEvent("on"+l,c))},detachEvent:function(l,c){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(l,c,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+l,c),globalThis.detachEvent("on"+l,c))},unloadAdd:function(l){if(r)return null;var c=e.string(8);return t[c]=l,s&&setTimeout(this.triggerUnloadCallbacks,0),c},unloadDel:function(l){l in t&&delete t[l]},triggerUnloadCallbacks:function(){for(var l in t)t[l](),delete t[l]}};var i=function(){s||(s=!0,n.exports.triggerUnloadCallbacks())};r||n.exports.attachEvent("unload",i)})(Ub)),Ub.exports}var zb,A_;function LI(){return A_||(A_=1,zb=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),zb}var mh={},C_;function II(){if(C_)return mh;C_=1;var n=Object.prototype.hasOwnProperty,e;function t(l){try{return decodeURIComponent(l.replace(/\+/g," "))}catch{return null}}function s(l){try{return encodeURIComponent(l)}catch{return null}}function r(l){for(var c=/([^=?#&]+)=?([^&]*)/g,u={},h;h=c.exec(l);){var m=t(h[1]),p=t(h[2]);m===null||p===null||m in u||(u[m]=p)}return u}function i(l,c){c=c||"";var u=[],h,m;typeof c!="string"&&(c="?");for(m in l)if(n.call(l,m)){if(h=l[m],!h&&(h===null||h===e||isNaN(h))&&(h=""),m=s(m),h=s(h),m===null||h===null)continue;u.push(m+"="+h)}return u.length?c+u.join("&"):""}return mh.stringify=i,mh.parse=r,mh}var qb,T_;function nR(){if(T_)return qb;T_=1;var n=LI(),e=II(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function u(A){return(A||"").toString().replace(t,"")}var h=[["#","hash"],["?","query"],function(R,T){return b(T.protocol)?R.replace(/\\/g,"/"):R},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function p(A){var R;typeof window<"u"?R=window:typeof globalThis<"u"?R=globalThis:typeof self<"u"?R=self:R={};var T=R.location||{};A=A||T;var D={},M=typeof A,U;if(A.protocol==="blob:")D=new S(unescape(A.pathname),{});else if(M==="string"){D=new S(A,{});for(U in m)delete D[U]}else if(M==="object"){for(U in A)U in m||(D[U]=A[U]);D.slashes===void 0&&(D.slashes=r.test(A.href))}return D}function b(A){return A==="file:"||A==="ftp:"||A==="http:"||A==="https:"||A==="ws:"||A==="wss:"}function v(A,R){A=u(A),A=A.replace(s,""),R=R||{};var T=l.exec(A),D=T[1]?T[1].toLowerCase():"",M=!!T[2],U=!!T[3],I=0,F;return M?U?(F=T[2]+T[3]+T[4],I=T[2].length+T[3].length):(F=T[2]+T[4],I=T[2].length):U?(F=T[3]+T[4],I=T[3].length):F=T[4],D==="file:"?I>=2&&(F=F.slice(2)):b(D)?F=T[4]:D?M&&(F=F.slice(2)):I>=2&&b(R.protocol)&&(F=T[4]),{protocol:D,slashes:M||b(D),slashesCount:I,rest:F}}function x(A,R){if(A==="")return R;for(var T=(R||"/").split("/").slice(0,-1).concat(A.split("/")),D=T.length,M=T[D-1],U=!1,I=0;D--;)T[D]==="."?T.splice(D,1):T[D]===".."?(T.splice(D,1),I++):I&&(D===0&&(U=!0),T.splice(D,1),I--);return U&&T.unshift(""),(M==="."||M==="..")&&T.push(""),T.join("/")}function S(A,R,T){if(A=u(A),A=A.replace(s,""),!(this instanceof S))return new S(A,R,T);var D,M,U,I,F,Z,O=h.slice(),q=typeof R,H=this,X=0;for(q!=="object"&&q!=="string"&&(T=R,R=null),T&&typeof T!="function"&&(T=e.parse),R=p(R),M=v(A||"",R),D=!M.protocol&&!M.slashes,H.slashes=M.slashes||D&&R.slashes,H.protocol=M.protocol||R.protocol||"",A=M.rest,(M.protocol==="file:"&&(M.slashesCount!==2||c.test(A))||!M.slashes&&(M.protocol||M.slashesCount<2||!b(H.protocol)))&&(O[3]=[/(.*)/,"pathname"]);X<O.length;X++){if(I=O[X],typeof I=="function"){A=I(A,H);continue}U=I[0],Z=I[1],U!==U?H[Z]=A:typeof U=="string"?(F=U==="@"?A.lastIndexOf(U):A.indexOf(U),~F&&(typeof I[2]=="number"?(H[Z]=A.slice(0,F),A=A.slice(F+I[2])):(H[Z]=A.slice(F),A=A.slice(0,F)))):(F=U.exec(A))&&(H[Z]=F[1],A=A.slice(0,F.index)),H[Z]=H[Z]||D&&I[3]&&R[Z]||"",I[4]&&(H[Z]=H[Z].toLowerCase())}T&&(H.query=T(H.query)),D&&R.slashes&&H.pathname.charAt(0)!=="/"&&(H.pathname!==""||R.pathname!=="")&&(H.pathname=x(H.pathname,R.pathname)),H.pathname.charAt(0)!=="/"&&b(H.protocol)&&(H.pathname="/"+H.pathname),n(H.port,H.protocol)||(H.host=H.hostname,H.port=""),H.username=H.password="",H.auth&&(F=H.auth.indexOf(":"),~F?(H.username=H.auth.slice(0,F),H.username=encodeURIComponent(decodeURIComponent(H.username)),H.password=H.auth.slice(F+1),H.password=encodeURIComponent(decodeURIComponent(H.password))):H.username=encodeURIComponent(decodeURIComponent(H.auth)),H.auth=H.password?H.username+":"+H.password:H.username),H.origin=H.protocol!=="file:"&&b(H.protocol)&&H.host?H.protocol+"//"+H.host:"null",H.href=H.toString()}function E(A,R,T){var D=this;switch(A){case"query":typeof R=="string"&&R.length&&(R=(T||e.parse)(R)),D[A]=R;break;case"port":D[A]=R,n(R,D.protocol)?R&&(D.host=D.hostname+":"+R):(D.host=D.hostname,D[A]="");break;case"hostname":D[A]=R,D.port&&(R+=":"+D.port),D.host=R;break;case"host":D[A]=R,i.test(R)?(R=R.split(":"),D.port=R.pop(),D.hostname=R.join(":")):(D.hostname=R,D.port="");break;case"protocol":D.protocol=R.toLowerCase(),D.slashes=!T;break;case"pathname":case"hash":if(R){var M=A==="pathname"?"/":"#";D[A]=R.charAt(0)!==M?M+R:R}else D[A]=R;break;case"username":case"password":D[A]=encodeURIComponent(R);break;case"auth":var U=R.indexOf(":");~U?(D.username=R.slice(0,U),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=R.slice(U+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(R))}for(var I=0;I<h.length;I++){var F=h[I];F[4]&&(D[F[1]]=D[F[1]].toLowerCase())}return D.auth=D.password?D.username+":"+D.password:D.username,D.origin=D.protocol!=="file:"&&b(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString(),D}function N(A){(!A||typeof A!="function")&&(A=e.stringify);var R,T=this,D=T.host,M=T.protocol;M&&M.charAt(M.length-1)!==":"&&(M+=":");var U=M+(T.protocol&&T.slashes||b(T.protocol)?"//":"");return T.username?(U+=T.username,T.password&&(U+=":"+T.password),U+="@"):T.password?(U+=":"+T.password,U+="@"):T.protocol!=="file:"&&b(T.protocol)&&!D&&T.pathname!=="/"&&(U+="@"),(D[D.length-1]===":"||i.test(T.hostname)&&!T.port)&&(D+=":"),U+=D+T.pathname,R=typeof T.query=="object"?A(T.query):T.query,R&&(U+=R.charAt(0)!=="?"?"?"+R:R),T.hash&&(U+=T.hash),U}return S.prototype={set:E,toString:N},S.extractProtocol=v,S.location=p,S.trimLeft=u,S.qs=e,qb=S,qb}var Fb,j_;function Lr(){if(j_)return Fb;j_=1;var n=nR();return Fb={getOrigin:function(e){if(!e)return null;var t=new n(e);if(t.protocol==="file:")return null;var s=t.port;return s||(s=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+s},isOriginEqual:function(e,t){var s=this.getOrigin(e)===this.getOrigin(t);return s},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var s=e.split("?");return s[0]+t+(s[1]?"?"+s[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Fb}var gh={exports:{}},R_;function It(){return R_||(R_=1,typeof Object.create=="function"?gh.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:gh.exports=function(e,t){if(t){e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}}),gh.exports}var $b={},Vb,D_;function sR(){if(D_)return Vb;D_=1;function n(){this._listeners={}}return n.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var s=this._listeners[e];s.indexOf(t)===-1&&(s=s.concat([t])),this._listeners[e]=s},n.prototype.removeEventListener=function(e,t){var s=this._listeners[e];if(s){var r=s.indexOf(t);if(r!==-1){s.length>1?this._listeners[e]=s.slice(0,r).concat(s.slice(r+1)):delete this._listeners[e];return}}},n.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,s=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,s),t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,s)},Vb=n,Vb}var k_;function Ds(){if(k_)return $b;k_=1;var n=It(),e=sR();function t(){e.call(this)}return n(t,e),t.prototype.removeAllListeners=function(s){s?delete this._listeners[s]:this._listeners={}},t.prototype.once=function(s,r){var i=this,l=!1;function c(){i.removeListener(s,c),l||(l=!0,r.apply(this,arguments))}this.on(s,c)},t.prototype.emit=function(){var s=arguments[0],r=this._listeners[s];if(r){for(var i=arguments.length,l=new Array(i-1),c=1;c<i;c++)l[c-1]=arguments[c];for(var u=0;u<r.length;u++)r[u].apply(this,l)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,$b.EventEmitter=t,$b}var ph={exports:{}},O_;function BI(){if(O_)return ph.exports;O_=1;var n=globalThis.WebSocket||globalThis.MozWebSocket;return n?ph.exports=function(t){return new n(t)}:ph.exports=void 0,ph.exports}var Wb,M_;function PI(){if(M_)return Wb;M_=1;var n=hl(),e=Lr(),t=It(),s=Ds().EventEmitter,r=BI(),i=function(){};function l(c,u,h){if(!l.enabled())throw new Error("Transport created when disabled");s.call(this);var m=this,p=e.addPath(c,"/websocket");p.slice(0,5)==="https"?p="wss"+p.slice(5):p="ws"+p.slice(4),this.url=p,this.ws=new r(this.url,[],h),this.ws.onmessage=function(b){i("message event",b.data),m.emit("message",b.data)},this.unloadRef=n.unloadAdd(function(){m.ws.close()}),this.ws.onclose=function(b){i("close event",b.code,b.reason),m.emit("close",b.code,b.reason),m._cleanup()},this.ws.onerror=function(b){m.emit("close",1006,"WebSocket connection broken"),m._cleanup()}}return t(l,s),l.prototype.send=function(c){var u="["+c+"]";this.ws.send(u)},l.prototype.close=function(){var c=this.ws;this._cleanup(),c&&c.close()},l.prototype._cleanup=function(){var c=this.ws;c&&(c.onmessage=c.onclose=c.onerror=null),n.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return!!r},l.transportName="websocket",l.roundTrips=2,Wb=l,Wb}var Gb,L_;function UI(){if(L_)return Gb;L_=1;var n=It(),e=Ds().EventEmitter,t=function(){};function s(r,i){e.call(this),this.sendBuffer=[],this.sender=i,this.url=r}return n(s,e),s.prototype.send=function(r){this.sendBuffer.push(r),this.sendStop||this.sendSchedule()},s.prototype.sendScheduleWait=function(){var r=this,i;this.sendStop=function(){r.sendStop=null,clearTimeout(i)},i=setTimeout(function(){r.sendStop=null,r.sendSchedule()},25)},s.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var r=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(l){r.sendStop=null,l?(r.emit("close",l.code||1006,"Sending error: "+l),r.close()):r.sendScheduleWait()}),this.sendBuffer=[]}},s.prototype._cleanup=function(){this.removeAllListeners()},s.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Gb=s,Gb}var Yb,I_;function HI(){if(I_)return Yb;I_=1;var n=It(),e=Ds().EventEmitter,t=function(){};function s(r,i,l){e.call(this),this.Receiver=r,this.receiveUrl=i,this.AjaxObject=l,this._scheduleReceiver()}return n(s,e),s.prototype._scheduleReceiver=function(){var r=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(l){r.emit("message",l)}),i.once("close",function(l,c){t("close",l,c,r.pollIsClosing),r.poll=i=null,r.pollIsClosing||(c==="network"?r._scheduleReceiver():(r.emit("close",l||1006,c),r.removeAllListeners()))})},s.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Yb=s,Yb}var Xb,B_;function rR(){if(B_)return Xb;B_=1;var n=It(),e=Lr(),t=UI(),s=HI();function r(i,l,c,u,h){var m=e.addPath(i,l),p=this;t.call(this,i,c),this.poll=new s(u,m,h),this.poll.on("message",function(b){p.emit("message",b)}),this.poll.once("close",function(b,v){p.poll=null,p.emit("close",b,v),p.close()})}return n(r,t),r.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Xb=r,Xb}var Zb,P_;function Hc(){if(P_)return Zb;P_=1;var n=It(),e=Lr(),t=rR();function s(i){return function(l,c,u){var h={};typeof c=="string"&&(h.headers={"Content-type":"text/plain"});var m=e.addPath(l,"/xhr_send"),p=new i("POST",m,c,h);return p.once("finish",function(b){if(p=null,b!==200&&b!==204)return u(new Error("http status "+b));u()}),function(){p.close(),p=null;var b=new Error("Aborted");b.code=1e3,u(b)}}}function r(i,l,c,u){t.call(this,i,l,s(u),c,u)}return n(r,t),Zb=r,Zb}var Qb,U_;function lg(){if(U_)return Qb;U_=1;var n=It(),e=Ds().EventEmitter;function t(s,r){e.call(this);var i=this;this.bufferPosition=0,this.xo=new r("POST",s,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(l,c){i._chunkHandler(l,c),i.xo=null;var u=l===200?"network":"permanent";i.emit("close",null,u),i._cleanup()})}return n(t,e),t.prototype._chunkHandler=function(s,r){if(!(s!==200||!r))for(var i=-1;;this.bufferPosition+=i+1){var l=r.slice(this.bufferPosition);if(i=l.indexOf(`
`),i===-1)break;var c=l.slice(0,i);c&&this.emit("message",c)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Qb=t,Qb}var Kb,H_;function iR(){if(H_)return Kb;H_=1;var n=Ds().EventEmitter,e=It(),t=hl(),s=Lr(),r=globalThis.XMLHttpRequest,i=function(){};function l(h,m,p,b){var v=this;n.call(this),setTimeout(function(){v._start(h,m,p,b)},0)}e(l,n),l.prototype._start=function(h,m,p,b){var v=this;try{this.xhr=new r}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}m=s.addQuery(m,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){v._cleanup(!0)});try{this.xhr.open(h,m,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i("xhr timeout"),v.emit("finish",0,""),v._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!b||!b.noCredentials)&&l.supportsCORS&&(this.xhr.withCredentials=!0),b&&b.headers)for(var x in b.headers)this.xhr.setRequestHeader(x,b.headers[x]);this.xhr.onreadystatechange=function(){if(v.xhr){var S=v.xhr,E,N;switch(i("readyState",S.readyState),S.readyState){case 3:try{N=S.status,E=S.responseText}catch{}N===1223&&(N=204),N===200&&E&&E.length>0&&v.emit("chunk",N,E);break;case 4:N=S.status,N===1223&&(N=204),(N===12005||N===12029)&&(N=0),i("finish",N,S.responseText),v.emit("finish",N,S.responseText),v._cleanup(!1);break}}};try{v.xhr.send(p)}catch{v.emit("finish",0,""),v._cleanup(!1)}},l.prototype._cleanup=function(h){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),h)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!!r;var c=["Active"].concat("Object").join("X");!l.enabled&&c in globalThis&&(r=function(){try{return new globalThis[c]("Microsoft.XMLHTTP")}catch{return null}},l.enabled=!!new r);var u=!1;try{u="withCredentials"in new r}catch{}return l.supportsCORS=u,Kb=l,Kb}var Jb,z_;function og(){if(z_)return Jb;z_=1;var n=It(),e=iR();function t(s,r,i,l){e.call(this,s,r,i,l)}return n(t,e),t.enabled=e.enabled&&e.supportsCORS,Jb=t,Jb}var e0,q_;function Gd(){if(q_)return e0;q_=1;var n=It(),e=iR();function t(s,r,i){e.call(this,s,r,i,{noCredentials:!0})}return n(t,e),t.enabled=e.enabled,e0=t,e0}var t0,F_;function Yd(){return F_||(F_=1,t0={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),t0}var n0,$_;function zI(){if($_)return n0;$_=1;var n=It(),e=Hc(),t=lg(),s=og(),r=Gd(),i=Yd();function l(c){if(!r.enabled&&!s.enabled)throw new Error("Transport created when disabled");e.call(this,c,"/xhr_streaming",t,s)}return n(l,e),l.enabled=function(c){return c.nullOrigin||i.isOpera()?!1:s.enabled},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!globalThis.document,n0=l,n0}var s0,V_;function Yv(){if(V_)return s0;V_=1;var n=Ds().EventEmitter,e=It(),t=hl(),s=Yd(),r=Lr(),i=function(){};function l(c,u,h){var m=this;n.call(this),setTimeout(function(){m._start(c,u,h)},0)}return e(l,n),l.prototype._start=function(c,u,h){var m=this,p=new globalThis.XDomainRequest;u=r.addQuery(u,"t="+ +new Date),p.onerror=function(){m._error()},p.ontimeout=function(){m._error()},p.onprogress=function(){i("progress",p.responseText),m.emit("chunk",200,p.responseText)},p.onload=function(){m.emit("finish",200,p.responseText),m._cleanup(!1)},this.xdr=p,this.unloadRef=t.unloadAdd(function(){m._cleanup(!0)});try{this.xdr.open(c,u),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(h)}catch{this._error()}},l.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},l.prototype._cleanup=function(c){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,c)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!!(globalThis.XDomainRequest&&s.hasDomain()),s0=l,s0}var r0,W_;function aR(){if(W_)return r0;W_=1;var n=It(),e=Hc(),t=lg(),s=Yv();function r(i){if(!s.enabled)throw new Error("Transport created when disabled");e.call(this,i,"/xhr_streaming",t,s)}return n(r,e),r.enabled=function(i){return i.cookie_needed||i.nullOrigin?!1:s.enabled&&i.sameScheme},r.transportName="xdr-streaming",r.roundTrips=2,r0=r,r0}var i0,G_;function lR(){return G_||(G_=1,i0=globalThis.EventSource),i0}var a0,Y_;function qI(){if(Y_)return a0;Y_=1;var n=It(),e=Ds().EventEmitter,t=lR(),s=function(){};function r(i){e.call(this);var l=this,c=this.es=new t(i);c.onmessage=function(u){s("message",u.data),l.emit("message",decodeURI(u.data))},c.onerror=function(u){s("error",c.readyState);var h=c.readyState!==2?"network":"permanent";l._cleanup(),l._close(h)}}return n(r,e),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},r.prototype._close=function(i){var l=this;setTimeout(function(){l.emit("close",null,i),l.removeAllListeners()},200)},a0=r,a0}var l0,X_;function Z_(){if(X_)return l0;X_=1;var n=It(),e=Hc(),t=qI(),s=og(),r=lR();function i(l){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,l,"/eventsource",t,s)}return n(i,e),i.enabled=function(){return!!r},i.transportName="eventsource",i.roundTrips=2,l0=i,l0}var o0,Q_;function oR(){return Q_||(Q_=1,o0="1.6.1"),o0}var c0={exports:{}},K_;function Xd(){return K_||(K_=1,(function(n){var e=hl(),t=Yd();n.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){n.exports.WPrefix in globalThis||(globalThis[n.exports.WPrefix]={})},postMessage:function(s,r){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:n.exports.currentWindowId,type:s,data:r||""}),"*")},createIframe:function(s,r){var i=globalThis.document.createElement("iframe"),l,c,u=function(){clearTimeout(l);try{i.onload=null}catch{}i.onerror=null},h=function(){i&&(u(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),e.unloadDel(c))},m=function(b){i&&(h(),r(b))},p=function(b,v){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(b,v)}catch{}},0)};return i.src=s,i.style.display="none",i.style.position="absolute",i.onerror=function(){m("onerror")},i.onload=function(){clearTimeout(l),l=setTimeout(function(){m("onload timeout")},2e3)},globalThis.document.body.appendChild(i),l=setTimeout(function(){m("timeout")},15e3),c=e.unloadAdd(h),{post:p,cleanup:h,loaded:u}},createHtmlfile:function(s,r){var i=["Active"].concat("Object").join("X"),l=new globalThis[i]("htmlfile"),c,u,h,m=function(){clearTimeout(c),h.onerror=null},p=function(){l&&(m(),e.unloadDel(u),h.parentNode.removeChild(h),h=l=null,CollectGarbage())},b=function(S){l&&(p(),r(S))},v=function(S,E){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(S,E)},0)}catch{}};l.open(),l.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[n.exports.WPrefix]=globalThis[n.exports.WPrefix];var x=l.createElement("div");return l.body.appendChild(x),h=l.createElement("iframe"),x.appendChild(h),h.src=s,h.onerror=function(){b("onerror")},c=setTimeout(function(){b("timeout")},15e3),u=e.unloadAdd(p),{post:v,cleanup:p,loaded:m}}},n.exports.iframeEnabled=!1,globalThis.document&&(n.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!t.isKonqueror())})(c0)),c0.exports}var u0,J_;function cR(){if(J_)return u0;J_=1;var n=It(),e=Ds().EventEmitter,t=oR(),s=Lr(),r=Xd(),i=hl(),l=Uc(),c=function(){};function u(h,m,p){if(!u.enabled())throw new Error("Transport created when disabled");e.call(this);var b=this;this.origin=s.getOrigin(p),this.baseUrl=p,this.transUrl=m,this.transport=h,this.windowId=l.string(8);var v=s.addPath(p,"/iframe.html")+"#"+this.windowId;this.iframeObj=r.createIframe(v,function(x){b.emit("close",1006,"Unable to load an iframe ("+x+")"),b.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}return n(u,e),u.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(h){if(c("message",h.data),!s.isOriginEqual(h.origin,this.origin)){c("not same origin",h.origin,this.origin);return}var m;try{m=JSON.parse(h.data)}catch{c("bad json",h.data);return}if(m.windowId!==this.windowId){c("mismatched window id",m.windowId,this.windowId);return}switch(m.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",m.data);break;case"c":var p;try{p=JSON.parse(m.data)}catch{c("bad json",m.data);return}this.emit("close",p[0],p[1]),this.close();break}},u.prototype.postMessage=function(h,m){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:h,data:m||""}),this.origin)},u.prototype.send=function(h){this.postMessage("m",h)},u.enabled=function(){return r.iframeEnabled},u.transportName="iframe",u.roundTrips=2,u0=u,u0}var d0,eN;function Xv(){return eN||(eN=1,d0={isObject:function(n){var e=typeof n;return e==="function"||e==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var e,t,s=1,r=arguments.length;s<r;s++){e=arguments[s];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}}),d0}var f0,tN;function h0(){if(tN)return f0;tN=1;var n=It(),e=cR(),t=Xv();return f0=function(s){function r(i,l){e.call(this,s.transportName,i,l)}return n(r,e),r.enabled=function(i,l){if(!globalThis.document)return!1;var c=t.extend({},l);return c.sameOrigin=!0,s.enabled(c)&&e.enabled()},r.transportName="iframe-"+s.transportName,r.needBody=!0,r.roundTrips=e.roundTrips+s.roundTrips-1,r.facadeTransport=s,r},f0}var m0,nN;function FI(){if(nN)return m0;nN=1;var n=It(),e=Xd(),t=Lr(),s=Ds().EventEmitter,r=Uc(),i=function(){};function l(u){s.call(this);var h=this;e.polluteGlobalNamespace(),this.id="a"+r.string(6),u=t.addQuery(u,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),i("using htmlfile",l.htmlfileEnabled);var m=l.htmlfileEnabled?e.createHtmlfile:e.createIframe;globalThis[e.WPrefix][this.id]={start:function(){h.iframeObj.loaded()},message:function(p){h.emit("message",p)},stop:function(){h._cleanup(),h._close("network")}},this.iframeObj=m(u,function(){h._cleanup(),h._close("permanent")})}n(l,s),l.prototype.abort=function(){this._cleanup(),this._close("user")},l.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[e.WPrefix][this.id]},l.prototype._close=function(u){this.emit("close",null,u),this.removeAllListeners()},l.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in globalThis)try{l.htmlfileEnabled=!!new globalThis[c]("htmlfile")}catch{}return l.enabled=l.htmlfileEnabled||e.iframeEnabled,m0=l,m0}var g0,sN;function rN(){if(sN)return g0;sN=1;var n=It(),e=FI(),t=Gd(),s=Hc();function r(i){if(!e.enabled)throw new Error("Transport created when disabled");s.call(this,i,"/htmlfile",e,t)}return n(r,s),r.enabled=function(i){return e.enabled&&i.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,g0=r,g0}var p0,iN;function aN(){if(iN)return p0;iN=1;var n=It(),e=Hc(),t=lg(),s=og(),r=Gd();function i(l){if(!r.enabled&&!s.enabled)throw new Error("Transport created when disabled");e.call(this,l,"/xhr",t,s)}return n(i,e),i.enabled=function(l){return l.nullOrigin?!1:r.enabled&&l.sameOrigin?!0:s.enabled},i.transportName="xhr-polling",i.roundTrips=2,p0=i,p0}var b0,lN;function $I(){if(lN)return b0;lN=1;var n=It(),e=Hc(),t=aR(),s=lg(),r=Yv();function i(l){if(!r.enabled)throw new Error("Transport created when disabled");e.call(this,l,"/xhr",s,r)}return n(i,e),i.enabled=t.enabled,i.transportName="xdr-polling",i.roundTrips=2,b0=i,b0}var y0,oN;function VI(){if(oN)return y0;oN=1;var n=Xd(),e=Uc(),t=Yd(),s=Lr(),r=It(),i=Ds().EventEmitter,l=function(){};function c(u){var h=this;i.call(this),n.polluteGlobalNamespace(),this.id="a"+e.string(6);var m=s.addQuery(u,"c="+encodeURIComponent(n.WPrefix+"."+this.id));globalThis[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(m),this.timeoutId=setTimeout(function(){h._abort(new Error("JSONP script loaded abnormally (timeout)"))},c.timeout)}return r(c,i),c.prototype.abort=function(){if(globalThis[n.WPrefix][this.id]){var u=new Error("JSONP user aborted read");u.code=1e3,this._abort(u)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(u){this._cleanup(),!this.aborting&&(u&&this.emit("message",u),this.emit("close",null,"network"),this.removeAllListeners())},c.prototype._abort=function(u){this._cleanup(),this.aborting=!0,this.emit("close",u.code,u.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var u=this.script;u.parentNode.removeChild(u),u.onreadystatechange=u.onerror=u.onload=u.onclick=null,this.script=null}delete globalThis[n.WPrefix][this.id]},c.prototype._scriptError=function(){var u=this;this.errorTimer||(this.errorTimer=setTimeout(function(){u.loadedOkay||u._abort(new Error("JSONP script loaded abnormally (onerror)"))},c.scriptErrorTimeout))},c.prototype._createScript=function(u){var h=this,m=this.script=globalThis.document.createElement("script"),p;if(m.id="a"+e.string(8),m.src=u,m.type="text/javascript",m.charset="UTF-8",m.onerror=this._scriptError.bind(this),m.onload=function(){h._abort(new Error("JSONP script loaded abnormally (onload)"))},m.onreadystatechange=function(){if(l("onreadystatechange",m.readyState),/loaded|closed/.test(m.readyState)){if(m&&m.htmlFor&&m.onclick){h.loadedOkay=!0;try{m.onclick()}catch{}}m&&h._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof m.async>"u"&&globalThis.document.attachEvent)if(t.isOpera())p=this.script2=globalThis.document.createElement("script"),p.text="try{var a = document.getElementById('"+m.id+"'); if(a)a.onerror();}catch(x){};",m.async=p.async=!1;else{try{m.htmlFor=m.id,m.event="onclick"}catch{}m.async=!0}typeof m.async<"u"&&(m.async=!0);var b=globalThis.document.getElementsByTagName("head")[0];b.insertBefore(m,b.firstChild),p&&b.insertBefore(p,b.firstChild)},y0=c,y0}var v0,cN;function WI(){if(cN)return v0;cN=1;var n=Uc(),e=Lr(),t=function(){},s,r;function i(c){try{return globalThis.document.createElement('<iframe name="'+c+'">')}catch{var u=globalThis.document.createElement("iframe");return u.name=c,u}}function l(){s=globalThis.document.createElement("form"),s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",r=globalThis.document.createElement("textarea"),r.name="d",s.appendChild(r),globalThis.document.body.appendChild(s)}return v0=function(c,u,h){s||l();var m="a"+n.string(8);s.target=m,s.action=e.addQuery(e.addPath(c,"/jsonp_send"),"i="+m);var p=i(m);p.id=m,p.style.display="none",s.appendChild(p);try{r.value=u}catch{}s.submit();var b=function(v){p.onerror&&(p.onreadystatechange=p.onerror=p.onload=null,setTimeout(function(){p.parentNode.removeChild(p),p=null},500),r.value="",h(v))};return p.onerror=function(){b()},p.onload=function(){b()},p.onreadystatechange=function(v){t("onreadystatechange",m,p.readyState),p.readyState==="complete"&&b()},function(){b(new Error("Aborted"))}},v0}var x0,uN;function GI(){if(uN)return x0;uN=1;var n=It(),e=rR(),t=VI(),s=WI();function r(i){if(!r.enabled())throw new Error("Transport created when disabled");e.call(this,i,"/jsonp",s,t)}return n(r,e),r.enabled=function(){return!!globalThis.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,x0=r,x0}var w0,dN;function YI(){return dN||(dN=1,w0=[PI(),zI(),aR(),Z_(),h0()(Z_()),rN(),h0()(rN()),aN(),$I(),h0()(aN()),GI()]),w0}var fN={},hN;function XI(){if(hN)return fN;hN=1;var n=Array.prototype,e=Object.prototype,t=Function.prototype,s=String.prototype,r=n.slice,i=e.toString,l=function(U){return e.toString.call(U)==="[object Function]"},c=function(I){return i.call(I)==="[object Array]"},u=function(I){return i.call(I)==="[object String]"},h=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),m;h?m=function(U,I,F,Z){!Z&&I in U||Object.defineProperty(U,I,{configurable:!0,enumerable:!1,writable:!0,value:F})}:m=function(U,I,F,Z){!Z&&I in U||(U[I]=F)};var p=function(U,I,F){for(var Z in I)e.hasOwnProperty.call(I,Z)&&m(U,Z,I[Z],F)},b=function(U){if(U==null)throw new TypeError("can't convert "+U+" to object");return Object(U)};function v(U){var I=+U;return I!==I?I=0:I!==0&&I!==1/0&&I!==-1/0&&(I=(I>0||-1)*Math.floor(Math.abs(I))),I}function x(U){return U>>>0}function S(){}p(t,{bind:function(I){var F=this;if(!l(F))throw new TypeError("Function.prototype.bind called on incompatible "+F);for(var Z=r.call(arguments,1),O=function(){if(this instanceof V){var j=F.apply(this,Z.concat(r.call(arguments)));return Object(j)===j?j:this}else return F.apply(I,Z.concat(r.call(arguments)))},q=Math.max(0,F.length-Z.length),H=[],X=0;X<q;X++)H.push("$"+X);var V=Function("binder","return function ("+H.join(",")+"){ return binder.apply(this, arguments); }")(O);return F.prototype&&(S.prototype=F.prototype,V.prototype=new S,S.prototype=null),V}}),p(Array,{isArray:c});var E=Object("a"),N=E[0]!=="a"||!(0 in E),A=function(I){var F=!0,Z=!0;return I&&(I.call("foo",function(O,q,H){typeof H!="object"&&(F=!1)}),I.call([1],function(){Z=typeof this=="string"},"x")),!!I&&F&&Z};p(n,{forEach:function(I){var F=b(this),Z=N&&u(this)?this.split(""):F,O=arguments[1],q=-1,H=Z.length>>>0;if(!l(I))throw new TypeError;for(;++q<H;)q in Z&&I.call(O,Z[q],q,F)}},!A(n.forEach));var R=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;p(n,{indexOf:function(I){var F=N&&u(this)?this.split(""):b(this),Z=F.length>>>0;if(!Z)return-1;var O=0;for(arguments.length>1&&(O=v(arguments[1])),O=O>=0?O:Math.max(0,Z+O);O<Z;O++)if(O in F&&F[O]===I)return O;return-1}},R);var T=s.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var U=/()??/.exec("")[1]===void 0;s.split=function(I,F){var Z=this;if(I===void 0&&F===0)return[];if(i.call(I)!=="[object RegExp]")return T.call(this,I,F);var O=[],q=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.extended?"x":"")+(I.sticky?"y":""),H=0,X,V,j,z;for(I=new RegExp(I.source,q+"g"),Z+="",U||(X=new RegExp("^"+I.source+"$(?!\\s)",q)),F=F===void 0?-1>>>0:x(F);(V=I.exec(Z))&&(j=V.index+V[0].length,!(j>H&&(O.push(Z.slice(H,V.index)),!U&&V.length>1&&V[0].replace(X,function(){for(var K=1;K<arguments.length-2;K++)arguments[K]===void 0&&(V[K]=void 0)}),V.length>1&&V.index<Z.length&&n.push.apply(O,V.slice(1)),z=V[0].length,H=j,O.length>=F)));)I.lastIndex===V.index&&I.lastIndex++;return H===Z.length?(z||!I.test(""))&&O.push(""):O.push(Z.slice(H)),O.length>F?O.slice(0,F):O}})():"0".split(void 0,0).length&&(s.split=function(I,F){return I===void 0&&F===0?[]:T.call(this,I,F)});var D=s.substr,M="".substr&&"0b".substr(-1)!=="b";return p(s,{substr:function(I,F){return D.call(this,I<0&&(I=this.length+I)<0?0:I,F)}},M),fN}var E0,mN;function ZI(){if(mN)return E0;mN=1;var n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(s){var r,i={},l=[];for(r=0;r<65536;r++)l.push(String.fromCharCode(r));return s.lastIndex=0,l.join("").replace(s,function(c){return i[c]="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),""}),s.lastIndex=0,i};return E0={quote:function(s){var r=JSON.stringify(s);return n.lastIndex=0,n.test(r)?(e||(e=t(n)),r.replace(n,function(i){return e[i]})):r}},E0}var S0,gN;function QI(){if(gN)return S0;gN=1;var n=function(){};return S0=function(e){return{filterToEnabled:function(t,s){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&s.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){n("not in whitelist",i.transportName);return}i.enabled(s)?(n("enabled",i.transportName),r.main.push(i),i.facadeTransport&&r.facade.push(i.facadeTransport)):n("disabled",i.transportName)}}),r}}},S0}var _0,pN;function KI(){if(pN)return _0;pN=1;var n={};return["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}n[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:n.log}),_0=n,_0}var N0,bN;function Zv(){if(bN)return N0;bN=1;function n(e){this.type=e}return n.prototype.initEvent=function(e,t,s){return this.type=e,this.bubbles=t,this.cancelable=s,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,N0=n,N0}var A0,yN;function uR(){return yN||(yN=1,A0=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),A0}var C0,vN;function JI(){if(vN)return C0;vN=1;var n=It(),e=Zv();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return n(t,e),C0=t,C0}var T0,xN;function e6(){if(xN)return T0;xN=1;var n=It(),e=Zv();function t(s){e.call(this),this.initEvent("message",!1,!1),this.data=s}return n(t,e),T0=t,T0}var j0,wN;function t6(){if(wN)return j0;wN=1;var n=Ds().EventEmitter,e=It();function t(){var s=this;n.call(this),this.to=setTimeout(function(){s.emit("finish",200,"{}")},t.timeout)}return e(t,n),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,j0=t,j0}var R0,EN;function dR(){if(EN)return R0;EN=1;var n=Ds().EventEmitter,e=It(),t=Xv();function s(r,i){n.call(this);var l=this,c=+new Date;this.xo=new i("GET",r),this.xo.once("finish",function(u,h){var m,p;if(u===200){if(p=+new Date-c,h)try{m=JSON.parse(h)}catch{}t.isObject(m)||(m={})}l.emit("finish",m,p),l.removeAllListeners()})}return e(s,n),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},R0=s,R0}var D0,SN;function fR(){if(SN)return D0;SN=1;var n=It(),e=Ds().EventEmitter,t=Gd(),s=dR();function r(i){var l=this;e.call(this),this.ir=new s(i,t),this.ir.once("finish",function(c,u){l.ir=null,l.emit("message",JSON.stringify([c,u]))})}return n(r,e),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},D0=r,D0}var k0,_N;function n6(){if(_N)return k0;_N=1;var n=Ds().EventEmitter,e=It(),t=hl(),s=cR(),r=fR();function i(l,c){var u=this;n.call(this);var h=function(){var m=u.ifr=new s(r.transportName,c,l);m.once("message",function(p){if(p){var b;try{b=JSON.parse(p)}catch{u.emit("finish"),u.close();return}var v=b[0],x=b[1];u.emit("finish",v,x)}u.close()}),m.once("close",function(){u.emit("finish"),u.close()})};globalThis.document.body?h():t.attachEvent("load",h)}return e(i,n),i.enabled=function(){return s.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},k0=i,k0}var O0,NN;function s6(){if(NN)return O0;NN=1;var n=Ds().EventEmitter,e=It(),t=Lr(),s=Yv(),r=og(),i=Gd(),l=t6(),c=n6(),u=dR();function h(m,p){var b=this;n.call(this),setTimeout(function(){b.doXhr(m,p)},0)}return e(h,n),h._getReceiver=function(m,p,b){return b.sameOrigin?new u(p,i):r.enabled?new u(p,r):s.enabled&&b.sameScheme?new u(p,s):c.enabled()?new c(m,p):new u(p,l)},h.prototype.doXhr=function(m,p){var b=this,v=t.addPath(m,"/info");this.xo=h._getReceiver(m,v,p),this.timeoutRef=setTimeout(function(){b._cleanup(!1),b.emit("finish")},h.timeout),this.xo.once("finish",function(x,S){b._cleanup(!0),b.emit("finish",x,S)})},h.prototype._cleanup=function(m){clearTimeout(this.timeoutRef),this.timeoutRef=null,!m&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,O0=h,O0}var M0,AN;function r6(){if(AN)return M0;AN=1;var n=Xd();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,s){n.postMessage("c",JSON.stringify([t,s]))},e.prototype._transportMessage=function(t){n.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},M0=e,M0}var L0,CN;function i6(){if(CN)return L0;CN=1;var n=Lr(),e=hl(),t=r6(),s=fR(),r=Xd(),i=uR(),l=function(){};return L0=function(c,u){var h={};u.forEach(function(p){p.facadeTransport&&(h[p.facadeTransport.transportName]=p.facadeTransport)}),h[s.transportName]=s;var m;c.bootstrap_iframe=function(){var p;r.currentWindowId=i.hash.slice(1);var b=function(v){if(v.source===parent&&(typeof m>"u"&&(m=v.origin),v.origin===m)){var x;try{x=JSON.parse(v.data)}catch{l("bad json",v.data);return}if(x.windowId===r.currentWindowId)switch(x.type){case"s":var S;try{S=JSON.parse(x.data)}catch{l("bad json",x.data);break}var E=S[0],N=S[1],A=S[2],R=S[3];if(E!==c.version)throw new Error('Incompatible SockJS! Main site uses: "'+E+'", the iframe: "'+c.version+'".');if(!n.isOriginEqual(A,i.href)||!n.isOriginEqual(R,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+A+", "+R+")");p=new t(new h[N](A,R));break;case"m":p._send(x.data);break;case"c":p&&p._close(),p=null;break}}};e.attachEvent("message",b),r.postMessage("s")}},L0}var I0,TN;function a6(){if(TN)return I0;TN=1,XI();var n=nR(),e=It(),t=Uc(),s=ZI(),r=Lr(),i=hl(),l=QI(),c=Xv(),u=Yd(),h=KI(),m=Zv(),p=sR(),b=uR(),v=JI(),x=e6(),S=s6(),E=function(){},N;function A(T,D,M){if(!(this instanceof A))return new A(T,D,M);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=A.CONNECTING,this.extensions="",this.protocol="",M=M||{},M.protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=M.transports,this._transportOptions=M.transportOptions||{},this._timeout=M.timeout||0;var U=M.sessionId||8;if(typeof U=="function")this._generateSessionId=U;else if(typeof U=="number")this._generateSessionId=function(){return t.string(U)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=M.server||t.numberString(1e3);var I=new n(T);if(!I.host||!I.protocol)throw new SyntaxError("The URL '"+T+"' is invalid");if(I.hash)throw new SyntaxError("The URL must not contain a fragment");if(I.protocol!=="http:"&&I.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+I.protocol+"' is not allowed.");var F=I.protocol==="https:";if(b.protocol==="https:"&&!F&&!r.isLoopbackAddr(I.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");D?Array.isArray(D)||(D=[D]):D=[];var Z=D.sort();Z.forEach(function(q,H){if(!q)throw new SyntaxError("The protocols entry '"+q+"' is invalid.");if(H<Z.length-1&&q===Z[H+1])throw new SyntaxError("The protocols entry '"+q+"' is duplicated.")});var O=r.getOrigin(b.href);this._origin=O?O.toLowerCase():null,I.set("pathname",I.pathname.replace(/\/+$/,"")),this.url=I.href,E("using url",this.url),this._urlInfo={nullOrigin:!u.hasDomain(),sameOrigin:r.isOriginEqual(this.url,b.href),sameScheme:r.isSchemeEqual(this.url,b.href)},this._ir=new S(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(A,p);function R(T){return T===1e3||T>=3e3&&T<=4999}return A.prototype.close=function(T,D){if(T&&!R(T))throw new Error("InvalidAccessError: Invalid code");if(D&&D.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===A.CLOSING||this.readyState===A.CLOSED)){var M=!0;this._close(T||1e3,D||"Normal closure",M)}},A.prototype.send=function(T){if(typeof T!="string"&&(T=""+T),this.readyState===A.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===A.OPEN&&this._transport.send(s.quote(T))},A.version=oR(),A.CONNECTING=0,A.OPEN=1,A.CLOSING=2,A.CLOSED=3,A.prototype._receiveInfo=function(T,D){if(this._ir=null,!T){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(D),this._transUrl=T.base_url?T.base_url:this.url,T=c.extend(T,this._urlInfo);var M=N.filterToEnabled(this._transportsWhitelist,T);this._transports=M.main,E(this._transports.length+" enabled transports"),this._connect()},A.prototype._connect=function(){for(var T=this._transports.shift();T;T=this._transports.shift()){if(E("attempt",T.transportName),T.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(T),i.attachEvent("load",this._connect.bind(this));return}var D=Math.max(this._timeout,this._rto*T.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),D);var M=r.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),U=this._transportOptions[T.transportName],I=new T(M,this._transUrl,U);I.on("message",this._transportMessage.bind(this)),I.once("close",this._transportClose.bind(this)),I.transportName=T.transportName,this._transport=I;return}this._close(2e3,"All transports failed",!1)},A.prototype._transportTimeout=function(){this.readyState===A.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},A.prototype._transportMessage=function(T){var D=this,M=T.slice(0,1),U=T.slice(1),I;switch(M){case"o":this._open();return;case"h":this.dispatchEvent(new m("heartbeat")),E("heartbeat",this.transport);return}if(U)try{I=JSON.parse(U)}catch{}if(!(typeof I>"u"))switch(M){case"a":Array.isArray(I)&&I.forEach(function(F){E("message",D.transport),D.dispatchEvent(new x(F))});break;case"m":E("message",this.transport),this.dispatchEvent(new x(I));break;case"c":Array.isArray(I)&&I.length===2&&this._close(I[0],I[1],!0);break}},A.prototype._transportClose=function(T,D){if(E("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!R(T)&&T!==2e3&&this.readyState===A.CONNECTING){this._connect();return}this._close(T,D)},A.prototype._open=function(){E("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===A.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=A.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new m("open")),E("connected",this.transport)):this._close(1006,"Server lost session")},A.prototype._close=function(T,D,M){E("_close",this.transport,T,D,M,this.readyState);var U=!1;if(this._ir&&(U=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===A.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=A.CLOSING,setTimeout((function(){this.readyState=A.CLOSED,U&&this.dispatchEvent(new m("error"));var I=new v("close");I.wasClean=M||!1,I.code=T||1e3,I.reason=D,this.dispatchEvent(I),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},A.prototype.countRTO=function(T){return T>100?4*T:300+T},I0=function(T){return N=l(T),i6()(A,T),A},I0}var B0,jN;function l6(){if(jN)return B0;jN=1;var n=YI();return B0=a6()(n),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),B0}var o6=l6();const c6=Qm(o6);function u6(n,e){n.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const s=new Date,r=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=l=>{const c=new Date().getTime()-s.getTime();e(`Discarded socket (#${r})  closed after ${c}ms, with code/reason: ${l.code}/${l.reason}`)},this.close(),i?.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}const sd={LF:`
`,NULL:"\0"};class Va{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:s,body:r,binaryBody:i,escapeHeaderValues:l,skipContentLengthHeader:c}=e;this.command=t,this.headers=Object.assign({},s||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=l||!1,this.skipContentLengthHeader=c||!1}static fromRawFrame(e,t){const s={},r=i=>i.replace(/^\s+|\s+$/g,"");for(const i of e.headers.reverse()){i.indexOf(":");const l=r(i[0]);let c=r(i[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(c=Va.hdrValueUnEscape(c)),s[l]=c}return new Va({command:e.command,headers:s,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Va.toUnit8Array(e,this._binaryBody).buffer:e+this._body+sd.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const s=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${Va.hdrValueEscape(`${s}`)}`):e.push(`${t}:${s}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(sd.LF)+sd.LF+sd.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const s=new TextEncoder().encode(e),r=new Uint8Array([0]),i=new Uint8Array(s.length+t.length+r.length);return i.set(s),i.set(t,s.length),i.set(r,s.length+t.length),i}static marshall(e){return new Va(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const RN=0,bh=10,yh=13,d6=58;class f6{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let s;if(typeof e=="string"?s=this._encoder.encode(e):s=new Uint8Array(e),t&&s[s.length-1]!==0){const r=new Uint8Array(s.length+1);r.set(s,0),r[s.length]=0,s=r}for(let r=0;r<s.length;r++){const i=s[r];this._onByte(i)}}_collectFrame(e){if(e!==RN&&e!==yh){if(e===bh){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==yh){if(e===bh){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==yh){if(e===bh){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===d6){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==yh){if(e===bh){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===RN){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Wa;(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"})(Wa||(Wa={}));var $r;(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"})($r||($r={}));var wm;(function(n){n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL"})(wm||(wm={}));var Sd;(function(n){n.Interval="interval",n.Worker="worker"})(Sd||(Sd={}));class h6{constructor(e,t=Sd.Interval,s){this._interval=e,this._strategy=t,this._debug=s,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Sd.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Ns{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Ns.V1_0="1.0";Ns.V1_1="1.1";Ns.V1_2="1.2";Ns.default=new Ns([Ns.V1_2,Ns.V1_1,Ns.V1_0]);class m6{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,s){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Ns.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const i=r.headers.subscription,l=this._subscriptions[i]||this.onUnhandledMessage,c=r,u=this,h=this._connectedVersion===Ns.V1_2?c.headers.ack:c.headers["message-id"];c.ack=(m={})=>u.ack(h,i,m),c.nack=(m={})=>u.nack(h,i,m),l(c)},RECEIPT:r=>{const i=this._receiptWatchers[r.headers["receipt-id"]];i?(i(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=s.debug,this.stompVersions=s.stompVersions,this.connectHeaders=s.connectHeaders,this.disconnectHeaders=s.disconnectHeaders,this.heartbeatIncoming=s.heartbeatIncoming,this.heartbeatToleranceMultiplier=s.heartbeatGracePeriods,this.heartbeatOutgoing=s.heartbeatOutgoing,this.splitLargeFrames=s.splitLargeFrames,this.maxWebSocketChunkSize=s.maxWebSocketChunkSize,this.forceBinaryWSFrames=s.forceBinaryWSFrames,this.logRawCommunication=s.logRawCommunication,this.appendMissingNULLonIncoming=s.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=s.discardWebsocketOnCommFailure,this.onConnect=s.onConnect,this.onDisconnect=s.onDisconnect,this.onStompError=s.onStompError,this.onWebSocketClose=s.onWebSocketClose,this.onWebSocketError=s.onWebSocketError,this.onUnhandledMessage=s.onUnhandledMessage,this.onUnhandledReceipt=s.onUnhandledReceipt,this.onUnhandledFrame=s.onUnhandledFrame,this.onHeartbeatReceived=s.onHeartbeatReceived,this.onHeartbeatLost=s.onHeartbeatLost}start(){const e=new f6(t=>{const s=Va.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${s}`),(this._serverFrameHandlers[s.command]||this.onUnhandledFrame)(s)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const s=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${s}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Ns.V1_1&&e.version!==Ns.V1_2||!e["heart-beat"])return;const[t,s]=e["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&s!==0){const r=Math.max(this.heartbeatOutgoing,s);this.debug(`send PING every ${r}ms`),this._pinger=new h6(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Wa.OPEN&&(this._webSocket.send(sd.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const r=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>r*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${i}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Wa.CONNECTING||this._webSocket.readyState===Wa.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&u6(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:s,body:r,binaryBody:i,skipContentLengthHeader:l}=e,c=new Va({command:t,headers:s,body:r,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:l});let u=c.serialize();if(this.logRawCommunication?this.debug(`>>> ${u}`):this.debug(`>>> ${c}`),this.forceBinaryWSFrames&&typeof u=="string"&&(u=new TextEncoder().encode(u)),typeof u!="string"||!this.splitLargeFrames)this._webSocket.send(u);else{let h=u;for(;h.length>0;){const m=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(m),this.debug(`chunk sent = ${m.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===Wa.CONNECTING||this._webSocket.readyState===Wa.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:s,body:r,binaryBody:i,skipContentLengthHeader:l}=e,c=Object.assign({destination:t},s);this._transmit({command:"SEND",headers:c,body:r,binaryBody:i,skipContentLengthHeader:l})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,s={}){s=Object.assign({},s),s.id||(s.id=`sub-${this._counter++}`),s.destination=e,this._subscriptions[s.id]=t,this._transmit({command:"SUBSCRIBE",headers:s});const r=this;return{id:s.id,unsubscribe(i){return r.unsubscribe(s.id,i)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const s=this;return{id:t,commit(){s.commit(t)},abort(){s.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,s={}){s=Object.assign({},s),this._connectedVersion===Ns.V1_2?s.id=e:s["message-id"]=e,s.subscription=t,this._transmit({command:"ACK",headers:s})}nack(e,t,s={}){return s=Object.assign({},s),this._connectedVersion===Ns.V1_2?s.id=e:s["message-id"]=e,s.subscription=t,this._transmit({command:"NACK",headers:s})}}class g6{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===$r.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Ns.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=wm.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Sd.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=$r.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onHeartbeatReceived=t,this.onHeartbeatLost=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState($r.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===$r.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new m6(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===$r.DEACTIVATING&&this._changeState($r.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===wm.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){const t=e.force||!1,s=this.active;let r;if(this.state===$r.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState($r.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Wa.CLOSED){const i=this._stompHandler.onWebSocketClose;r=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState($r.INACTIVE),Promise.resolve();return t?this._stompHandler?.discardWebsocket():s&&this._disposeStompHandler(),r}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,s={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,s)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,s={}){this._checkConnection(),this._stompHandler.ack(e,t,s)}nack(e,t,s={}){this._checkConnection(),this._stompHandler.nack(e,t,s)}}const p6=(n,e)=>{const t=_.useRef(null),[s,r]=_.useState(!1),i=_.useRef(e);return _.useEffect(()=>{i.current=e},[e]),_.useEffect(()=>{if(!n)return;const l=new g6({webSocketFactory:()=>new c6("http://localhost:8080/ws"),connectHeaders:{},debug:c=>{console.log("STOMP:",c)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});return l.onConnect=()=>{console.log("WebSocket 연결 성공"),r(!0),l.subscribe(`/user/${n}/queue/notifications`,c=>{const u=JSON.parse(c.body);console.log("알림 수신:",u),i.current&&i.current(u)})},l.onStompError=c=>{console.error("STOMP 에러:",c),r(!1)},l.onDisconnect=()=>{console.log("WebSocket 연결 해제"),r(!1)},l.activate(),t.current=l,()=>{t.current&&t.current.deactivate()}},[n]),{connected:s}},b6=({memberId:n})=>{const e=_t(),{setCurrentClub:t}=ws(),[s,r]=_.useState(!1),[i,l]=_.useState([]),c=_.useRef(null),u=_.useCallback(E=>{l(N=>[E,...N])},[]);p6(n,u),_.useEffect(()=>{n&&h()},[n]),_.useEffect(()=>{const E=N=>{c.current&&!c.current.contains(N.target)&&r(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const h=async()=>{try{const E=await dh.getNotifications();l(E)}catch(E){console.error("알림 목록 조회 실패:",E)}},m=async E=>{try{await dh.markAsRead(E),l(N=>N.map(A=>A.notificationId===E?{...A,isRead:"Y"}:A))}catch(N){console.error("알림 읽음 처리 실패:",N)}},p=async()=>{try{await dh.markAllAsRead(),l(E=>E.map(N=>({...N,isRead:"Y"})))}catch(E){console.error("전체 읽음 처리 실패:",E)}},b=async E=>{try{await dh.deleteNotification(E),l(N=>N.filter(A=>A.notificationId!==E))}catch(N){console.error("알림 삭제 실패:",N)}},v=async E=>{if(E.isRead==="N"&&m(E.notificationId),E.linkUrl&&E.linkUrl.includes("/clubs")){const N=E.linkUrl.match(/\clubs\/(\d+)/);if(N){const A=parseInt(N[1]);try{const T=(await clubApi.getJoinedClubs()).find(D=>D.clubId===A);T&&t(T.clubId,T.role)}catch(R){console.error("동호회 정보 조회 실패:",R)}}}E.linkUrl&&e(E.linkUrl),r(!1)},x=E=>{if(!E)return"";const N=new Date(E),R=Math.floor((new Date-N)/1e3);return R<60?"방금 전":R<3600?`${Math.floor(R/60)}분 전`:R<86400?`${Math.floor(R/3600)}시간 전`:R<604800?`${Math.floor(R/86400)}일 전`:N.toLocaleDateString("ko-KR")},S=i.some(E=>E.isRead==="N");return f.jsxs("div",{className:"relative",ref:c,children:[f.jsxs("button",{onClick:()=>r(!s),className:"relative text-gray-700 hover:text-primary transition-colors pt-1","aria-label":"알림",children:[f.jsx(K3,{className:"w-7 h-7"}),S&&f.jsx("span",{className:"absolute top-1.5 right-0.5 block h-2 w-2 bg-red-500 rounded-full"})]}),s&&f.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[f.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[f.jsx("h3",{className:"font-semibold text-gray-900",children:"알림"}),S&&f.jsx("button",{onClick:p,className:"text-sm text-primary hover:text-primary-dark",children:"모두 읽음"})]}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"알림이 없습니다"}):i.map(E=>f.jsx("div",{className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${E.isRead==="N"?"bg-blue-50":""}`,onClick:()=>v(E),children:f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-gray-900 text-sm",children:E.title}),f.jsx("p",{className:"text-gray-600 text-sm mt-1",children:E.content}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:x(E.sentAt)})]}),f.jsx("button",{onClick:N=>{N.stopPropagation(),b(E.notificationId)},className:"text-gray-400 hover:text-red-500 transition-colors",children:f.jsx(no,{className:"w-4 h-4"})})]})},E.notificationId))})]})]})},y6=({isOpen:n,onClose:e,onSuccess:t})=>{const[s,r]=_.useState([]),[i,l]=_.useState({name:"",categoryId:"",sido:"",sigungu:"",description:"",maxMembers:"",fileId:null}),[c,u]=_.useState(null),[h,m]=_.useState({}),[p,b]=_.useState(!1);_.useEffect(()=>{n&&v()},[n]);const v=async()=>{try{const T=await Ic.getCategoriesHierarchy();r(T)}catch(T){console.error("카테고리 조회 실패:",T)}},x=async T=>{const D=T.target.files?.[0];if(D){if(!D.type.startsWith("image/")){m(M=>({...M,image:"이미지 파일만 업로드 가능합니다."}));return}try{const M=await Ts.uploadImage(D);l(U=>({...U,fileId:M.fileId})),u(M.fileUrl),m(U=>({...U,image:""})),console.log("이미지 업로드 성공:",M)}catch(M){console.error("이미지 업로드 실패:",M),m(U=>({...U,image:"이미지 업로드에 실패했습니다."}))}}},S=()=>{new window.daum.Postcode({oncomplete:function(T){l(D=>({...D,sido:T.sido,sigungu:T.sigungu})),m(D=>({...D,address:""}))}}).open()},E=T=>{const{name:D,value:M}=T.target;l(U=>({...U,[D]:M})),m(U=>({...U,[D]:""}))},N=()=>{const T={};if(i.name.trim()?i.name.length>30&&(T.name="동호회 이름은 30자 이내로 입력해주세요."):T.name="동호회 이름을 입력해주세요.",i.categoryId||(T.categoryId="관심사를 선택해주세요."),(!i.sido||!i.sigungu)&&(T.address="지역을 선택해주세요."),i.description&&i.description.length>300&&(T.description="동호회 설명은 300자 이내로 입력해주세요."),!i.maxMembers)T.maxMembers="모집 정원을 입력해주세요.";else{const D=parseInt(i.maxMembers);isNaN(D)||D<2?T.maxMembers="최소 2명 이상이어야 합니다.":D>999&&(T.maxMembers="최대 999명까지 가능합니다.")}return m(T),Object.keys(T).length===0},A=async()=>{if(N()){b(!0);try{const T=await Kt.post("http://localhost:8080/clubs",{...i,maxMembers:parseInt(i.maxMembers),categoryId:parseInt(i.categoryId)},{withCredentials:!0});t(T.data),window.dispatchEvent(new CustomEvent("clubUpdated")),R()}catch(T){console.error("동호회 생성 실패:",T),m(D=>({...D,submit:T.response?.data?.message||"동호회 생성에 실패했습니다."}))}finally{b(!1)}}},R=()=>{l({name:"",categoryId:"",sido:"",sigungu:"",description:"",maxMembers:"",fileId:null}),u(null),m({}),e()};return n?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"동호회 만들기"}),f.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 text-2xl",disabled:p,children:"×"})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(v_,{className:"w-5 h-5 mr-2 text-gray-600"}),"프로필 사진"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-28 h-28 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50 overflow-hidden",children:c?f.jsx("img",{src:c,alt:"미리보기",className:"w-full h-full object-cover"}):f.jsx(v_,{className:"w-12 h-12 text-gray-300"})}),f.jsxs("label",{className:"px-4 py-2 bg-primary text-white text-sm rounded-lg cursor-pointer hover:brightness-110 transition-all",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:p}),"사진 업로드"]})]}),h.image&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.image})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(sa,{className:"w-5 h-5 mr-2 text-gray-600"}),"지역 선택"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:i.sido&&i.sigungu?`${i.sido} ${i.sigungu}`:"",placeholder:"지역을 선택해주세요",readOnly:!0,onClick:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),f.jsx("button",{type:"button",onClick:S,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",disabled:p,children:"▼"})]}),h.address&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.address})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(Wv,{className:"w-5 h-5 mr-2 text-gray-600"}),"관심사"]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{name:"categoryId",value:i.categoryId,onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",disabled:p,children:[f.jsx("option",{value:"",children:"관심사를 선택해주세요."}),s.map(T=>f.jsx("optgroup",{label:T.name,children:T.children?.map(D=>f.jsx("option",{value:D.categoryId,children:D.name},D.categoryId))},T.categoryId))]}),f.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:"▼"})]}),h.categoryId&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.categoryId})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(uI,{className:"w-5 h-5 mr-2 text-gray-600"}),"동호회 이름"]}),f.jsx("input",{type:"text",name:"name",value:i.name,onChange:E,placeholder:"예: 서울 맛집 탐방 모임",maxLength:30,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),f.jsxs("div",{className:"flex items-center justify-between mt-1",children:[h.name&&f.jsx("p",{className:"text-sm text-red-500",children:h.name}),f.jsxs("p",{className:"text-xs text-gray-400 ml-auto",children:[i.name.length,"/30자"]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(Pc,{className:"w-5 h-5 mr-2 text-gray-600"}),"동호회 설명"]}),f.jsx("textarea",{name:"description",value:i.description,onChange:E,placeholder:"어떤 동호회인지 자세히 설명해주세요. 동호회의 목적, 활동 내용, 만날 주기 등을 포함하면 좋습니다",rows:5,maxLength:300,className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),f.jsxs("div",{className:"flex items-center justify-between mt-1",children:[h.description&&f.jsx("p",{className:"text-sm text-red-500",children:h.description}),f.jsxs("p",{className:"text-xs text-gray-400 ml-auto",children:[i.description.length,"/300자"]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-900 mb-2",children:[f.jsx(Ac,{className:"w-5 h-5 mr-2 text-gray-600"}),"모집 정원"]}),f.jsx("input",{type:"number",name:"maxMembers",value:i.maxMembers,onChange:E,placeholder:"최대 몇 명까지 모집하시나요?",min:2,max:999,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),h.maxMembers&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.maxMembers})]}),h.submit&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600",children:h.submit})})]})}),f.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex gap-3",children:[f.jsx("button",{onClick:R,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",disabled:p,children:"취소"}),f.jsx("button",{onClick:A,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:brightness-110 transition-all disabled:opacity-50",disabled:p,children:p?"생성 중...":"생성"})]})]})}):null};function sn({isOpen:n,onClose:e,title:t,message:s,confirmText:r="확인"}){return n?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50",onClick:e}),f.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 z-10",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t||"알림"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(no,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"p-6",children:f.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s})}),f.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:f.jsx("button",{onClick:e,className:"px-6 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-hover transition-colors",children:r})})]})]}):null}function cg(){const[n,e]=_.useState({isOpen:!1,title:"",message:"",confirmText:"확인"});return{alertState:n,showAlert:(r,i="알림",l="확인")=>{e({isOpen:!0,title:i,message:r,confirmText:l})},closeAlert:()=>{e(r=>({...r,isOpen:!1}))}}}const hR=()=>{const n=_t(),{user:e,setUser:t,isAuthenticated:s,clearUser:r,currentClubId:i,setCurrentClub:l}=ws(),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[p,b]=_.useState(vn),v=_.useRef(null),{alertState:x,showAlert:S,closeAlert:E}=cg();_.useEffect(()=>{s&&e?(async()=>{if(e?.profileImageUrl)b(e.profileImageUrl);else if(e?.fileId)try{const U=(await Ts.getFile(e.fileId)).fileLink||vn;b(U),t({...e,profileImageUrl:U})}catch(M){console.error("프로필 이미지 조회 실패:",M),b(vn)}else b(vn)})():b(vn)},[e?.fileId,e?.profileImageUrl,s]);const N=()=>{Ei.logout(),r(),u(!1),n("/")},A=()=>{s?m(!0):n("/login")},R=D=>{console.log("동호회 생성 완료:",D),l(D.clubId,"LEADER"),n(`/clubs/${D.clubId}/dashboard`)},T=async()=>{u(!1),i?n(`/clubs/${i}/dashboard`):S(`가입된 동호회가 없습니다.
동호회에 먼저 가입해주세요.`)};return _.useEffect(()=>{const D=M=>{v.current&&!v.current.contains(M.target)&&u(!1)};return c&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[c]),f.jsxs(f.Fragment,{children:[f.jsx(sn,{isOpen:x.isOpen,onClose:E,title:x.title,message:x.message,confirmText:x.confirmText}),f.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center space-x-8",children:[f.jsx(Ot,{to:"/",children:f.jsx("img",{src:Fv,alt:"Linkle 로고",className:"h-6 w-auto object-contain cursor-pointer hover:opacity-90 transition-opacity"})}),f.jsxs("nav",{className:"flex items-center space-x-8",children:[f.jsx(Ot,{to:"/",className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"동호회"}),f.jsx(Ot,{to:"/community",className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"커뮤니티"}),f.jsx(Ot,{to:"/gallery",className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"갤러리"})]})]}),f.jsx("div",{className:"flex items-center space-x-6",children:s?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:A,className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"동호회+"}),f.jsx(b6,{memberId:e?.id}),f.jsxs("div",{className:"relative",ref:v,children:[f.jsx("button",{onClick:()=>u(!c),className:"w-11 h-11 rounded-full overflow-hidden hover:opacity-80 transition-opacity translate-y-1","aria-label":"프로필 메뉴",children:f.jsx("img",{src:p,alt:"프로필",className:"w-full h-full object-cover"})}),c&&f.jsxs("div",{className:"absolute right-0 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1",children:[f.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"내 동호회"}),f.jsx(Ot,{to:"/mypage/profile",onClick:()=>u(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"내 정보"}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsx("button",{onClick:N,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"로그아웃"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:A,className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"동호회+"}),f.jsx(Ot,{to:"/login",className:"text-gray-700 hover:text-primary font-medium transition-colors",children:"로그인"})]})})]})})}),f.jsx(y6,{isOpen:h,onClose:()=>m(!1),onSuccess:R})]})},mR=()=>{const n=new Date().getFullYear();return f.jsx("footer",{className:"bg-white border-t border-gray-200 mt-4",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 py-3",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-gray-400 text-sm",children:["© ",n," Linkle"]}),f.jsx(Ot,{to:"/",className:"text-gray-400 hover:text-[#4CA8FF] transition-colors text-sm",children:"Home"})]})})})},hi=({children:n})=>f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(hR,{}),f.jsx("main",{className:"flex-1",children:n}),f.jsx(mR,{})]}),Ha=({children:n})=>f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:n}),as=({children:n,sidebar:e})=>f.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[f.jsx(hR,{}),f.jsx("main",{className:"flex-1 max-w-7xl mx-auto px-6 py-8 w-full",children:f.jsxs("div",{className:"flex gap-8",children:[e,f.jsx("div",{className:"flex-1",children:n})]})}),f.jsx(mR,{})]}),Xr=()=>{const{clubId:n}=cr(),e=or(),t=_t(),{setCurrentClub:s}=ws(),[r,i]=_.useState([]),[l,c]=_.useState(!1),u=_.useRef(null),h=async()=>{try{const E=await St.getJoinedClubs();if(i(E||[]),E&&E.length>0){const{currentClubId:N}=ws.getState(),A=E.find(R=>R.clubId===N);(!N||!A)&&s(E[0].clubId,E[0].role)}else s(null,null)}catch(E){console.error("동호회 목록 조회 실패:",E)}};_.useEffect(()=>{h()},[]),_.useEffect(()=>{const E=()=>{h()};return window.addEventListener("clubUpdated",E),()=>window.removeEventListener("clubUpdated",E)},[]),_.useEffect(()=>{const E=N=>{u.current&&!u.current.contains(N.target)&&c(!1)};return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[]);const m=r.find(E=>String(E.clubId)===String(n)),p=E=>{const N=r.find(A=>A.clubId===E);N&&s(N.clubId,N.role),c(!1),t(`/clubs/${E}/dashboard`)},b=[{label:"대시보드",path:`/clubs/${n}/dashboard`},{label:"공지사항",path:`/clubs/${n}/notice`},{label:"일정",path:`/clubs/${n}/schedule`},{label:"멤버",path:`/clubs/${n}/members`}],v=[{label:"동호회 관리",path:`/clubs/${n}/manage`}],x=m?.role==="LEADER",S=E=>e.pathname.startsWith(E);return f.jsx("aside",{className:"w-64",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-sm sticky top-24 overflow-hidden",children:[f.jsxs("div",{ref:u,className:"relative",children:[f.jsxs("button",{onClick:()=>c(E=>!E),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-200",type:"button",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900",children:m?.name||"동호회"}),f.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&f.jsx("div",{className:"absolute left-2 right-2 top-[calc(100%-8px)] z-50 bg-white border border-gray-200 rounded-lg shadow-xl max-h-80 overflow-y-auto",children:r.map(E=>f.jsx("button",{onClick:()=>p(E.clubId),className:`w-full px-6 py-3 text-left transition-colors border-b border-gray-100 last:border-b-0 first:rounded-t-lg last:rounded-b-lg ${String(E.clubId)===String(n)?"bg-primary text-white font-medium":"text-gray-700 hover:bg-gray-50"}`,children:E.name},E.clubId))})]}),f.jsxs("nav",{className:"p-4 pt-6",children:[b.map(E=>f.jsx(Ot,{to:E.path,className:`
                block px-4 py-3 mb-1 rounded-lg text-sm font-medium transition-all
                ${S(E.path)?"bg-primary text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}
              `,children:E.label},E.path)),x&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"my-4 border-t border-gray-200"}),v.map(E=>f.jsx(Ot,{to:E.path,className:`
                    block px-4 py-3 mb-1 rounded-lg text-sm font-medium transition-all
                    ${S(E.path)?"bg-primary text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}
                  `,children:E.label},E.path))]})]})]})})},ic=()=>{const n=or(),e=[{label:"프로필",path:"/mypage/profile",isActive:n.pathname==="/mypage/profile"},{label:"비밀번호 변경",path:"/mypage/password",isActive:n.pathname==="/mypage/password"},{label:"나의 활동",path:"/mypage/activities",isActive:n.pathname==="/mypage/activities"},{label:"회원 탈퇴",path:"/mypage/withdrawal",isActive:n.pathname==="/mypage/withdrawal"}];return f.jsx("aside",{className:"w-64",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"마이페이지"}),f.jsx("nav",{className:"space-y-2",children:e.map(t=>f.jsx(Ot,{to:t.path,className:`
                block px-4 py-3 rounded-lg text-sm font-medium transition-colors
                ${t.isActive?"bg-primary text-white":"text-gray-700 hover:bg-gray-100 hover:text-primary"}
              `,children:t.label},t.path))})]})})},v6=()=>{const n=_t(),[e,t]=_.useState(""),[s,r]=_.useState([]),[i,l]=_.useState([]),[c,u]=_.useState(!1);_.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const[x,S]=await Promise.all([Ic.getCategoriesHierarchy(),St.getRecentClubs()]),E=x.filter(N=>!N.parentCategoryId);r(E),l(S)}catch(x){console.error("데이터 로딩 실패:",x)}finally{u(!1)}},m=x=>{x.preventDefault(),e.trim()&&n(`/clubs/search?keyword=${encodeURIComponent(e.trim())}`)},p=x=>{n(`/clubs/list?type=category&categoryId=${x}`)},b=x=>{n(`/clubs/${x}/detail`)},v=()=>{n("/clubs/list?type=recent")};return f.jsx("div",{className:"bg-white min-h-screen",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[f.jsx("form",{onSubmit:m,className:"mb-16 flex justify-center",children:f.jsxs("div",{className:"relative w-full max-w-4xl",children:[f.jsx("input",{type:"text",placeholder:"검색어를 입력해 주세요",value:e,onChange:x=>t(x.target.value),className:"w-full px-6 py-5 text-lg border-2 border-primary rounded-full focus:outline-none bg-white shadow-sm"}),f.jsx("button",{type:"submit",className:"absolute right-6 top-1/2 transform -translate-y-1/2 text-primary text-xl",children:"🔍"})]})}),f.jsx("div",{className:"mb-20 flex justify-center",children:f.jsx("div",{className:"flex space-x-10",children:s.map(x=>f.jsxs("div",{onClick:()=>p(x.categoryId),className:"flex flex-col items-center cursor-pointer group",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-3 group-hover:shadow-md transition-shadow",children:f.jsx("span",{className:"text-2xl",children:x6(x.name)})}),f.jsx("span",{className:"text-sm text-gray-700 text-center whitespace-nowrap group-hover:text-gray-900",children:x.name})]},x.categoryId))})}),f.jsxs("div",{className:"mb-20",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"최근 생성된 동호회"}),f.jsx("button",{onClick:v,className:"text-gray-500 hover:text-primary transition-colors",children:"더보기 >"})]}),i.length===0?f.jsx("div",{className:"text-center py-12 text-gray-500",children:"생성된 동호회가 없습니다."}):f.jsx("div",{className:"grid grid-cols-3 gap-8",children:i.map(x=>f.jsxs("div",{onClick:()=>b(x.clubId),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow cursor-pointer",children:[f.jsx("div",{className:"w-full h-48 bg-gray-300 flex items-center justify-center",children:x.fileLink?f.jsx("img",{src:x.fileLink,alt:x.clubName,className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-gray-500",children:"이미지"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-xl mb-3 text-gray-900",children:x.clubName}),f.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed line-clamp-2",children:x.description||"동호회 소개가 없습니다."}),f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[f.jsx("span",{children:x.categoryName}),f.jsxs("span",{children:["멤버 ",x.memberCount,"명"]})]})]})]},x.clubId))})]}),f.jsx("div",{className:"fixed bottom-8 right-8",children:f.jsx("button",{className:"w-14 h-14 bg-primary rounded-full shadow-lg hover:shadow-xl transition-shadow flex items-center justify-center text-white text-2xl",children:"💬"})})]})})},x6=n=>({"운동·스포츠":"⚽","문화·예술":"🎨",취미:"💛",자기계발:"📚","푸드·드링크":"🍺","여행·아웃도어":"✈️","게임·오락":"🎮",외국어:"🌐"})[n]||"📌";function w6(){const[n]=Oc(),[e,t]=_.useState({email:"",password:""}),[s,r]=_.useState({}),[i,l]=_.useState(!1),c=_t(),{setUser:u,setCurrentClub:h,setLoading:m,setError:p}=ws();_.useEffect(()=>{const S=n.get("message");S&&r({general:decodeURIComponent(S)})},[n]);const b=S=>{const{name:E,value:N}=S.target;t(A=>({...A,[E]:N})),s[E]&&r(A=>({...A,[E]:""}))},v=()=>{const S={};return e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(S.email="올바른 이메일 형식을 입력해주세요."):S.email="이메일을 입력해주세요.",e.password||(S.password="비밀번호를 입력해주세요."),r(S),Object.keys(S).length===0},x=async S=>{if(S.preventDefault(),!!v()){l(!0),m(!0);try{const E=await Ei.login(e.email,e.password);E.fileId,u({id:E.memberId,email:E.email,name:E.name,nickname:E.nickname,fileId:E.fileId,profileImageUrl:E.profileImageUrl});try{const N=await St.getJoinedClubs();N&&N.length>0&&h(N[0].clubId,N[0].role)}catch(N){console.error("동호회 목록 조회 실패:",N)}c("/")}catch(E){console.error("로그인 에러:",E),p(E.message),r({general:E.message})}finally{l(!1),m(!1)}}};return f.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-2 gap-16",children:[f.jsx("div",{className:"flex items-center justify-start",children:f.jsx(Ot,{to:"/",children:f.jsx("img",{src:Fv,alt:"Linkle 로고",className:"w-80 h-auto object-contain cursor-pointer hover:opacity-90 transition-opacity"})})}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-8",children:"로그인"}),f.jsxs("form",{onSubmit:x,noValidate:!0,className:"space-y-4",children:[s.general&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-600 text-sm",children:s.general}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),f.jsx("input",{type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:b,placeholder:"이메일",className:`w-full h-12 px-4 bg-white border rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${s.email?"border-red-300":"border-gray-300"}`}),s.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.email]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),f.jsx("input",{type:"password",name:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:b,placeholder:"비밀번호",className:`w-full h-12 px-4 bg-white border rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${s.password?"border-red-300":"border-gray-300"}`}),s.password&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.password]})]}),f.jsx("button",{type:"submit",disabled:i,className:"w-full h-12 bg-primary text-white rounded-md font-semibold hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"로그인 중...":"로그인"}),f.jsxs("div",{className:"text-center text-xs text-gray-500 py-2 space-x-2",children:[f.jsx(Ot,{to:"/signup",className:"hover:underline",children:"회원가입"}),f.jsx("span",{children:"|"}),f.jsx(Ot,{to:"/find-id",className:"hover:underline",children:"아이디 찾기"}),f.jsx("span",{children:"|"}),f.jsx(Ot,{to:"/find-password",className:"hover:underline",children:"비밀번호 찾기"})]})]})]})})]})}function E6(){const n=_t(),[e,t]=_.useState({email:"",password:"",passwordConfirm:"",name:""}),[s,r]=_.useState({}),[i,l]=_.useState(!1),[c,u]=_.useState(!1),h=b=>{const{name:v,value:x}=b.target;if(t(S=>({...S,[v]:x})),v==="password"){const S=x.length>=8&&/[a-zA-Z]/.test(x)&&/\d/.test(x);l(S)}s[v]&&r(S=>({...S,[v]:""}))},m=()=>{const b={},v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?v.test(e.email)||(b.email="올바른 이메일 형식이 아닙니다."):b.email="이메일을 입력해주세요.",e.password?i||(b.password="비밀번호는 8자 이상, 영문과 숫자를 포함해야 합니다."):b.password="비밀번호를 입력해주세요.",e.passwordConfirm?e.password!==e.passwordConfirm&&(b.passwordConfirm="비밀번호가 일치하지 않습니다."):b.passwordConfirm="비밀번호를 다시 입력해주세요.",e.name||(b.name="이름을 입력해주세요."),r(b),Object.keys(b).length===0},p=async b=>{if(b.preventDefault(),!!m()){u(!0);try{const v=await Ei.registerStep1(e.email,e.password,e.name);console.log("1단계 완료:",v),n("/signup/step2",{state:{memberId:v.memberId,email:e.email}})}catch(v){console.error("회원가입 에러:",v),r({general:v.message||"회원가입에 실패했습니다."})}finally{u(!1)}}};return f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsx("div",{className:"mb-6",children:f.jsxs(Ot,{to:"/login",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[f.jsx("span",{className:"mr-2",children:"←"}),f.jsx("span",{className:"text-sm",children:"로그인으로 돌아가기"})]})}),f.jsx("div",{className:"flex items-center justify-center mb-8",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),f.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-2"}),f.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),f.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-2"}),f.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"3"})]})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"회원가입"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"링클에서 다양한 친구를 만나세요"})]}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.general&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-600 text-sm",children:s.general}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),f.jsx("input",{type:"email",name:"email",value:e.email,onChange:h,placeholder:"이메일",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),s.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.email]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),f.jsx("input",{type:"password",name:"password",value:e.password,onChange:h,placeholder:"비밀번호",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),e.password&&f.jsxs("p",{className:`mt-1 text-sm flex items-center ${i?"text-green-500":"text-gray-400"}`,children:[f.jsx("span",{className:"mr-1",children:i?"✓":"•"}),"8자 이상, 영문과 숫자 포함"]}),s.password&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.password]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),f.jsx("input",{type:"password",name:"passwordConfirm",value:e.passwordConfirm,onChange:h,placeholder:"비밀번호 확인",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),s.passwordConfirm&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.passwordConfirm]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),f.jsx("input",{type:"text",name:"name",value:e.name,onChange:h,placeholder:"이름",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),s.name&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),s.name]})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:bg-gray-400",children:c?"처리 중...":"다음"})]})]})}function S6(){const n=_t(),t=or().state?.memberId,{alertState:s,showAlert:r,closeAlert:i}=cg(),[l,c]=_.useState({nickname:"",birthDate:"",gender:"",sido:"",sigungu:""}),[u,h]=_.useState({}),[m,p]=_.useState(!1),[b,v]=_.useState(!1);_.useEffect(()=>{t||(r("잘못된 접근입니다."),setTimeout(()=>n("/signup"),1e3))},[t,n,r]);const x=T=>{const{name:D,value:M}=T.target;c(U=>({...U,[D]:M})),D==="nickname"&&(p(!1),v(!1)),u[D]&&h(U=>({...U,[D]:""}))},S=async()=>{if(!l.nickname){h(T=>({...T,nickname:"닉네임을 입력해주세요."}));return}try{const T=await Ei.checkNickname(l.nickname);p(!0),T?(v(!1),h(D=>({...D,nickname:"이미 사용 중인 닉네임입니다."}))):(v(!0),h(D=>({...D,nickname:""})))}catch(T){console.error("닉네임 중복 체크 에러:",T),r("닉네임 중복 체크에 실패했습니다.")}},E=()=>{new window.daum.Postcode({oncomplete:function(T){c(D=>({...D,sido:T.sido,sigungu:T.sigungu}))}}).open()},N=()=>{const T={};return l.nickname?(!m||!b)&&(T.nickname="닉네임 중복 확인이 필요합니다."):T.nickname="닉네임을 입력해주세요.",l.birthDate||(T.birthDate="생년월일을 입력해주세요."),l.gender||(T.gender="성별을 선택해주세요."),(!l.sido||!l.sigungu)&&(T.address="주소를 입력해주세요."),h(T),Object.keys(T).length===0},A=async T=>{if(T.preventDefault(),!!N())try{const D=await Ei.registerStep2(t,l.nickname,l.birthDate,l.gender,l.sido,l.sigungu);console.log("2단계 완료:",D),n("/signup/step3",{state:{memberId:t}})}catch(D){console.error("2단계 에러:",D),r(D.message||"회원 정보 등록에 실패했습니다.")}},R=()=>{n("/signup")};return f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsx(sn,{isOpen:s.isOpen,onClose:i,title:s.title,message:s.message,confirmText:s.confirmText}),f.jsx("div",{className:"flex items-center justify-center mb-8",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),f.jsx("div",{className:"w-12 h-0.5 bg-primary mx-2"}),f.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),f.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-2"}),f.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"3"})]})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"추가 정보"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"서비스 이용을 위한 추가 정보를 입력해주세요"})]}),f.jsxs("form",{onSubmit:A,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"닉네임"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",name:"nickname",value:l.nickname,onChange:x,placeholder:"닉네임",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),f.jsx("button",{type:"button",onClick:S,className:"px-4 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-hover transition-colors whitespace-nowrap",children:"중복확인"})]}),m&&b&&f.jsxs("p",{className:"mt-1 text-sm text-green-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✓"}),"사용 가능한 닉네임입니다."]}),u.nickname&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),u.nickname]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"생년월일"}),f.jsx("input",{type:"date",name:"birthDate",value:l.birthDate,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),u.birthDate&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),u.birthDate]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"성별"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"radio",name:"gender",value:"M",checked:l.gender==="M",onChange:x,className:"w-4 h-4 text-primary focus:ring-primary"}),f.jsx("span",{className:"ml-2 text-gray-700",children:"남성"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"radio",name:"gender",value:"F",checked:l.gender==="F",onChange:x,className:"w-4 h-4 text-primary focus:ring-primary"}),f.jsx("span",{className:"ml-2 text-gray-700",children:"여성"})]})]}),u.gender&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),u.gender]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주소"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:l.sido&&l.sigungu?`${l.sido} ${l.sigungu}`:"",placeholder:"주소를 검색해주세요",readOnly:!0,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer",onClick:E}),f.jsx("button",{type:"button",onClick:E,className:"px-4 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-hover transition-colors whitespace-nowrap",children:"주소검색"})]}),u.address&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),u.address]})]}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:R,className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"이전"}),f.jsx("button",{type:"submit",className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors",children:"다음"})]})]})]})}function _6(){const n=_t(),e=or(),t=e.state?.memberId,[s,r]=_.useState([]),[i,l]=_.useState([]),[c,u]=_.useState(""),[h,m]=_.useState(""),[p,b]=_.useState(!1);_.useEffect(()=>{if(!t){alert("잘못된 접근입니다."),n("/signup");return}m(e.state?.email||""),v()},[t,n,e.state]);const v=async()=>{try{const N=await Ic.getCategoriesHierarchy();r(N)}catch(N){console.error("카테고리 조회 에러:",N),alert("카테고리를 불러오는데 실패했습니다.")}},x=N=>{l(A=>A.includes(N)?A.filter(R=>R!==N):A.length>=5?(u("관심사는 최대 5개까지 선택 가능합니다."),A):(u(""),[...A,N]))},S=async N=>{if(N.preventDefault(),i.length<3){u("관심사를 최소 3개 선택해주세요.");return}b(!0);try{await Ei.registerStep3(t,i),n("/signup/complete",{state:{email:h}})}catch(A){console.error("3단계 에러:",A),alert(A.message||"관심사 등록에 실패했습니다.")}finally{b(!1)}},E=()=>{n("/signup/step2",{state:{memberId:t}})};return f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8 relative",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"관심사를 선택해 주세요"}),i.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["선택된 관심사:"," ",f.jsxs("span",{className:"font-semibold text-primary",children:[i.length,"개"]})]}),f.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.map(N=>{const A=s.flatMap(R=>R.children||[]).find(R=>R.categoryId===N);return A?f.jsx("span",{className:"px-3 py-1 bg-primary text-white text-sm rounded-full",children:A.name},N):null})})]})]}),f.jsxs("form",{onSubmit:S,children:[f.jsx("div",{className:"overflow-y-auto mb-6",style:{maxHeight:"400px"},children:f.jsx("div",{className:"space-y-6 pr-2",children:s.map(N=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:N.name}),f.jsx("div",{className:"flex flex-wrap gap-2",children:N.children&&N.children.map(A=>f.jsx("button",{type:"button",onClick:()=>x(A.categoryId),className:`px-4 py-2 rounded-full text-sm transition-colors ${i.includes(A.categoryId)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A.name},A.categoryId))})]},N.categoryId))})}),c&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-600 text-sm mb-4",children:c}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:E,disabled:p,className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"이전"}),f.jsx("button",{type:"submit",disabled:p||i.length<3,className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"처리중...":"완료"})]})]})]})}function N6(){const n=_t(),t=or().state?.email||"";return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"회원가입 완료"}),f.jsx("p",{className:"text-gray-600 mb-6",children:t?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"font-medium text-primary",children:t}),f.jsx("br",{}),"로 인증 메일을 발송했습니다."]}):"인증 메일을 발송했습니다."}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[f.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"인증 방법"}),f.jsxs("ol",{className:"text-sm text-gray-600 space-y-2",children:[f.jsx("li",{children:"1. 이메일을 확인해주세요"}),f.jsx("li",{children:"2. 인증 메일의 버튼을 클릭해주세요"}),f.jsx("li",{children:"3. 인증 완료 후 로그인해주세요"})]})]}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"메일이 오지 않았다면 스팸 메일함을 확인해주세요."}),f.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors",children:"로그인 페이지로"})]})})})}function A6(){const[n,e]=_.useState(""),[t,s]=_.useState({}),[r,i]=_.useState(!1),[l,c]=_.useState(null),u=p=>{e(p.target.value),t.email&&s({}),c(null)},h=p=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(p),m=async p=>{if(p.preventDefault(),!n){s({email:"이메일을 입력해주세요."});return}if(!h(n)){s({email:"올바른 이메일 형식이 아닙니다."});return}i(!0);try{const b=await Ei.findId(n);c(b.email),s({})}catch(b){console.error("아이디 찾기 에러:",b),s({email:b.message||"아이디 찾기에 실패했습니다."}),c(null)}finally{i(!1)}};return f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsx("div",{className:"mb-6",children:f.jsxs(Ot,{to:"/login",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[f.jsx("span",{className:"mr-2",children:"←"}),f.jsx("span",{className:"text-sm",children:"로그인으로 돌아가기"})]})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"아이디 찾기"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"가입 시 사용한 이메일을 입력해주세요"})]}),l?f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx("span",{className:"text-3xl",children:"✓"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"회원님의 아이디는"}),f.jsx("p",{className:"text-xl font-bold text-gray-900",children:l}),f.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"입니다."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(Ot,{to:"/login",className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors flex items-center justify-center",children:"로그인"}),f.jsx(Ot,{to:"/find-password",className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center",children:"비밀번호 찾기"})]})]}):f.jsxs("form",{onSubmit:m,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일 주소"}),f.jsx("input",{type:"email",name:"email",value:n,onChange:u,placeholder:"example@linkle.com",className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${t.email?"border-red-300":"border-gray-300"}`}),t.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),t.email]})]}),f.jsxs("button",{type:"submit",disabled:r,className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[f.jsx("span",{className:"mr-2",children:"🔍"}),r?"처리 중...":"아이디 찾기"]}),f.jsxs("div",{className:"text-center text-xs text-gray-500 py-2 space-x-2",children:[f.jsx(Ot,{to:"/signup",className:"hover:underline",children:"회원가입"}),f.jsx("span",{children:"|"}),f.jsx(Ot,{to:"/find-password",className:"hover:underline",children:"비밀번호 찾기"})]})]})]})}function C6(){const[n,e]=_.useState(""),[t,s]=_.useState({}),[r,i]=_.useState(!1),[l,c]=_.useState(!1),u=p=>{e(p.target.value),t.email&&s({}),c(!1)},h=p=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(p),m=async p=>{if(p.preventDefault(),!n){s({email:"이메일을 입력해주세요."});return}if(!h(n)){s({email:"올바른 이메일 형식이 아닙니다."});return}i(!0);try{await Ei.forgotPassword(n),c(!0),s({})}catch(b){console.error("비밀번호 찾기 에러:",b),s({email:b.message||"비밀번호 찾기에 실패했습니다."}),c(!1)}finally{i(!1)}};return f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsx("div",{className:"mb-6",children:f.jsxs(Ot,{to:"/login",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[f.jsx("span",{className:"mr-2",children:"←"}),f.jsx("span",{className:"text-sm",children:"로그인으로 돌아가기"})]})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"비밀번호 찾기"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"가입 시 사용한 이메일을 입력해주세요"})]}),l?f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-2",children:"이메일을 확인해주세요"}),f.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[n,"로"]}),f.jsx("p",{className:"text-sm text-gray-600",children:"비밀번호 재설정 링크를 보내드렸습니다."})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[f.jsx("p",{className:"mb-2",children:"이메일이 도착하지 않았나요?"}),f.jsxs("ul",{className:"text-left space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"스팸 메일함을 확인해주세요"}),f.jsx("li",{children:"입력하신 이메일 주소가 정확한지 확인해주세요"}),f.jsx("li",{children:"링크는 24시간 동안 유효합니다"})]})]}),f.jsx(Ot,{to:"/login",className:"block w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors",children:"로그인으로 돌아가기"})]}):f.jsxs("form",{onSubmit:m,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일 주소"}),f.jsx("input",{type:"email",name:"email",value:n,onChange:u,placeholder:"example@linkle.com",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${t.email?"border-red-300":"border-gray-300"}`}),t.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),t.email]})]}),f.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"처리 중...":"비밀번호 재설정 이메일 받기"}),f.jsxs("div",{className:"text-center text-xs text-gray-500 py-2 space-x-2",children:[f.jsx(Ot,{to:"/signup",className:"hover:underline",children:"회원가입"}),f.jsx("span",{children:"|"}),f.jsx(Ot,{to:"/find-id",className:"hover:underline",children:"아이디 찾기"})]})]})]})}function T6(){const n=_t(),[e]=Oc(),t=e.get("token"),[s,r]=_.useState({newPassword:"",confirmPassword:""}),[i,l]=_.useState({}),[c,u]=_.useState(!1),[h,m]=_.useState(!1);_.useEffect(()=>{t||l({general:"유효하지 않은 재설정 링크입니다."})},[t]);const p=x=>{const{name:S,value:E}=x.target;if(r(N=>({...N,[S]:E})),S==="newPassword"){const N=E.length>=8&&/[a-zA-Z]/.test(E)&&/\d/.test(E);m(N)}i[S]&&l(N=>({...N,[S]:""}))},b=()=>{const x={};return s.newPassword?h||(x.newPassword="비밀번호는 8자 이상, 영문과 숫자를 포함해야 합니다."):x.newPassword="새 비밀번호를 입력해주세요.",s.confirmPassword?s.newPassword!==s.confirmPassword&&(x.confirmPassword="비밀번호가 일치하지 않습니다."):x.confirmPassword="비밀번호를 다시 입력해주세요.",l(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!!t&&b()){u(!0);try{await Ei.resetPassword(t,s.newPassword),alert("비밀번호가 성공적으로 변경되었습니다."),n("/login")}catch(S){console.error("비밀번호 재설정 에러:",S),l({general:S.message||"비밀번호 재설정에 실패했습니다."})}finally{u(!1)}}};return t?f.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("img",{src:Fv,alt:"Linkle",className:"h-12"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"비밀번호 재설정"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"새로운 비밀번호를 설정해주세요"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.general&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-600 text-sm",children:i.general}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"새 비밀번호"}),f.jsx("input",{type:"password",name:"newPassword",value:s.newPassword,onChange:p,placeholder:"새 비밀번호를 입력하세요",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${i.newPassword?"border-red-300":"border-gray-300"}`}),s.newPassword&&f.jsxs("p",{className:`mt-1 text-sm flex items-center ${h?"text-green-500":"text-gray-400"}`,children:[f.jsx("span",{className:"mr-1",children:h?"✓":"•"}),"8자 이상, 영문과 숫자 포함"]}),i.newPassword&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),i.newPassword]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),f.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:p,placeholder:"비밀번호를 다시 입력하세요",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${i.confirmPassword?"border-red-300":"border-gray-300"}`}),i.confirmPassword&&f.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[f.jsx("span",{className:"mr-1",children:"✕"}),i.confirmPassword]})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"처리 중...":"비밀번호 변경"})]})]}):f.jsx("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-xl p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"유효하지 않은 링크"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"재설정 링크가 유효하지 않거나 만료되었습니다."}),f.jsx("button",{onClick:()=>n("/find-password"),className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-hover transition-colors",children:"비밀번호 찾기로 돌아가기"})]})})}function j6(){const n=_t(),[e]=Oc(),[t,s]=_.useState("loading"),[r,i]=_.useState("");return _.useEffect(()=>{(async()=>{const c=e.get("token");if(!c){s("error"),i("유효하지 않은 인증 링크입니다.");return}try{await Ei.verifyEmail(c),s("success"),i("이메일 인증이 완료되었습니다.")}catch(u){console.error("인증 실패:",u),s("error"),i(u.message||"이메일 인증에 실패했습니다.")}})()},[e]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[t==="loading"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-primary border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-gray-600",children:"이메일 인증 중입니다..."})]}),t==="success"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"인증 완료"}),f.jsx("p",{className:"text-gray-600 mb-6",children:r}),f.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors",children:"로그인하기"})]}),t==="error"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"인증 실패"}),f.jsx("p",{className:"text-gray-600 mb-6",children:r}),f.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-gray-600 text-white py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"로그인 페이지로"})]})]})})}const DN=[{icon:"⚽",title:"운동/스포츠",dbName:"운동·스포츠"},{icon:"🎨",title:"문화/예술",dbName:"문화·예술"},{icon:"🎮",title:"취미",dbName:"취미"},{icon:"📚",title:"자기계발",dbName:"자기계발"},{icon:"🍴",title:"푸드/드링크",dbName:"푸드·드링크"},{icon:"✈️",title:"여행/아웃도어",dbName:"여행·아웃도어"},{icon:"🕹️",title:"게임/오락",dbName:"게임·오락"},{icon:"🌍",title:"외국어",dbName:"외국어"}],R6=(n,e)=>(n.parentCategoryName||n.categoryName)===e;function D6(){return f.jsx(Ot,{to:"/community/write","aria-label":"글 작성",className:"fixed right-32 bottom-8 z-40 w-14 h-14 rounded-full bg-[#4FA3FF] text-white shadow-xl hover:brightness-105 active:scale-95 transition",title:"글 작성",children:f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(Pc,{className:"w-7 h-7"})})})}const k6=()=>{const n=_t(),{isAuthenticated:e}=ws(),{alertState:t,showAlert:s,closeAlert:r}=cg(),[i,l]=_.useState([]),[c,u]=_.useState(!0),[h,m]=_.useState(null),[p,b]=_.useState([]),v=N=>p.some(A=>Number(A.clubId)===Number(N)&&A.status==="APPROVED");_.useEffect(()=>{(async()=>{try{u(!0),m(null);const A=await ea.getPostList();if(console.log("전체 게시글:",A),l(A),e)try{const R=await St.getJoinedClubs();b(R||[])}catch(R){console.log("동호회 목록 조회 불가:",R),b([])}}catch(A){console.error("게시글 목록 조회 실패:",A),m("게시글을 불러올 수 없습니다.")}finally{u(!1)}})()},[e]);const x=(N,A)=>{if(N.preventDefault(),!e){s("로그인 후 이용 가능합니다.");return}if(A.scope==="MEMBER"&&!v(A.clubId)){s("동호회 회원만 볼 수 있습니다.");return}n(`/community/posts/${A.postId}`,{state:{scope:A.scope,clubId:A.clubId}})},S=_.useMemo(()=>[...i].sort((N,A)=>new Date(A.createdAt)-new Date(N.createdAt)),[i]),E=_.useMemo(()=>{const N={};return DN.forEach(A=>{const R=S.filter(T=>R6(T,A.dbName));console.log(`${A.title} (DB: ${A.dbName}) 카테고리 게시글:`,R),N[A.title]=R.slice(0,5)}),N},[S]);return c?f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8 text-center",children:f.jsx("div",{className:"text-gray-500",children:"게시글을 불러오는 중..."})}):h?f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 text-center",children:[f.jsx("div",{className:"text-red-500",children:h}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#4FA3FF] text-white rounded hover:bg-[#3d8edb]",children:"다시 시도"})]}):f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[f.jsx(sn,{isOpen:t.isOpen,onClose:r,title:t.title,message:t.message,confirmText:t.confirmText}),f.jsxs("div",{className:"mb-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"전체 동호회 글"}),f.jsx(Ot,{to:`/community/${encodeURIComponent("전체")}`,className:"text-sm text-gray-500 hover:text-gray-700",children:"더보기 >"})]}),f.jsx("ul",{children:S.slice(0,5).map((N,A)=>f.jsx("li",{children:f.jsxs(Ot,{to:`/community/posts/${N.postId}`,onClick:R=>x(R,N),className:`flex items-center justify-between py-2 px-1 hover:bg-gray-50 transition ${A!==4?"border-b border-gray-100":""}`,children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),f.jsxs("span",{className:"text-gray-800 text-sm",children:[f.jsx("span",{className:"font-semibold",children:N.clubName})," · ",N.title]})]}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Wv,{className:"w-4 h-4"}),f.jsx("span",{children:N.likeCount||0})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx($v,{className:"w-4 h-4"}),f.jsx("span",{children:N.commentCount||0})]})]})]})},N.postId))})]}),f.jsx("div",{className:"h-px bg-gray-200 my-8"}),f.jsx("div",{className:"grid grid-cols-2 gap-8",children:DN.map(N=>{const A=E[N.title]||[];return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-xl",children:N.icon}),f.jsx("h3",{className:"text-base font-bold text-gray-800",children:N.title})]}),f.jsx(Ot,{to:`/community/${encodeURIComponent(N.title)}`,className:"text-sm text-gray-500 hover:text-gray-700",children:"더보기 >"})]}),A.length>0?f.jsx("ul",{className:"space-y-2",children:A.map(R=>f.jsx("li",{children:f.jsxs(Ot,{to:`/community/posts/${R.postId}`,onClick:T=>x(T,R),className:"flex items-center justify-between py-1 px-1 hover:bg-gray-50 transition",children:[f.jsx("span",{className:"text-sm text-gray-700 hover:text-gray-900 flex-1",children:R.title}),f.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-400 ml-2",children:[f.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.jsx("span",{children:R.viewCount||0})]})]})},R.postId))}):f.jsx("p",{className:"text-sm text-gray-400",children:"게시글이 없습니다"})]},N.title)})}),f.jsx(D6,{})]})};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:gR,setPrototypeOf:kN,isFrozen:O6,getPrototypeOf:M6,getOwnPropertyDescriptor:L6}=Object;let{freeze:js,seal:kr,create:pR}=Object,{apply:Yy,construct:Xy}=typeof Reflect<"u"&&Reflect;js||(js=function(e){return e});kr||(kr=function(e){return e});Yy||(Yy=function(e,t){for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];return e.apply(t,r)});Xy||(Xy=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return new e(...s)});const vh=Rs(Array.prototype.forEach),I6=Rs(Array.prototype.lastIndexOf),ON=Rs(Array.prototype.pop),$u=Rs(Array.prototype.push),B6=Rs(Array.prototype.splice),lm=Rs(String.prototype.toLowerCase),P0=Rs(String.prototype.toString),U0=Rs(String.prototype.match),Vu=Rs(String.prototype.replace),P6=Rs(String.prototype.indexOf),U6=Rs(String.prototype.trim),Vr=Rs(Object.prototype.hasOwnProperty),_s=Rs(RegExp.prototype.test),Wu=H6(TypeError);function Rs(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return Yy(n,e,s)}}function H6(n){return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Xy(n,t)}}function xt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lm;kN&&kN(n,null);let s=e.length;for(;s--;){let r=e[s];if(typeof r=="string"){const i=t(r);i!==r&&(O6(e)||(e[s]=i),r=i)}n[r]=!0}return n}function z6(n){for(let e=0;e<n.length;e++)Vr(n,e)||(n[e]=null);return n}function Xi(n){const e=pR(null);for(const[t,s]of gR(n))Vr(n,t)&&(Array.isArray(s)?e[t]=z6(s):s&&typeof s=="object"&&s.constructor===Object?e[t]=Xi(s):e[t]=s);return e}function Gu(n,e){for(;n!==null;){const s=L6(n,e);if(s){if(s.get)return Rs(s.get);if(typeof s.value=="function")return Rs(s.value)}n=M6(n)}function t(){return null}return t}const MN=js(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H0=js(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z0=js(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),q6=js(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),q0=js(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F6=js(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LN=js(["#text"]),IN=js(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F0=js(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BN=js(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xh=js(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$6=kr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V6=kr(/<%[\w\W]*|[\w\W]*%>/gm),W6=kr(/\$\{[\w\W]*/gm),G6=kr(/^data-[\-\w.\u00B7-\uFFFF]+$/),Y6=kr(/^aria-[\-\w]+$/),bR=kr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X6=kr(/^(?:\w+script|data):/i),Z6=kr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yR=kr(/^html$/i),Q6=kr(/^[a-z][.\w]*(-[.\w]+)+$/i);var PN=Object.freeze({__proto__:null,ARIA_ATTR:Y6,ATTR_WHITESPACE:Z6,CUSTOM_ELEMENT:Q6,DATA_ATTR:G6,DOCTYPE_NAME:yR,ERB_EXPR:V6,IS_ALLOWED_URI:bR,IS_SCRIPT_OR_DATA:X6,MUSTACHE_EXPR:$6,TMPLIT_EXPR:W6});const Yu={element:1,text:3,progressingInstruction:7,comment:8,document:9},K6=function(){return typeof window>"u"?null:window},J6=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(s=t.getAttribute(r));const i="dompurify"+(s?"#"+s:"");try{return e.createPolicy(i,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},UN=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vR(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K6();const e=Ae=>vR(Ae);if(e.version="3.2.7",e.removed=[],!n||!n.document||n.document.nodeType!==Yu.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const s=t,r=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:h,NamedNodeMap:m=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:p,DOMParser:b,trustedTypes:v}=n,x=u.prototype,S=Gu(x,"cloneNode"),E=Gu(x,"remove"),N=Gu(x,"nextSibling"),A=Gu(x,"childNodes"),R=Gu(x,"parentNode");if(typeof l=="function"){const Ae=t.createElement("template");Ae.content&&Ae.content.ownerDocument&&(t=Ae.content.ownerDocument)}let T,D="";const{implementation:M,createNodeIterator:U,createDocumentFragment:I,getElementsByTagName:F}=t,{importNode:Z}=s;let O=UN();e.isSupported=typeof gR=="function"&&typeof R=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:H,TMPLIT_EXPR:X,DATA_ATTR:V,ARIA_ATTR:j,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:K,CUSTOM_ELEMENT:ne}=PN;let{IS_ALLOWED_URI:L}=PN,G=null;const ie=xt({},[...MN,...H0,...z0,...q0,...LN]);let se=null;const pe=xt({},[...IN,...F0,...BN,...xh]);let he=Object.seal(pR(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,Ze=null,ge=!0,Te=!0,ke=!1,$e=!0,Ue=!1,Ke=!0,He=!1,Bt=!1,Vn=!1,Pt=!1,Mn=!1,Es=!1,Wn=!0,Ce=!1;const je="user-content-";let it=!0,pt=!1,ft={},ot=null;const nt=xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let un=null;const Jt=xt({},["audio","video","img","source","image","track"]);let Ln=null;const Gn=xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ks="http://www.w3.org/1998/Math/MathML",os="http://www.w3.org/2000/svg",dn="http://www.w3.org/1999/xhtml";let fn=dn,cs=!1,Nn=null;const Os=xt({},[ks,os,dn],P0);let hn=xt({},["mi","mo","mn","ms","mtext"]),us=xt({},["annotation-xml"]);const Ms=xt({},["title","style","font","a","script"]);let An=null;const dr=["application/xhtml+xml","text/html"],ns="text/html";let Rt=null,Yn=null;const Gs=t.createElement("form"),W=function(Q){return Q instanceof RegExp||Q instanceof Function},te=function(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yn&&Yn===Q)){if((!Q||typeof Q!="object")&&(Q={}),Q=Xi(Q),An=dr.indexOf(Q.PARSER_MEDIA_TYPE)===-1?ns:Q.PARSER_MEDIA_TYPE,Rt=An==="application/xhtml+xml"?P0:lm,G=Vr(Q,"ALLOWED_TAGS")?xt({},Q.ALLOWED_TAGS,Rt):ie,se=Vr(Q,"ALLOWED_ATTR")?xt({},Q.ALLOWED_ATTR,Rt):pe,Nn=Vr(Q,"ALLOWED_NAMESPACES")?xt({},Q.ALLOWED_NAMESPACES,P0):Os,Ln=Vr(Q,"ADD_URI_SAFE_ATTR")?xt(Xi(Gn),Q.ADD_URI_SAFE_ATTR,Rt):Gn,un=Vr(Q,"ADD_DATA_URI_TAGS")?xt(Xi(Jt),Q.ADD_DATA_URI_TAGS,Rt):Jt,ot=Vr(Q,"FORBID_CONTENTS")?xt({},Q.FORBID_CONTENTS,Rt):nt,_e=Vr(Q,"FORBID_TAGS")?xt({},Q.FORBID_TAGS,Rt):Xi({}),Ze=Vr(Q,"FORBID_ATTR")?xt({},Q.FORBID_ATTR,Rt):Xi({}),ft=Vr(Q,"USE_PROFILES")?Q.USE_PROFILES:!1,ge=Q.ALLOW_ARIA_ATTR!==!1,Te=Q.ALLOW_DATA_ATTR!==!1,ke=Q.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=Q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ue=Q.SAFE_FOR_TEMPLATES||!1,Ke=Q.SAFE_FOR_XML!==!1,He=Q.WHOLE_DOCUMENT||!1,Pt=Q.RETURN_DOM||!1,Mn=Q.RETURN_DOM_FRAGMENT||!1,Es=Q.RETURN_TRUSTED_TYPE||!1,Vn=Q.FORCE_BODY||!1,Wn=Q.SANITIZE_DOM!==!1,Ce=Q.SANITIZE_NAMED_PROPS||!1,it=Q.KEEP_CONTENT!==!1,pt=Q.IN_PLACE||!1,L=Q.ALLOWED_URI_REGEXP||bR,fn=Q.NAMESPACE||dn,hn=Q.MATHML_TEXT_INTEGRATION_POINTS||hn,us=Q.HTML_INTEGRATION_POINTS||us,he=Q.CUSTOM_ELEMENT_HANDLING||{},Q.CUSTOM_ELEMENT_HANDLING&&W(Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&W(Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&typeof Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ue&&(Te=!1),Mn&&(Pt=!0),ft&&(G=xt({},LN),se=[],ft.html===!0&&(xt(G,MN),xt(se,IN)),ft.svg===!0&&(xt(G,H0),xt(se,F0),xt(se,xh)),ft.svgFilters===!0&&(xt(G,z0),xt(se,F0),xt(se,xh)),ft.mathMl===!0&&(xt(G,q0),xt(se,BN),xt(se,xh))),Q.ADD_TAGS&&(G===ie&&(G=Xi(G)),xt(G,Q.ADD_TAGS,Rt)),Q.ADD_ATTR&&(se===pe&&(se=Xi(se)),xt(se,Q.ADD_ATTR,Rt)),Q.ADD_URI_SAFE_ATTR&&xt(Ln,Q.ADD_URI_SAFE_ATTR,Rt),Q.FORBID_CONTENTS&&(ot===nt&&(ot=Xi(ot)),xt(ot,Q.FORBID_CONTENTS,Rt)),it&&(G["#text"]=!0),He&&xt(G,["html","head","body"]),G.table&&(xt(G,["tbody"]),delete _e.tbody),Q.TRUSTED_TYPES_POLICY){if(typeof Q.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=Q.TRUSTED_TYPES_POLICY,D=T.createHTML("")}else T===void 0&&(T=J6(v,r)),T!==null&&typeof D=="string"&&(D=T.createHTML(""));js&&js(Q),Yn=Q}},le=xt({},[...H0,...z0,...q6]),xe=xt({},[...q0,...F6]),Se=function(Q){let Ee=R(Q);(!Ee||!Ee.tagName)&&(Ee={namespaceURI:fn,tagName:"template"});const Ne=lm(Q.tagName),ct=lm(Ee.tagName);return Nn[Q.namespaceURI]?Q.namespaceURI===os?Ee.namespaceURI===dn?Ne==="svg":Ee.namespaceURI===ks?Ne==="svg"&&(ct==="annotation-xml"||hn[ct]):!!le[Ne]:Q.namespaceURI===ks?Ee.namespaceURI===dn?Ne==="math":Ee.namespaceURI===os?Ne==="math"&&us[ct]:!!xe[Ne]:Q.namespaceURI===dn?Ee.namespaceURI===os&&!us[ct]||Ee.namespaceURI===ks&&!hn[ct]?!1:!xe[Ne]&&(Ms[Ne]||!le[Ne]):!!(An==="application/xhtml+xml"&&Nn[Q.namespaceURI]):!1},Re=function(Q){$u(e.removed,{element:Q});try{R(Q).removeChild(Q)}catch{E(Q)}},Me=function(Q,Ee){try{$u(e.removed,{attribute:Ee.getAttributeNode(Q),from:Ee})}catch{$u(e.removed,{attribute:null,from:Ee})}if(Ee.removeAttribute(Q),Q==="is")if(Pt||Mn)try{Re(Ee)}catch{}else try{Ee.setAttribute(Q,"")}catch{}},Le=function(Q){let Ee=null,Ne=null;if(Vn)Q="<remove></remove>"+Q;else{const Ct=U0(Q,/^[\r\n\t ]+/);Ne=Ct&&Ct[0]}An==="application/xhtml+xml"&&fn===dn&&(Q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Q+"</body></html>");const ct=T?T.createHTML(Q):Q;if(fn===dn)try{Ee=new b().parseFromString(ct,An)}catch{}if(!Ee||!Ee.documentElement){Ee=M.createDocument(fn,"template",null);try{Ee.documentElement.innerHTML=cs?D:ct}catch{}}const Gt=Ee.body||Ee.documentElement;return Q&&Ne&&Gt.insertBefore(t.createTextNode(Ne),Gt.childNodes[0]||null),fn===dn?F.call(Ee,He?"html":"body")[0]:He?Ee.documentElement:Gt},De=function(Q){return U.call(Q.ownerDocument||Q,Q,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Fe=function(Q){return Q instanceof p&&(typeof Q.nodeName!="string"||typeof Q.textContent!="string"||typeof Q.removeChild!="function"||!(Q.attributes instanceof m)||typeof Q.removeAttribute!="function"||typeof Q.setAttribute!="function"||typeof Q.namespaceURI!="string"||typeof Q.insertBefore!="function"||typeof Q.hasChildNodes!="function")},Ie=function(Q){return typeof c=="function"&&Q instanceof c};function Oe(Ae,Q,Ee){vh(Ae,Ne=>{Ne.call(e,Q,Ee,Yn)})}const st=function(Q){let Ee=null;if(Oe(O.beforeSanitizeElements,Q,null),Fe(Q))return Re(Q),!0;const Ne=Rt(Q.nodeName);if(Oe(O.uponSanitizeElement,Q,{tagName:Ne,allowedTags:G}),Ke&&Q.hasChildNodes()&&!Ie(Q.firstElementChild)&&_s(/<[/\w!]/g,Q.innerHTML)&&_s(/<[/\w!]/g,Q.textContent)||Q.nodeType===Yu.progressingInstruction||Ke&&Q.nodeType===Yu.comment&&_s(/<[/\w]/g,Q.data))return Re(Q),!0;if(!G[Ne]||_e[Ne]){if(!_e[Ne]&&at(Ne)&&(he.tagNameCheck instanceof RegExp&&_s(he.tagNameCheck,Ne)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ne)))return!1;if(it&&!ot[Ne]){const ct=R(Q)||Q.parentNode,Gt=A(Q)||Q.childNodes;if(Gt&&ct){const Ct=Gt.length;for(let Ft=Ct-1;Ft>=0;--Ft){const mn=S(Gt[Ft],!0);mn.__removalCount=(Q.__removalCount||0)+1,ct.insertBefore(mn,N(Q))}}}return Re(Q),!0}return Q instanceof u&&!Se(Q)||(Ne==="noscript"||Ne==="noembed"||Ne==="noframes")&&_s(/<\/no(script|embed|frames)/i,Q.innerHTML)?(Re(Q),!0):(Ue&&Q.nodeType===Yu.text&&(Ee=Q.textContent,vh([q,H,X],ct=>{Ee=Vu(Ee,ct," ")}),Q.textContent!==Ee&&($u(e.removed,{element:Q.cloneNode()}),Q.textContent=Ee)),Oe(O.afterSanitizeElements,Q,null),!1)},mt=function(Q,Ee,Ne){if(Wn&&(Ee==="id"||Ee==="name")&&(Ne in t||Ne in Gs))return!1;if(!(Te&&!Ze[Ee]&&_s(V,Ee))){if(!(ge&&_s(j,Ee))){if(!se[Ee]||Ze[Ee]){if(!(at(Q)&&(he.tagNameCheck instanceof RegExp&&_s(he.tagNameCheck,Q)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Q))&&(he.attributeNameCheck instanceof RegExp&&_s(he.attributeNameCheck,Ee)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(Ee,Q))||Ee==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&_s(he.tagNameCheck,Ne)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ne))))return!1}else if(!Ln[Ee]){if(!_s(L,Vu(Ne,K,""))){if(!((Ee==="src"||Ee==="xlink:href"||Ee==="href")&&Q!=="script"&&P6(Ne,"data:")===0&&un[Q])){if(!(ke&&!_s(z,Vu(Ne,K,"")))){if(Ne)return!1}}}}}}return!0},at=function(Q){return Q!=="annotation-xml"&&U0(Q,ne)},Ut=function(Q){Oe(O.beforeSanitizeAttributes,Q,null);const{attributes:Ee}=Q;if(!Ee||Fe(Q))return;const Ne={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0};let ct=Ee.length;for(;ct--;){const Gt=Ee[ct],{name:Ct,namespaceURI:Ft,value:mn}=Gt,gn=Rt(Ct),Ye=mn;let rt=Ct==="value"?Ye:U6(Ye);if(Ne.attrName=gn,Ne.attrValue=rt,Ne.keepAttr=!0,Ne.forceKeepAttr=void 0,Oe(O.uponSanitizeAttribute,Q,Ne),rt=Ne.attrValue,Ce&&(gn==="id"||gn==="name")&&(Me(Ct,Q),rt=je+rt),Ke&&_s(/((--!?|])>)|<\/(style|title|textarea)/i,rt)){Me(Ct,Q);continue}if(gn==="attributename"&&U0(rt,"href")){Me(Ct,Q);continue}if(Ne.forceKeepAttr)continue;if(!Ne.keepAttr){Me(Ct,Q);continue}if(!$e&&_s(/\/>/i,rt)){Me(Ct,Q);continue}Ue&&vh([q,H,X],bn=>{rt=Vu(rt,bn," ")});const pn=Rt(Q.nodeName);if(!mt(pn,gn,rt)){Me(Ct,Q);continue}if(T&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Ft)switch(v.getAttributeType(pn,gn)){case"TrustedHTML":{rt=T.createHTML(rt);break}case"TrustedScriptURL":{rt=T.createScriptURL(rt);break}}if(rt!==Ye)try{Ft?Q.setAttributeNS(Ft,Ct,rt):Q.setAttribute(Ct,rt),Fe(Q)?Re(Q):ON(e.removed)}catch{Me(Ct,Q)}}Oe(O.afterSanitizeAttributes,Q,null)},et=function Ae(Q){let Ee=null;const Ne=De(Q);for(Oe(O.beforeSanitizeShadowDOM,Q,null);Ee=Ne.nextNode();)Oe(O.uponSanitizeShadowNode,Ee,null),st(Ee),Ut(Ee),Ee.content instanceof i&&Ae(Ee.content);Oe(O.afterSanitizeShadowDOM,Q,null)};return e.sanitize=function(Ae){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=null,Ne=null,ct=null,Gt=null;if(cs=!Ae,cs&&(Ae="<!-->"),typeof Ae!="string"&&!Ie(Ae))if(typeof Ae.toString=="function"){if(Ae=Ae.toString(),typeof Ae!="string")throw Wu("dirty is not a string, aborting")}else throw Wu("toString is not a function");if(!e.isSupported)return Ae;if(Bt||te(Q),e.removed=[],typeof Ae=="string"&&(pt=!1),pt){if(Ae.nodeName){const mn=Rt(Ae.nodeName);if(!G[mn]||_e[mn])throw Wu("root node is forbidden and cannot be sanitized in-place")}}else if(Ae instanceof c)Ee=Le("<!---->"),Ne=Ee.ownerDocument.importNode(Ae,!0),Ne.nodeType===Yu.element&&Ne.nodeName==="BODY"||Ne.nodeName==="HTML"?Ee=Ne:Ee.appendChild(Ne);else{if(!Pt&&!Ue&&!He&&Ae.indexOf("<")===-1)return T&&Es?T.createHTML(Ae):Ae;if(Ee=Le(Ae),!Ee)return Pt?null:Es?D:""}Ee&&Vn&&Re(Ee.firstChild);const Ct=De(pt?Ae:Ee);for(;ct=Ct.nextNode();)st(ct),Ut(ct),ct.content instanceof i&&et(ct.content);if(pt)return Ae;if(Pt){if(Mn)for(Gt=I.call(Ee.ownerDocument);Ee.firstChild;)Gt.appendChild(Ee.firstChild);else Gt=Ee;return(se.shadowroot||se.shadowrootmode)&&(Gt=Z.call(s,Gt,!0)),Gt}let Ft=He?Ee.outerHTML:Ee.innerHTML;return He&&G["!doctype"]&&Ee.ownerDocument&&Ee.ownerDocument.doctype&&Ee.ownerDocument.doctype.name&&_s(yR,Ee.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+Ee.ownerDocument.doctype.name+`>
`+Ft),Ue&&vh([q,H,X],mn=>{Ft=Vu(Ft,mn," ")}),T&&Es?T.createHTML(Ft):Ft},e.setConfig=function(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(Ae),Bt=!0},e.clearConfig=function(){Yn=null,Bt=!1},e.isValidAttribute=function(Ae,Q,Ee){Yn||te({});const Ne=Rt(Ae),ct=Rt(Q);return mt(Ne,ct,Ee)},e.addHook=function(Ae,Q){typeof Q=="function"&&$u(O[Ae],Q)},e.removeHook=function(Ae,Q){if(Q!==void 0){const Ee=I6(O[Ae],Q);return Ee===-1?void 0:B6(O[Ae],Ee,1)[0]}return ON(O[Ae])},e.removeHooks=function(Ae){O[Ae]=[]},e.removeAllHooks=function(){O=UN()},e}var Qv=vR();const HN=["전체","운동/스포츠","문화/예술","취미","자기계발","푸드 드링크","여행/아웃도어","게임/오락","외국어"],e8={"운동/스포츠":"운동·스포츠","문화/예술":"문화·예술",취미:"취미",자기계발:"자기계발","푸드 드링크":"푸드·드링크","여행/아웃도어":"여행·아웃도어","게임/오락":"게임·오락",외국어:"외국어"},wh=10;function t8(n){if(!n)return null;const e=String(n).match(/\d+/g);if(!e||!e.length)return null;const t=parseInt(e[0],10);return Number.isInteger(t)?t:null}function n8(n){return n?Qv.sanitize(String(n),{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}).replace(/\s+/g," ").trim():""}function s8(n){const e=[];for(let t=0;t<n.length;t+=2)e.push([n[t],n[t+1]??null]);return e}function r8(){return f.jsx(Ot,{to:"/community/write","aria-label":"글 작성",className:"fixed right-32 bottom-8 z-40 w-14 h-14 rounded-full bg-[#4FA3FF] text-white shadow-xl hover:brightness-105 active:scale-95 transition",title:"글 작성",children:f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(Pc,{className:"w-7 h-7"})})})}function i8(){const n=_t(),{tab:e}=cr(),t=_.useMemo(()=>e?decodeURIComponent(e):"전체",[e]),{isAuthenticated:s}=ws(),[r,i]=_.useState([]),[l,c]=_.useState([]),[u,h]=_.useState(!1),m=_.useRef(null),[p,b]=_.useState("전체"),[v,x]=_.useState([]),[S,E]=_.useState(!0),[N,A]=_.useState(null),[R,T]=_.useState(new Map),[D,M]=_.useState(wh),[U,I]=_.useState(!1),[F,Z]=_.useState(!1),O=_.useRef(null),q=_.useRef(null),[H,X]=_.useState(!1),[V,j]=_.useState(!1),[z,K]=_.useState(""),ne=async(ge,Te)=>{if(ge.preventDefault(),!s){X(!0);return}if(Te.scope==="MEMBER"&&!r.some($e=>$e.clubId===Te.clubId)){K(Te.clubName||"동호회"),j(!0);return}n(`/community/posts/${Te.postId}`)},L=()=>{X(!1),n("/login")};_.useEffect(()=>{let ge=!1;return(async()=>{try{E(!0),A(null),x([]),T(new Map),M(wh),Z(!1);const[Te,ke]=await Promise.allSettled([ea.getPostList(),s?St.getJoinedClubs():Promise.resolve([])]);if(ge)return;if(Te.status==="fulfilled"){const $e=(Te.value||[]).slice().sort((Ue,Ke)=>new Date(Ke.createdAt)-new Date(Ue.createdAt));x($e)}else throw Te.reason;ke.status==="fulfilled"&&i(ke.value||[]),b(HN.includes(t)?t:"전체"),window.scrollTo({top:0,behavior:"instant"})}catch(Te){ge||(console.error(Te),A("게시글을 불러올 수 없습니다."))}finally{ge||E(!1)}})(),()=>{ge=!0}},[t,s]),_.useEffect(()=>{const ge=Te=>{m.current&&!m.current.contains(Te.target)&&h(!1)};if(u)return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[u]);const G=_.useMemo(()=>{let ge=v;if(p!=="전체"){const Te=e8[p];ge=ge.filter(ke=>(ke.parentCategoryName||ke.categoryName)===Te)}if(l.length>0){const Te=new Set(l);ge=ge.filter(ke=>Te.has(ke.clubId))}return ge},[v,p,l]);_.useEffect(()=>{let ge=!1;return(async()=>{if(!G.length){T(new Map);return}const Te=G.map(Ue=>({postId:Ue.postId,fileId:t8(Ue.images)})).filter(Ue=>Number.isInteger(Ue.fileId)&&Ue.fileId>0),ke=await Promise.allSettled(Te.map(({postId:Ue,fileId:Ke})=>Ts.getFile(Ke).then(He=>({postId:Ue,link:He?.fileLink||null}))));if(ge)return;const $e=new Map;ke.forEach(Ue=>{Ue.status==="fulfilled"&&Ue.value?.link&&$e.set(Ue.value.postId,Ue.value.link)}),T($e)})(),M(wh),Z(!1),()=>{ge=!0}},[G]),_.useEffect(()=>{if(!(!O.current||F||S)){if(q.current&&(q.current.disconnect(),q.current=null),typeof IntersectionObserver>"u"){const ge=()=>{if(U||F)return;const{scrollTop:Te,scrollHeight:ke,clientHeight:$e}=document.documentElement;Te+$e>=ke-200&&ie()};return window.addEventListener("scroll",ge),()=>window.removeEventListener("scroll",ge)}return q.current=new IntersectionObserver(ge=>{ge[0].isIntersecting&&ie()},{root:null,rootMargin:"400px",threshold:0}),q.current.observe(O.current),()=>{q.current&&(q.current.disconnect(),q.current=null)}}},[D,G.length,F,S,U]);const ie=()=>{U||F||(I(!0),setTimeout(()=>{M(ge=>{const Te=Math.min(ge+wh,G.length);return Te>=G.length&&Z(!0),Te}),I(!1)},250))},se=ge=>n(`/community/${encodeURIComponent(ge)}`),pe=ge=>{if(ge===null){c([]),h(!1);return}c(Te=>Te.includes(ge)?Te.filter(ke=>ke!==ge):[...Te,ge])},he=ge=>R.get(ge)||null,_e=G.slice(0,D),Ze=s8(_e);return S?f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8 text-center",children:f.jsx("div",{className:"text-gray-500",children:"게시글을 불러오는 중..."})}):N?f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 text-center",children:[f.jsx("div",{className:"text-red-500",children:N}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#4FA3FF] text-white rounded hover:bg-[#3d8edb]",children:"다시 시도"})]}):f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[f.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:HN.map(ge=>{const Te=p===ge;return f.jsx("button",{onClick:()=>se(ge),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${Te?"bg-black text-white":"bg-white text-gray-600 border border-gray-600 hover:bg-gray-50"}`,"aria-pressed":Te,children:ge},ge)})})}),s&&r.length>0&&f.jsxs("div",{className:"relative",ref:m,children:[f.jsx("button",{onClick:()=>h(ge=>!ge),className:"bg-white border border-gray-600 text-gray-600 text-sm font-medium rounded-lg hover:bg-gray-50 flex items-center gap-2","aria-haspopup":"menu","aria-expanded":u,children:f.jsx(tR,{className:"w-8 h-8"})}),u&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[f.jsx("button",{onClick:()=>pe(null),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center justify-between ${l.length===0?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"}`,children:"전체 보기"}),f.jsx("div",{className:"h-px bg-gray-100"}),r.map(ge=>f.jsxs("button",{onClick:()=>pe(ge.clubId),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center justify-between ${l.includes(ge.clubId)?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"}`,children:[f.jsx("span",{className:"truncate",children:ge.name}),l.includes(ge.clubId)&&f.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},ge.clubId))]})]})]}),Ze.length>0?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 pointer-events-none"}),f.jsx("div",{children:Ze.map(([ge,Te],ke)=>{const $e=ge?he(ge.postId):null,Ue=Te?he(Te.postId):null,Ke=({post:He,url:Bt})=>{const Vn=n8(He.content),Pt=!!Bt;return f.jsxs("article",{className:"grid grid-cols-[1fr_auto] gap-4",children:[f.jsxs("div",{className:"flex flex-col h-[150px] min-h-[150px]",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:He.parentCategoryName||He.categoryName||"카테고리"}),f.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4 break-words line-clamp-1",children:f.jsx("a",{href:`/community/posts/${He.postId}`,onClick:Mn=>ne(Mn,He),className:"hover:underline cursor-pointer",children:He.title||"제목 없음"})}),f.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:Vn}}),f.jsx("div",{className:"mt-auto pt-1 flex items-center justify-between text-[13px]",children:f.jsxs("div",{className:"text-gray-500 truncate",children:[He.clubName||"동호회명"," ·"," ",He.authorNickname||He.authorName||He.creatorName||"작성자"]})})]}),f.jsxs("div",{className:"flex flex-col justify-end items-end h-[150px]",children:[Pt&&f.jsx("a",{href:`/community/posts/${He.postId}`,onClick:Mn=>ne(Mn,He),className:"block mb-2 cursor-pointer",children:f.jsx("div",{className:"relative w-[132px] h-[96px] rounded-md overflow-hidden border border-gray-200 bg-gray-100",children:f.jsx("img",{src:Bt,alt:He.title,className:"absolute inset-0 w-full h-full object-cover",onError:Mn=>Mn.currentTarget.style.display="none",loading:"lazy"})})}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-500 pr-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(bI,{className:"w-4 h-4"})," ",He.viewCount??0]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Wv,{className:"w-4 h-4"})," ",He.likeCount??0]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx($v,{className:"w-4 h-4"})," ",He.commentCount??0]})]})]})]})};return f.jsxs("div",{className:`grid grid-cols-2 gap-x-0 py-8 ${ke!==Ze.length-1?"border-b border-gray-200":""}`,children:[f.jsx("div",{className:"pr-8",children:ge&&f.jsx(Ke,{post:ge,url:$e})}),f.jsx("div",{className:"pl-8",children:Te&&f.jsx(Ke,{post:Te,url:Ue})})]},ke)})})]}),f.jsx("div",{ref:O,className:"h-10"}),f.jsxs("div",{className:"flex items-center justify-center py-6",children:[U&&f.jsx("div",{className:"text-gray-400 text-sm animate-pulse",children:"더 불러오는 중…"}),!S&&F&&f.jsx("div",{className:"text-gray-400 text-sm",children:"더 이상 게시글이 없습니다."})]})]}):f.jsx("div",{className:"text-center py-12 text-gray-500",children:"게시글이 없습니다."}),s&&f.jsx(r8,{}),f.jsx(sn,{isOpen:H,onClose:()=>X(!1),title:"알림",message:"로그인 후 이용 가능합니다.",confirmText:"로그인",onConfirm:L}),f.jsx(sn,{isOpen:V,onClose:()=>j(!1),title:"알림",message:"동호회 회원만 볼 수 있습니다.",confirmText:"확인"})]})}function ml({isOpen:n,onClose:e,onConfirm:t,title:s="확인",message:r="정말 삭제하시겠습니까?",confirmText:i="확인",cancelText:l="취소",confirmButtonStyle:c="danger"}){if(!n)return null;const u=()=>{t(),e()},h=c==="danger"?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white";return f.jsx("div",{className:"fixed inset-0 bg-black/80 bg-opacity-30 flex items-center justify-center z-[60]",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm mx-4",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s&&f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors ml-auto","aria-label":"닫기",children:f.jsx(no,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsx("p",{className:"text-sm text-gray-600",children:r})}),f.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:l}),f.jsx("button",{onClick:u,className:`flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${h}`,children:i})]})]})})}function $0({onEdit:n,onDelete:e}){const[t,s]=_.useState(!1),r=_.useRef(null);return _.useEffect(()=>{const i=l=>{r.current&&!r.current.contains(l.target)&&s(!1)};if(t)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[t]),f.jsxs("div",{className:"relative",ref:r,children:[f.jsx("button",{type:"button","aria-label":"메뉴","aria-expanded":t?"true":"false",onClick:i=>{i.stopPropagation(),s(!t)},className:"p-1 hover:bg-gray-100 rounded",children:f.jsx(Vv,{className:"w-5 h-5 text-gray-500"})}),t&&f.jsxs("div",{role:"menu",className:"absolute right-0 top-8 w-28 rounded-md border border-gray-200 bg-white shadow-lg z-50",onClick:i=>i.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{s(!1),n()},className:"w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Pc,{className:"w-4 h-4"}),"수정"]}),f.jsx("div",{className:"h-px bg-gray-100"}),f.jsxs("button",{onClick:()=>{s(!1),e()},className:"w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Gv,{className:"w-4 h-4"}),"삭제"]})]})]})}function a8(){const{postId:n}=cr(),e=_t(),{isAuthenticated:t,user:s}=ws(),r=_.useRef(!1),[i,l]=_.useState(null),[c,u]=_.useState(!0),[h,m]=_.useState(null),[p,b]=_.useState(null),[v,x]=_.useState(!1),[S,E]=_.useState(0),[N,A]=_.useState([]),[R,T]=_.useState(!1),[D,M]=_.useState(""),[U,I]=_.useState(null),[F,Z]=_.useState(""),[O,q]=_.useState(null),[H,X]=_.useState(""),[V,j]=_.useState({isOpen:!1,title:"",message:"",redirectTo:null}),[z,K]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null,confirmText:"확인",cancelText:"취소",confirmButtonStyle:"danger"}),[ne,L]=_.useState([]),[G,ie]=_.useState(!1),[se,pe]=_.useState({}),he=Ce=>!Ce||Ce.trim()===""||Ce==="null"?vn:Ce,_e={ALLOWED_TAGS:["p","br","strong","em","u","s","h1","h2","h3","ul","ol","li","a","img","blockquote","code","pre","span"],ALLOWED_ATTR:["href","src","alt","class","style","target"],ALLOW_DATA_ATTR:!1};_.useEffect(()=>{if(r.current)return;const Ce=async()=>{try{u(!0),m(null),b(null);const it=await ea.getPostDetail(n);if(l(it),E(it.likeCount||0),t){const pt=await ea.getLikeStatus(n);x(pt.liked)}}catch(it){console.error("게시글 조회 실패:",it),it.status===401?j({isOpen:!0,title:"알림",message:"로그인 후 이용 가능합니다.",redirectTo:"/community"}):it.status===403?j({isOpen:!0,title:"알림",message:"동호회 회원만 볼 수 있습니다.",redirectTo:"/community"}):it.status===404?(b("NOT_FOUND"),m("게시글을 찾을 수 없습니다.")):m("게시글을 불러올 수 없습니다.")}finally{u(!1)}},je=async()=>{try{T(!0);const it=await Sr.getComments(n);if(A(it),t){const pt=it.map(async nt=>{try{const un=await Sr.getCommentLikeStatus(nt.commentId);return{commentId:nt.commentId,...un}}catch{return{commentId:nt.commentId,isLiked:!1,likeCount:nt.likeCount||0}}}),ft=await Promise.all(pt),ot={};ft.forEach(nt=>{ot[nt.commentId]={isLiked:nt.Liked,likeCount:nt.likeCount}}),pe(ot)}else{const pt={};it.forEach(ft=>{pt[ft.commentId]={isLiked:!1,likeCount:ft.likeCount||0},ft.replies&&ft.replies.length>0&&ft.replies.forEach(ot=>{pt[ot.commentId]={isLiked:!1,likeCount:ot.likeCount||0}})}),pe(pt)}}catch(it){console.error("댓글 목록 조회 실패:",it)}finally{T(!1)}};return n&&(Ce(),je(),r.current=!0),()=>{r.current=!1}},[n,t]),_.useEffect(()=>{(async()=>{if(!i||!i.images){L([]);return}try{ie(!0);const je=i.images.split("/").map(ft=>parseInt(ft.trim())).filter(ft=>!isNaN(ft));if(je.length===0){L([]);return}const pt=(await Ts.getFiles(je)).map(ft=>ft.fileLink).filter(Boolean);L(pt)}catch(je){console.error("이미지 조회 실패:",je),L([])}finally{ie(!1)}})()},[i]);const Ze=t&&s&&i&&Number(s.id)===Number(i.createdBy),ge=()=>{const Ce=V.redirectTo;j({isOpen:!1,title:"",message:"",redirectTo:null}),Ce&&e(Ce)},Te=()=>{K({isOpen:!1,title:"",message:"",onConfirm:null,confirmText:"확인",cancelText:"취소",confirmButtonStyle:"danger"})},ke=async()=>{if(!t){j({isOpen:!0,title:"알림",message:"로그인이 필요합니다.",redirectTo:"/login"});return}try{const Ce=await ea.toggleLike(n);x(Ce.liked),E(Ce.likeCount)}catch(Ce){console.error("좋아요 처리 실패:",Ce),j({isOpen:!0,title:"오류",message:"좋아요 처리에 실패했습니다."})}},$e=async()=>{if(!t){j({isOpen:!0,title:"알림",message:"로그인이 필요합니다.",redirectTo:"/login"});return}if(!D.trim()){j({isOpen:!0,title:"알림",message:"댓글 내용을 입력해주세요."});return}try{await Sr.createComment(n,{content:D,parentCommentId:null}),M("");const Ce=await Sr.getComments(n);A(Ce),j({isOpen:!0,title:"완료",message:"댓글이 등록되었습니다."})}catch(Ce){console.error("댓글 작성 실패:",Ce),j({isOpen:!0,title:"오류",message:"댓글 작성에 실패했습니다."})}},Ue=async Ce=>{if(!t){j({isOpen:!0,title:"알림",message:"로그인이 필요합니다.",redirectTo:"/login"});return}if(!F.trim()){j({isOpen:!0,title:"알림",message:"댓글 내용을 입력해주세요."});return}try{await Sr.createComment(n,{content:F,parentCommentId:Ce}),Z(""),I(null);const je=await Sr.getComments(n);A(je),j({isOpen:!0,title:"완료",message:"댓글이 등록되었습니다."})}catch(je){console.error("대댓글 작성 실패:",je),j({isOpen:!0,title:"오류",message:"댓글 작성에 실패했습니다."})}},Ke=Ce=>{q(Ce.commentId),X(Ce.content)},He=async Ce=>{if(!H.trim()){j({isOpen:!0,title:"알림",message:"댓글 내용을 입력해주세요."});return}try{await Sr.updateComment(Ce,H),q(null),X("");const je=await Sr.getComments(n);A(je),j({isOpen:!0,title:"완료",message:"댓글이 수정되었습니다."})}catch(je){console.error("댓글 수정 실패:",je),j({isOpen:!0,title:"오류",message:"댓글 수정에 실패했습니다."})}},Bt=async Ce=>{if(!t){j({isOpen:!0,title:"알림",message:"로그인이 필요합니다.",redirectTo:"login"});return}try{const je=await Sr.toggleCommentLike(Ce);pe(it=>({...it,[Ce]:{isLiked:je.liked,likeCount:je.likeCount}}))}catch(je){console.error("댓글 좋아요 처리 실패:",je),j({isOpen:!0,title:"오류",message:"좋아요 처리에 실패했습니다."})}},Vn=async Ce=>{K({isOpen:!0,title:"댓글 삭제",message:"이 댓글을 삭제할까요?",confirmText:"삭제",confirmButtonStyle:"danger",onConfirm:async()=>{try{await Sr.deleteComment(Ce),j({isOpen:!0,title:"완료",message:"댓글이 삭제되었습니다."});const je=await Sr.getComments(n);if(A(je),t){const it=je.map(async ot=>{try{const nt=await Sr.getCommentLikeStatus(ot.commentId);return{commentId:ot.commentId,...nt}}catch{return{commentId:ot.commentId,isLiked:!1,likeCount:0}}}),pt=await Promise.all(it),ft={};pt.forEach(ot=>{ft[ot.commentId]={isLiked:ot.isLiked,likeCount:ot.likeCount}}),pe(ft)}}catch(je){console.error("댓글 삭제 실패:",je),j({isOpen:!0,title:"오류",message:"댓글 삭제에 실패했습니다."})}}})},Pt=Ce=>{if(!Ce)return"";const je=new Date(Ce),it=je.getFullYear(),pt=String(je.getMonth()+1).padStart(2,"0"),ft=String(je.getDate()).padStart(2,"0"),ot=String(je.getHours()).padStart(2,"0"),nt=String(je.getMinutes()).padStart(2,"0");return`${it}.${pt}.${ft} ${ot}:${nt}`},Mn=()=>{e(`/community/write?edit=${i.postId}`)},Es=async()=>{K({isOpen:!0,title:"게시글 삭제",message:"이 게시글을 삭제할까요?",confirmText:"삭제",confirmButtonStyle:"danger",onConfirm:async()=>{try{await ea.deletePost(i.postId),j({isOpen:!0,title:"완료",message:"게시글이 삭제되었습니다.",redirectTo:"/community"})}catch(Ce){console.error("게시글 삭제 실패:",Ce),j({isOpen:!0,title:"오류",message:"게시글 삭제에 실패했습니다."})}}})},Wn=_.useMemo(()=>N.reduce((Ce,je)=>{const it=je.isDeleted!=="Y"?1:0,pt=(je.replies||[]).filter(ft=>ft.isDeleted!=="Y").length;return Ce+it+pt},0),[N]);return c?f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[f.jsx(sn,{isOpen:V.isOpen,onClose:ge,title:V.title,message:V.message}),f.jsx("div",{className:"text-gray-500",children:"게시글을 불러오는 중..."})]}):p==="UNAUTHORIZED"||p==="FORBIDDEN"?f.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:f.jsx(sn,{isOpen:V.isOpen,onClose:ge,title:V.title,message:V.message})}):h||!i?f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 text-center",children:[f.jsx("div",{className:"text-red-500 mb-4",children:h||"게시글을 찾을 수 없습니다."}),f.jsx("button",{onClick:()=>e("/community"),className:"px-6 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"목록으로 돌아가기"})]}):f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[f.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:f.jsx("button",{onClick:()=>e("/community"),className:"hover:text-[#4FA3FF]",children:"커뮤니티"})}),f.jsxs("div",{className:"bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:he(i.profileUrl),alt:i.authorNickname||"프로필",className:"w-10 h-10 rounded-full object-cover bg-white"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold text-gray-800",children:i.authorNickname||"익명"}),f.jsxs("div",{className:"text-xs text-gray-400",children:[i.createdAt," 조회 ",i.viewCount]})]})]}),Ze&&f.jsx($0,{onEdit:Mn,onDelete:Es})]}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:i.title}),G?f.jsx("div",{className:"mb-6 flex items-center justify-center h-64 bg-gray-100 rounded",children:f.jsx("div",{className:"text-gray-500",children:"이미지를 불러오는 중..."})}):ne.length>0?f.jsx("div",{className:"mb-6 space-y-4",children:ne.map((Ce,je)=>f.jsx("img",{src:Ce,alt:`게시글 이미지 ${je+1}`,className:"w-full max-w-2xl bg-gray-100",onError:it=>{it.target.style.display="none"}},je))}):null,f.jsx("div",{className:"text-gray-700 mb-6 prose max-w-none",dangerouslySetInnerHTML:{__html:Qv.sanitize(i.content,_e)}}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[f.jsxs("button",{onClick:ke,className:"flex items-center gap-1 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5 transition-colors",fill:v?"#ef4444":"none",stroke:v?"#ef4444":"#9ca3af",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("span",{children:S})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx($v,{className:"w-5 h-5"}),f.jsx("span",{children:Wn})]})]})]}),f.jsx("div",{className:"h-px bg-gray-200 my-8"}),f.jsxs("div",{className:"mb-6 text-sm",children:[f.jsxs("h2",{className:"text-base font-bold text-gray-800 mb-3",children:["댓글 ",Wn]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(E_,{className:"w-6 h-6 text-gray-300 flex-shrink-0 mt-1"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("textarea",{value:D,onChange:Ce=>M(Ce.target.value),placeholder:"댓글을 입력하세요",className:"w-full px-3 py-2 border border-gray-200 rounded-md outline-none resize-none text-sm leading-5 placeholder:text-xs",rows:"3"}),f.jsx("div",{className:"mt-2 flex justify-end",children:f.jsx("button",{onClick:$e,className:"px-3 py-1.5 bg-[#4FA3FF] text-white text-xs rounded hover:bg-[#3d8edb] transition",children:"등록"})})]})]})]}),R?f.jsx("div",{className:"text-center py-4 text-gray-500",children:"댓글을 불러오는 중..."}):Wn>0?f.jsx("div",{className:"space-y-4",children:N.map(Ce=>f.jsx("div",{className:"border-b border-gray-100 pb-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("img",{src:he(Ce.profileUrl),alt:Ce.authorNickname||Ce.authorName||"프로필",className:"w-8 h-8 rounded-full object-cover bg-white flex-shrink-0 mt-1"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:Ce.authorNickname||Ce.authorName||"익명"}),f.jsx("span",{className:"text-xs text-gray-400 ml-2",children:Pt(Ce.createdAt)})]}),t&&s&&Number(s.id)===Number(Ce.createdBy)&&Ce.isDeleted!=="Y"&&f.jsx($0,{onEdit:()=>Ke(Ce),onDelete:()=>Vn(Ce.commentId)})]}),O===Ce.commentId?f.jsxs("div",{children:[f.jsx("textarea",{value:H,onChange:je=>X(je.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md outline-none resize-none",rows:"2"}),f.jsxs("div",{className:"mt-2 flex gap-2",children:[f.jsx("button",{onClick:()=>He(Ce.commentId),className:"px-3 py-1 bg-[#4FA3FF] text-white text-sm rounded hover:bg-[#3d8edb]",children:"수정"}),f.jsx("button",{onClick:()=>{q(null),X("")},className:"px-3 py-1 border border-gray-300 text-sm rounded hover:bg-gray-50",children:"취소"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:`text-sm ${Ce.isDeleted==="Y"?"text-gray-400 italic":"text-gray-700"}`,children:Ce.isDeleted==="Y"?"삭제된 댓글입니다":Ce.content}),Ce.isDeleted!=="Y"&&f.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-gray-500",children:[f.jsxs("button",{onClick:()=>Bt(Ce.commentId),className:"flex items-center gap-1 transition-colors",children:[f.jsx("svg",{className:"w-4 h-4 transition-colors",fill:se[Ce.commentId]?.isLiked?"#ef4444":"none",stroke:se[Ce.commentId]?.isLiked?"#ef4444":"#9ca3af",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("span",{children:se[Ce.commentId]?.likeCount||0})]}),f.jsx("button",{onClick:()=>I(Ce.commentId),className:"hover:text-[#4FA3FF]",children:"답글"})]})]}),U===Ce.commentId&&f.jsxs("div",{className:"mt-3 flex items-start gap-2",children:[f.jsx(E_,{className:"w-6 h-6 text-gray-300 flex-shrink-0 mt-1"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("textarea",{value:F,onChange:je=>Z(je.target.value),placeholder:"댓글을 입력하세요",className:"w-full px-3 py-2 border border-gray-200 rounded-md outline-none resize-none",rows:"2"}),f.jsxs("div",{className:"mt-2 flex gap-2",children:[f.jsx("button",{onClick:()=>Ue(Ce.commentId),className:"px-3 py-1 bg-[#4FA3FF] text-white text-sm rounded hover:bg-[#3d8edb]",children:"등록"}),f.jsx("button",{onClick:()=>{I(null),Z("")},className:"px-3 py-1 border border-gray-300 text-sm rounded hover:bg-gray-50",children:"취소"})]})]})]}),Ce.replies&&Ce.replies.length>0&&f.jsx("div",{className:"mt-3 ml-6 space-y-4 pl-4 pt-3 border-t border-gray-100",children:Ce.replies.map(je=>f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("img",{src:he(je.profileUrl),alt:je.authorNickname||je.authorName||"프로필",className:"w-6 h-6 rounded-full object-cover bg-white flex-shrink-0 mt-1"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:je.authorNickname||je.authorName||"익명"}),f.jsx("span",{className:"text-xs text-gray-400 ml-2",children:Pt(je.createdAt)})]}),t&&s&&Number(s.id)===Number(je.createdBy)&&je.isDeleted!=="Y"&&f.jsx($0,{onEdit:()=>Ke(je),onDelete:()=>Vn(je.commentId)})]}),O===je.commentId?f.jsxs("div",{children:[f.jsx("textarea",{value:H,onChange:it=>X(it.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md outline-none resize-none",rows:"2"}),f.jsxs("div",{className:"mt-2 flex gap-2",children:[f.jsx("button",{onClick:()=>He(je.commentId),className:"px-3 py-1 bg-[#4FA3FF] text-white text-sm rounded hover:bg-[#3d8edb]",children:"수정"}),f.jsx("button",{onClick:()=>{q(null),X("")},className:"px-3 py-1 border border-gray-300 text-sm rounded hover:bg-gray-50",children:"취소"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:`text-sm ${je.isDeleted==="Y"?"text-gray-400 italic":"text-gray-700"}`,children:je.isDeleted==="Y"?"삭제된 댓글입니다":je.content}),je.isDeleted!=="Y"&&f.jsx("div",{className:"mt-1 flex items-center gap-4 text-xs text-gray-500",children:f.jsxs("button",{onClick:()=>Bt(je.commentId),className:"flex items-center gap-1 transition-colors",children:[f.jsx("svg",{className:"w-4 h-4 transition-colors",fill:se[je.commentId]?.isLiked?"#ef4444":"none",stroke:se[je.commentId]?.isLiked?"#ef4444":"#9ca3af",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("span",{children:se[je.commentId]?.likeCount||0})]})})]})]})]},je.commentId))})]})]})},Ce.commentId))}):f.jsx("div",{className:"text-center py-8 text-gray-500",children:"첫 댓글을 작성해보세요!"}),f.jsx(sn,{isOpen:V.isOpen,onClose:ge,title:V.title,message:V.message}),f.jsx(ml,{isOpen:z.isOpen,onClose:Te,onConfirm:z.onConfirm,title:z.title,message:z.message,confirmText:z.confirmText,cancelText:z.cancelText,confirmButtonStyle:z.confirmButtonStyle})]})}var xR=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,l8=typeof self=="object"&&self&&self.Object===Object&&self,Ci=xR||l8||Function("return this")(),ll=Ci.Symbol,wR=Object.prototype,o8=wR.hasOwnProperty,c8=wR.toString,Xu=ll?ll.toStringTag:void 0;function u8(n){var e=o8.call(n,Xu),t=n[Xu];try{n[Xu]=void 0;var s=!0}catch{}var r=c8.call(n);return s&&(e?n[Xu]=t:delete n[Xu]),r}var d8=Object.prototype,f8=d8.toString;function h8(n){return f8.call(n)}var m8="[object Null]",g8="[object Undefined]",zN=ll?ll.toStringTag:void 0;function zc(n){return n==null?n===void 0?g8:m8:zN&&zN in Object(n)?u8(n):h8(n)}function ra(n){return n!=null&&typeof n=="object"}var so=Array.isArray;function gl(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function ER(n){return n}var p8="[object AsyncFunction]",b8="[object Function]",y8="[object GeneratorFunction]",v8="[object Proxy]";function Kv(n){if(!gl(n))return!1;var e=zc(n);return e==b8||e==y8||e==p8||e==v8}var V0=Ci["__core-js_shared__"],qN=(function(){var n=/[^.]+$/.exec(V0&&V0.keys&&V0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function x8(n){return!!qN&&qN in n}var w8=Function.prototype,E8=w8.toString;function ho(n){if(n!=null){try{return E8.call(n)}catch{}try{return n+""}catch{}}return""}var S8=/[\\^$.*+?()[\]{}|]/g,_8=/^\[object .+?Constructor\]$/,N8=Function.prototype,A8=Object.prototype,C8=N8.toString,T8=A8.hasOwnProperty,j8=RegExp("^"+C8.call(T8).replace(S8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R8(n){if(!gl(n)||x8(n))return!1;var e=Kv(n)?j8:_8;return e.test(ho(n))}function D8(n,e){return n?.[e]}function mo(n,e){var t=D8(n,e);return R8(t)?t:void 0}var Zy=mo(Ci,"WeakMap"),FN=Object.create,k8=(function(){function n(){}return function(e){if(!gl(e))return{};if(FN)return FN(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function O8(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function M8(n,e){var t=-1,s=n.length;for(e||(e=Array(s));++t<s;)e[t]=n[t];return e}var L8=800,I8=16,B8=Date.now;function P8(n){var e=0,t=0;return function(){var s=B8(),r=I8-(s-t);if(t=s,r>0){if(++e>=L8)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function U8(n){return function(){return n}}var Em=(function(){try{var n=mo(Object,"defineProperty");return n({},"",{}),n}catch{}})(),H8=Em?function(n,e){return Em(n,"toString",{configurable:!0,enumerable:!1,value:U8(e),writable:!0})}:ER,z8=P8(H8);function q8(n,e){for(var t=-1,s=n==null?0:n.length;++t<s&&e(n[t],t,n)!==!1;);return n}var F8=9007199254740991,$8=/^(?:0|[1-9]\d*)$/;function SR(n,e){var t=typeof n;return e=e??F8,!!e&&(t=="number"||t!="symbol"&&$8.test(n))&&n>-1&&n%1==0&&n<e}function Jv(n,e,t){e=="__proto__"&&Em?Em(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Zd(n,e){return n===e||n!==n&&e!==e}var V8=Object.prototype,W8=V8.hasOwnProperty;function _R(n,e,t){var s=n[e];(!(W8.call(n,e)&&Zd(s,t))||t===void 0&&!(e in n))&&Jv(n,e,t)}function G8(n,e,t,s){var r=!t;t||(t={});for(var i=-1,l=e.length;++i<l;){var c=e[i],u=void 0;u===void 0&&(u=n[c]),r?Jv(t,c,u):_R(t,c,u)}return t}var $N=Math.max;function Y8(n,e,t){return e=$N(e===void 0?n.length-1:e,0),function(){for(var s=arguments,r=-1,i=$N(s.length-e,0),l=Array(i);++r<i;)l[r]=s[e+r];r=-1;for(var c=Array(e+1);++r<e;)c[r]=s[r];return c[e]=t(l),O8(n,this,c)}}function X8(n,e){return z8(Y8(n,e,ER),n+"")}var Z8=9007199254740991;function NR(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Z8}function ug(n){return n!=null&&NR(n.length)&&!Kv(n)}function Q8(n,e,t){if(!gl(t))return!1;var s=typeof e;return(s=="number"?ug(t)&&SR(e,t.length):s=="string"&&e in t)?Zd(t[e],n):!1}function K8(n){return X8(function(e,t){var s=-1,r=t.length,i=r>1?t[r-1]:void 0,l=r>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(r--,i):void 0,l&&Q8(t[0],t[1],l)&&(i=r<3?void 0:i,r=1),e=Object(e);++s<r;){var c=t[s];c&&n(e,c,s,i)}return e})}var J8=Object.prototype;function ex(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||J8;return n===t}function eB(n,e){for(var t=-1,s=Array(n);++t<n;)s[t]=e(t);return s}var tB="[object Arguments]";function VN(n){return ra(n)&&zc(n)==tB}var AR=Object.prototype,nB=AR.hasOwnProperty,sB=AR.propertyIsEnumerable,Qy=VN((function(){return arguments})())?VN:function(n){return ra(n)&&nB.call(n,"callee")&&!sB.call(n,"callee")};function rB(){return!1}var CR=typeof rr=="object"&&rr&&!rr.nodeType&&rr,WN=CR&&typeof ir=="object"&&ir&&!ir.nodeType&&ir,iB=WN&&WN.exports===CR,GN=iB?Ci.Buffer:void 0,aB=GN?GN.isBuffer:void 0,_d=aB||rB,lB="[object Arguments]",oB="[object Array]",cB="[object Boolean]",uB="[object Date]",dB="[object Error]",fB="[object Function]",hB="[object Map]",mB="[object Number]",gB="[object Object]",pB="[object RegExp]",bB="[object Set]",yB="[object String]",vB="[object WeakMap]",xB="[object ArrayBuffer]",wB="[object DataView]",EB="[object Float32Array]",SB="[object Float64Array]",_B="[object Int8Array]",NB="[object Int16Array]",AB="[object Int32Array]",CB="[object Uint8Array]",TB="[object Uint8ClampedArray]",jB="[object Uint16Array]",RB="[object Uint32Array]",rn={};rn[EB]=rn[SB]=rn[_B]=rn[NB]=rn[AB]=rn[CB]=rn[TB]=rn[jB]=rn[RB]=!0;rn[lB]=rn[oB]=rn[xB]=rn[cB]=rn[wB]=rn[uB]=rn[dB]=rn[fB]=rn[hB]=rn[mB]=rn[gB]=rn[pB]=rn[bB]=rn[yB]=rn[vB]=!1;function DB(n){return ra(n)&&NR(n.length)&&!!rn[zc(n)]}function tx(n){return function(e){return n(e)}}var TR=typeof rr=="object"&&rr&&!rr.nodeType&&rr,ud=TR&&typeof ir=="object"&&ir&&!ir.nodeType&&ir,kB=ud&&ud.exports===TR,W0=kB&&xR.process,Cc=(function(){try{var n=ud&&ud.require&&ud.require("util").types;return n||W0&&W0.binding&&W0.binding("util")}catch{}})(),YN=Cc&&Cc.isTypedArray,nx=YN?tx(YN):DB,OB=Object.prototype,MB=OB.hasOwnProperty;function jR(n,e){var t=so(n),s=!t&&Qy(n),r=!t&&!s&&_d(n),i=!t&&!s&&!r&&nx(n),l=t||s||r||i,c=l?eB(n.length,String):[],u=c.length;for(var h in n)(e||MB.call(n,h))&&!(l&&(h=="length"||r&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||SR(h,u)))&&c.push(h);return c}function RR(n,e){return function(t){return n(e(t))}}var LB=RR(Object.keys,Object),IB=Object.prototype,BB=IB.hasOwnProperty;function PB(n){if(!ex(n))return LB(n);var e=[];for(var t in Object(n))BB.call(n,t)&&t!="constructor"&&e.push(t);return e}function UB(n){return ug(n)?jR(n):PB(n)}function HB(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var zB=Object.prototype,qB=zB.hasOwnProperty;function FB(n){if(!gl(n))return HB(n);var e=ex(n),t=[];for(var s in n)s=="constructor"&&(e||!qB.call(n,s))||t.push(s);return t}function DR(n){return ug(n)?jR(n,!0):FB(n)}var Nd=mo(Object,"create");function $B(){this.__data__=Nd?Nd(null):{},this.size=0}function VB(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var WB="__lodash_hash_undefined__",GB=Object.prototype,YB=GB.hasOwnProperty;function XB(n){var e=this.__data__;if(Nd){var t=e[n];return t===WB?void 0:t}return YB.call(e,n)?e[n]:void 0}var ZB=Object.prototype,QB=ZB.hasOwnProperty;function KB(n){var e=this.__data__;return Nd?e[n]!==void 0:QB.call(e,n)}var JB="__lodash_hash_undefined__";function eP(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Nd&&e===void 0?JB:e,this}function ro(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}ro.prototype.clear=$B;ro.prototype.delete=VB;ro.prototype.get=XB;ro.prototype.has=KB;ro.prototype.set=eP;function tP(){this.__data__=[],this.size=0}function dg(n,e){for(var t=n.length;t--;)if(Zd(n[t][0],e))return t;return-1}var nP=Array.prototype,sP=nP.splice;function rP(n){var e=this.__data__,t=dg(e,n);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():sP.call(e,t,1),--this.size,!0}function iP(n){var e=this.__data__,t=dg(e,n);return t<0?void 0:e[t][1]}function aP(n){return dg(this.__data__,n)>-1}function lP(n,e){var t=this.__data__,s=dg(t,n);return s<0?(++this.size,t.push([n,e])):t[s][1]=e,this}function la(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}la.prototype.clear=tP;la.prototype.delete=rP;la.prototype.get=iP;la.prototype.has=aP;la.prototype.set=lP;var Ad=mo(Ci,"Map");function oP(){this.size=0,this.__data__={hash:new ro,map:new(Ad||la),string:new ro}}function cP(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function fg(n,e){var t=n.__data__;return cP(e)?t[typeof e=="string"?"string":"hash"]:t.map}function uP(n){var e=fg(this,n).delete(n);return this.size-=e?1:0,e}function dP(n){return fg(this,n).get(n)}function fP(n){return fg(this,n).has(n)}function hP(n,e){var t=fg(this,n),s=t.size;return t.set(n,e),this.size+=t.size==s?0:1,this}function go(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}go.prototype.clear=oP;go.prototype.delete=uP;go.prototype.get=dP;go.prototype.has=fP;go.prototype.set=hP;function mP(n,e){for(var t=-1,s=e.length,r=n.length;++t<s;)n[r+t]=e[t];return n}var kR=RR(Object.getPrototypeOf,Object),gP="[object Object]",pP=Function.prototype,bP=Object.prototype,OR=pP.toString,yP=bP.hasOwnProperty,vP=OR.call(Object);function xP(n){if(!ra(n)||zc(n)!=gP)return!1;var e=kR(n);if(e===null)return!0;var t=yP.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&OR.call(t)==vP}function wP(){this.__data__=new la,this.size=0}function EP(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function SP(n){return this.__data__.get(n)}function _P(n){return this.__data__.has(n)}var NP=200;function AP(n,e){var t=this.__data__;if(t instanceof la){var s=t.__data__;if(!Ad||s.length<NP-1)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new go(s)}return t.set(n,e),this.size=t.size,this}function wi(n){var e=this.__data__=new la(n);this.size=e.size}wi.prototype.clear=wP;wi.prototype.delete=EP;wi.prototype.get=SP;wi.prototype.has=_P;wi.prototype.set=AP;var MR=typeof rr=="object"&&rr&&!rr.nodeType&&rr,XN=MR&&typeof ir=="object"&&ir&&!ir.nodeType&&ir,CP=XN&&XN.exports===MR,ZN=CP?Ci.Buffer:void 0,QN=ZN?ZN.allocUnsafe:void 0;function LR(n,e){if(e)return n.slice();var t=n.length,s=QN?QN(t):new n.constructor(t);return n.copy(s),s}function TP(n,e){for(var t=-1,s=n==null?0:n.length,r=0,i=[];++t<s;){var l=n[t];e(l,t,n)&&(i[r++]=l)}return i}function jP(){return[]}var RP=Object.prototype,DP=RP.propertyIsEnumerable,KN=Object.getOwnPropertySymbols,kP=KN?function(n){return n==null?[]:(n=Object(n),TP(KN(n),function(e){return DP.call(n,e)}))}:jP;function OP(n,e,t){var s=e(n);return so(n)?s:mP(s,t(n))}function Ky(n){return OP(n,UB,kP)}var Jy=mo(Ci,"DataView"),ev=mo(Ci,"Promise"),tv=mo(Ci,"Set"),JN="[object Map]",MP="[object Object]",eA="[object Promise]",tA="[object Set]",nA="[object WeakMap]",sA="[object DataView]",LP=ho(Jy),IP=ho(Ad),BP=ho(ev),PP=ho(tv),UP=ho(Zy),Wr=zc;(Jy&&Wr(new Jy(new ArrayBuffer(1)))!=sA||Ad&&Wr(new Ad)!=JN||ev&&Wr(ev.resolve())!=eA||tv&&Wr(new tv)!=tA||Zy&&Wr(new Zy)!=nA)&&(Wr=function(n){var e=zc(n),t=e==MP?n.constructor:void 0,s=t?ho(t):"";if(s)switch(s){case LP:return sA;case IP:return JN;case BP:return eA;case PP:return tA;case UP:return nA}return e});var HP=Object.prototype,zP=HP.hasOwnProperty;function qP(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&zP.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Sm=Ci.Uint8Array;function sx(n){var e=new n.constructor(n.byteLength);return new Sm(e).set(new Sm(n)),e}function FP(n,e){var t=sx(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var $P=/\w*$/;function VP(n){var e=new n.constructor(n.source,$P.exec(n));return e.lastIndex=n.lastIndex,e}var rA=ll?ll.prototype:void 0,iA=rA?rA.valueOf:void 0;function WP(n){return iA?Object(iA.call(n)):{}}function IR(n,e){var t=e?sx(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var GP="[object Boolean]",YP="[object Date]",XP="[object Map]",ZP="[object Number]",QP="[object RegExp]",KP="[object Set]",JP="[object String]",eU="[object Symbol]",tU="[object ArrayBuffer]",nU="[object DataView]",sU="[object Float32Array]",rU="[object Float64Array]",iU="[object Int8Array]",aU="[object Int16Array]",lU="[object Int32Array]",oU="[object Uint8Array]",cU="[object Uint8ClampedArray]",uU="[object Uint16Array]",dU="[object Uint32Array]";function fU(n,e,t){var s=n.constructor;switch(e){case tU:return sx(n);case GP:case YP:return new s(+n);case nU:return FP(n);case sU:case rU:case iU:case aU:case lU:case oU:case cU:case uU:case dU:return IR(n,t);case XP:return new s;case ZP:case JP:return new s(n);case QP:return VP(n);case KP:return new s;case eU:return WP(n)}}function BR(n){return typeof n.constructor=="function"&&!ex(n)?k8(kR(n)):{}}var hU="[object Map]";function mU(n){return ra(n)&&Wr(n)==hU}var aA=Cc&&Cc.isMap,gU=aA?tx(aA):mU,pU="[object Set]";function bU(n){return ra(n)&&Wr(n)==pU}var lA=Cc&&Cc.isSet,yU=lA?tx(lA):bU,vU=1,PR="[object Arguments]",xU="[object Array]",wU="[object Boolean]",EU="[object Date]",SU="[object Error]",UR="[object Function]",_U="[object GeneratorFunction]",NU="[object Map]",AU="[object Number]",HR="[object Object]",CU="[object RegExp]",TU="[object Set]",jU="[object String]",RU="[object Symbol]",DU="[object WeakMap]",kU="[object ArrayBuffer]",OU="[object DataView]",MU="[object Float32Array]",LU="[object Float64Array]",IU="[object Int8Array]",BU="[object Int16Array]",PU="[object Int32Array]",UU="[object Uint8Array]",HU="[object Uint8ClampedArray]",zU="[object Uint16Array]",qU="[object Uint32Array]",nn={};nn[PR]=nn[xU]=nn[kU]=nn[OU]=nn[wU]=nn[EU]=nn[MU]=nn[LU]=nn[IU]=nn[BU]=nn[PU]=nn[NU]=nn[AU]=nn[HR]=nn[CU]=nn[TU]=nn[jU]=nn[RU]=nn[UU]=nn[HU]=nn[zU]=nn[qU]=!0;nn[SU]=nn[UR]=nn[DU]=!1;function om(n,e,t,s,r,i){var l,c=e&vU;if(l!==void 0)return l;if(!gl(n))return n;var u=so(n);if(u)l=qP(n);else{var h=Wr(n),m=h==UR||h==_U;if(_d(n))return LR(n,c);if(h==HR||h==PR||m&&!r)l=m?{}:BR(n);else{if(!nn[h])return r?n:{};l=fU(n,h,c)}}i||(i=new wi);var p=i.get(n);if(p)return p;i.set(n,l),yU(n)?n.forEach(function(x){l.add(om(x,e,t,x,n,i))}):gU(n)&&n.forEach(function(x,S){l.set(S,om(x,e,t,S,n,i))});var b=Ky,v=u?void 0:b(n);return q8(v||n,function(x,S){v&&(S=x,x=n[S]),_R(l,S,om(x,e,t,S,n,i))}),l}var FU=1,$U=4;function bc(n){return om(n,FU|$U)}var VU="__lodash_hash_undefined__";function WU(n){return this.__data__.set(n,VU),this}function GU(n){return this.__data__.has(n)}function _m(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new go;++e<t;)this.add(n[e])}_m.prototype.add=_m.prototype.push=WU;_m.prototype.has=GU;function YU(n,e){for(var t=-1,s=n==null?0:n.length;++t<s;)if(e(n[t],t,n))return!0;return!1}function XU(n,e){return n.has(e)}var ZU=1,QU=2;function zR(n,e,t,s,r,i){var l=t&ZU,c=n.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=i.get(n),m=i.get(e);if(h&&m)return h==e&&m==n;var p=-1,b=!0,v=t&QU?new _m:void 0;for(i.set(n,e),i.set(e,n);++p<c;){var x=n[p],S=e[p];if(s)var E=l?s(S,x,p,e,n,i):s(x,S,p,n,e,i);if(E!==void 0){if(E)continue;b=!1;break}if(v){if(!YU(e,function(N,A){if(!XU(v,A)&&(x===N||r(x,N,t,s,i)))return v.push(A)})){b=!1;break}}else if(!(x===S||r(x,S,t,s,i))){b=!1;break}}return i.delete(n),i.delete(e),b}function KU(n){var e=-1,t=Array(n.size);return n.forEach(function(s,r){t[++e]=[r,s]}),t}function JU(n){var e=-1,t=Array(n.size);return n.forEach(function(s){t[++e]=s}),t}var e7=1,t7=2,n7="[object Boolean]",s7="[object Date]",r7="[object Error]",i7="[object Map]",a7="[object Number]",l7="[object RegExp]",o7="[object Set]",c7="[object String]",u7="[object Symbol]",d7="[object ArrayBuffer]",f7="[object DataView]",oA=ll?ll.prototype:void 0,G0=oA?oA.valueOf:void 0;function h7(n,e,t,s,r,i,l){switch(t){case f7:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case d7:return!(n.byteLength!=e.byteLength||!i(new Sm(n),new Sm(e)));case n7:case s7:case a7:return Zd(+n,+e);case r7:return n.name==e.name&&n.message==e.message;case l7:case c7:return n==e+"";case i7:var c=KU;case o7:var u=s&e7;if(c||(c=JU),n.size!=e.size&&!u)return!1;var h=l.get(n);if(h)return h==e;s|=t7,l.set(n,e);var m=zR(c(n),c(e),s,r,i,l);return l.delete(n),m;case u7:if(G0)return G0.call(n)==G0.call(e)}return!1}var m7=1,g7=Object.prototype,p7=g7.hasOwnProperty;function b7(n,e,t,s,r,i){var l=t&m7,c=Ky(n),u=c.length,h=Ky(e),m=h.length;if(u!=m&&!l)return!1;for(var p=u;p--;){var b=c[p];if(!(l?b in e:p7.call(e,b)))return!1}var v=i.get(n),x=i.get(e);if(v&&x)return v==e&&x==n;var S=!0;i.set(n,e),i.set(e,n);for(var E=l;++p<u;){b=c[p];var N=n[b],A=e[b];if(s)var R=l?s(A,N,b,e,n,i):s(N,A,b,n,e,i);if(!(R===void 0?N===A||r(N,A,t,s,i):R)){S=!1;break}E||(E=b=="constructor")}if(S&&!E){var T=n.constructor,D=e.constructor;T!=D&&"constructor"in n&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof D=="function"&&D instanceof D)&&(S=!1)}return i.delete(n),i.delete(e),S}var y7=1,cA="[object Arguments]",uA="[object Array]",Eh="[object Object]",v7=Object.prototype,dA=v7.hasOwnProperty;function x7(n,e,t,s,r,i){var l=so(n),c=so(e),u=l?uA:Wr(n),h=c?uA:Wr(e);u=u==cA?Eh:u,h=h==cA?Eh:h;var m=u==Eh,p=h==Eh,b=u==h;if(b&&_d(n)){if(!_d(e))return!1;l=!0,m=!1}if(b&&!m)return i||(i=new wi),l||nx(n)?zR(n,e,t,s,r,i):h7(n,e,u,t,s,r,i);if(!(t&y7)){var v=m&&dA.call(n,"__wrapped__"),x=p&&dA.call(e,"__wrapped__");if(v||x){var S=v?n.value():n,E=x?e.value():e;return i||(i=new wi),r(S,E,t,s,i)}}return b?(i||(i=new wi),b7(n,e,t,s,r,i)):!1}function qR(n,e,t,s,r){return n===e?!0:n==null||e==null||!ra(n)&&!ra(e)?n!==n&&e!==e:x7(n,e,t,s,qR,r)}function w7(n){return function(e,t,s){for(var r=-1,i=Object(e),l=s(e),c=l.length;c--;){var u=l[++r];if(t(i[u],u,i)===!1)break}return e}}var E7=w7();function nv(n,e,t){(t!==void 0&&!Zd(n[e],t)||t===void 0&&!(e in n))&&Jv(n,e,t)}function S7(n){return ra(n)&&ug(n)}function sv(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function _7(n){return G8(n,DR(n))}function N7(n,e,t,s,r,i,l){var c=sv(n,t),u=sv(e,t),h=l.get(u);if(h){nv(n,t,h);return}var m=i?i(c,u,t+"",n,e,l):void 0,p=m===void 0;if(p){var b=so(u),v=!b&&_d(u),x=!b&&!v&&nx(u);m=u,b||v||x?so(c)?m=c:S7(c)?m=M8(c):v?(p=!1,m=LR(u,!0)):x?(p=!1,m=IR(u,!0)):m=[]:xP(u)||Qy(u)?(m=c,Qy(c)?m=_7(c):(!gl(c)||Kv(c))&&(m=BR(u))):p=!1}p&&(l.set(u,m),r(m,u,s,i,l),l.delete(u)),nv(n,t,m)}function FR(n,e,t,s,r){n!==e&&E7(e,function(i,l){if(r||(r=new wi),gl(i))N7(n,e,l,t,FR,s,r);else{var c=s?s(sv(n,l),i,l+"",n,e,r):void 0;c===void 0&&(c=i),nv(n,l,c)}},DR)}function Ga(n,e){return qR(n,e)}var tl=K8(function(n,e,t){FR(n,e,t)}),qe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(qe||{});class Si{constructor(e,t,s={}){this.attrName=e,this.keyName=t;const r=qe.TYPE&qe.ATTRIBUTE;this.scope=s.scope!=null?s.scope&qe.LEVEL|r:qe.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class yc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const $R=class rv{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,t)}return null}create(e,t,s){const r=this.query(t);if(r==null)throw new yc(`Unable to create ${t} blot`);const i=r,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(s),c=new i(e,l,s);return rv.blots.set(c.domNode,c),c}find(e,t=!1){return rv.find(e,t)}query(e,t=qe.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&qe.LEVEL&qe.BLOCK?s=this.types.block:e&qe.LEVEL&qe.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(r=>(s=this.classes[r],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&t&qe.LEVEL&s.scope&&t&qe.TYPE&s.scope?s:null}register(...e){return e.map(t=>{const s="blotName"in t,r="attrName"in t;if(!s&&!r)throw new yc("Invalid definition");if(s&&t.blotName==="abstract")throw new yc("Cannot register abstract class");const i=s?t.blotName:r?t.attrName:void 0;return this.types[i]=t,r?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):s&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};$R.blots=new WeakMap;let Tc=$R;function fA(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class A7 extends Si{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){fA(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(fA(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ti=A7;function Y0(n){const e=n.split("-"),t=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+t}class C7 extends Si{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Y0(this.keyName)]=t,!0):!1}remove(e){e.style[Y0(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Y0(this.keyName)];return this.canAdd(e,t)?t:""}}const pl=C7;class T7{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Tc.find(this.domNode);if(e==null)return;const t=Si.keys(this.domNode),s=ti.keys(this.domNode),r=pl.keys(this.domNode);t.concat(s).concat(r).forEach(i=>{const l=e.scroll.query(i,qe.ATTRIBUTE);l instanceof Si&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const s=this.attributes[t].value(this.domNode);e.format(t,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const hg=T7,VR=class{constructor(e,t){this.scroll=e,this.domNode=t,Tc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new yc("Blot definition missing tagName");let t,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?t=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?t=document.createElement(s):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Tc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,s,r){const i=this.isolate(e,t);if(this.scroll.query(s,qe.BLOT)!=null&&r)i.wrap(s,r);else if(this.scroll.query(s,qe.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);i.wrap(l),l.format(s,r)}}insertAt(e,t,s){const r=s==null?this.scroll.create("text",t):this.scroll.create(t,s),i=this.split(e);this.parent.insertBefore(r,i||void 0)}isolate(e,t){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new yc(`Cannot wrap ${e}`);return s.appendChild(this),s}};VR.blotName="abstract";let WR=VR;const GR=class extends WR{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};GR.scope=qe.INLINE_BLOT;let j7=GR;const ys=j7;class R7{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let s=t();for(;s&&e>0;)e-=1,s=t();return s}contains(e){const t=this.iterator();let s=t();for(;s;){if(s===e)return!0;s=t()}return!1}indexOf(e){const t=this.iterator();let s=t(),r=0;for(;s;){if(s===e)return r;r+=1,s=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,s=this.head;for(;s!=null;){if(s===e)return t;t+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const s=this.iterator();let r=s();for(;r;){const i=r.length();if(e<i||t&&e===i&&(r.next==null||r.next.length()!==0))return[r,e];e-=i,r=s()}return[null,0]}forEach(e){const t=this.iterator();let s=t();for(;s;)e(s),s=t()}forEachAt(e,t,s){if(t<=0)return;const[r,i]=this.find(e);let l=e-i;const c=this.iterator(r);let u=c();for(;u&&l<e+t;){const h=u.length();e>l?s(u,e-l,Math.min(t,l+h-e)):s(u,0,Math.min(h,e+t-l)),l+=h,u=c()}}map(e){return this.reduce((t,s)=>(t.push(e(s)),t),[])}reduce(e,t){const s=this.iterator();let r=s();for(;r;)t=e(t,r),r=s();return t}}function hA(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const s=e.create(qe.INLINE);return Array.from(n.childNodes).forEach(r=>{s.domNode.appendChild(r)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const YR=class qa extends WR{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,qa.uiClass&&this.uiNode.classList.add(qa.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new R7,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=hA(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof yc)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(s,r,i)=>{s.deleteAt(r,i)})}descendant(e,t=0){const[s,r]=this.children.find(t);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,r]:s instanceof qa?s.descendant(e,r):[null,-1]}descendants(e,t=0,s=Number.MAX_VALUE){let r=[],i=s;return this.children.forEachAt(t,s,(l,c,u)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&r.push(l),l instanceof qa&&(r=r.concat(l.descendants(e,c,i))),i-=u}),r}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(s=>t instanceof s)||(t.statics.scope===qe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof qa?t.unwrap():t.remove())})}formatAt(e,t,s,r){this.children.forEachAt(e,t,(i,l,c)=>{i.formatAt(l,c,s,r)})}insertAt(e,t,s){const[r,i]=this.children.find(e);if(r)r.insertAt(i,t,s);else{const l=s==null?this.scroll.create("text",t):this.scroll.create(t,s);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(s=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(s=>{e.insertBefore(s,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[s,r]=this.children.find(e,t),i=[[this,e]];return s instanceof qa?i.concat(s.path(r,t)):(s!=null&&i.push([s,r]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return s instanceof qa&&this.moveChildren(s),super.replaceWith(s)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(r,i,l)=>{const c=r.split(i,t);c!=null&&s.appendChild(c)}),s}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const s=[],r=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(s.push(...i.addedNodes),r.push(...i.removedNodes))}),r.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(i);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),s.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,l)=>i===l?0:i.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let l=null;i.nextSibling!=null&&(l=this.scroll.find(i.nextSibling));const c=hA(i,this.scroll);(c.next!==l||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,l||void 0))}),this.enforceAllowedChildren()}};YR.uiClass="";let D7=YR;const Zr=D7;function k7(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const cc=class uc extends Zr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(uc.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new hg(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(s=>{s instanceof uc||(s=s.wrap(uc.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,qe.INLINE);if(s==null)return;s instanceof Si?this.attributes.attribute(s,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,r){this.formats()[s]!=null||this.scroll.query(s,qe.ATTRIBUTE)?this.isolate(e,t).format(s,r):super.formatAt(e,t,s,r)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof uc&&s.prev===this&&k7(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,t){const s=super.wrap(e,t);return s instanceof uc&&this.attributes.move(s),s}};cc.allowedChildren=[cc,ys],cc.blotName="inline",cc.scope=qe.INLINE_BLOT,cc.tagName="SPAN";let O7=cc;const rx=O7,dc=class iv extends Zr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(iv.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new hg(this.domNode)}format(e,t){const s=this.scroll.query(e,qe.BLOCK);s!=null&&(s instanceof Si?this.attributes.attribute(s,t):e===this.statics.blotName&&!t?this.replaceWith(iv.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,r){this.scroll.query(s,qe.BLOCK)!=null?this.format(s,r):super.formatAt(e,t,s,r)}insertAt(e,t,s){if(s==null||this.scroll.query(t,qe.INLINE)!=null)super.insertAt(e,t,s);else{const r=this.split(e);if(r!=null){const i=this.scroll.create(t,s);r.parent.insertBefore(i,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};dc.blotName="block",dc.scope=qe.BLOCK_BLOT,dc.tagName="P",dc.allowedChildren=[rx,dc,ys];let M7=dc;const Cd=M7,av=class extends Zr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,s,r){super.formatAt(e,t,s,r),this.enforceAllowedChildren()}insertAt(e,t,s){super.insertAt(e,t,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};av.blotName="container",av.scope=qe.BLOCK_BLOT;let L7=av;const mg=L7;class I7 extends ys{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,s,r){e===0&&t===this.length()?this.format(s,r):super.formatAt(e,t,s,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ur=I7,B7={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},P7=100,fc=class extends Zr{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,B7),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const s=this.registry.find(e,t);return s?s.scroll===this?s:t?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,t=qe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,t)}formatAt(e,t,s,r){this.update(),super.formatAt(e,t,s,r)}insertAt(e,t,s){this.update(),super.insertAt(e,t,s)}optimize(e=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const i=(u,h=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(s.has(u.domNode)||s.set(u.domNode,[]),h&&i(u.parent))},l=u=>{s.has(u.domNode)&&(u instanceof Zr&&u.children.forEach(l),s.delete(u.domNode),u.optimize(t))};let c=e;for(let u=0;c.length>0;u+=1){if(u>=P7)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const m=this.find(h.target,!0);m!=null&&(m.domNode===h.target&&(h.type==="childList"?(i(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(p=>{const b=this.find(p,!1);i(b,!1),b instanceof Zr&&b.children.forEach(v=>{i(v,!1)})})):h.type==="attributes"&&i(m.prev)),i(m))}),this.children.forEach(l),c=Array.from(this.observer.takeRecords()),r=c.slice();r.length>0;)e.push(r.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(r=>{const i=this.find(r.target,!0);return i==null?null:s.has(i.domNode)?(s.get(i.domNode).push(r),null):(s.set(i.domNode,[r]),i)}).forEach(r=>{r!=null&&r!==this&&s.has(r.domNode)&&r.update(s.get(r.domNode)||[],t)}),t.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(e,t)}};fc.blotName="scroll",fc.defaultChild=Cd,fc.allowedChildren=[Cd,mg],fc.scope=qe.BLOCK_BLOT,fc.tagName="DIV";let U7=fc;const ix=U7,lv=class XR extends ys{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,s){s==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof XR&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,t){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};lv.blotName="text",lv.scope=qe.INLINE_BLOT;let H7=lv;const Nm=H7,z7=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Si,AttributorStore:hg,BlockBlot:Cd,ClassAttributor:ti,ContainerBlot:mg,EmbedBlot:ur,InlineBlot:rx,LeafBlot:ys,ParentBlot:Zr,Registry:Tc,Scope:qe,ScrollBlot:ix,StyleAttributor:pl,TextBlot:Nm},Symbol.toStringTag,{value:"Module"}));var Sh={exports:{}},X0,mA;function q7(){if(mA)return X0;mA=1;var n=-1,e=1,t=0;function s(O,q,H,X,V){if(O===q)return O?[[t,O]]:[];if(H!=null){var j=F(O,q,H);if(j)return j}var z=c(O,q),K=O.substring(0,z);O=O.substring(z),q=q.substring(z),z=h(O,q);var ne=O.substring(O.length-z);O=O.substring(0,O.length-z),q=q.substring(0,q.length-z);var L=r(O,q);return K&&L.unshift([t,K]),ne&&L.push([t,ne]),A(L,V),X&&p(L),L}function r(O,q){var H;if(!O)return[[e,q]];if(!q)return[[n,O]];var X=O.length>q.length?O:q,V=O.length>q.length?q:O,j=X.indexOf(V);if(j!==-1)return H=[[e,X.substring(0,j)],[t,V],[e,X.substring(j+V.length)]],O.length>q.length&&(H[0][0]=H[2][0]=n),H;if(V.length===1)return[[n,O],[e,q]];var z=m(O,q);if(z){var K=z[0],ne=z[1],L=z[2],G=z[3],ie=z[4],se=s(K,L),pe=s(ne,G);return se.concat([[t,ie]],pe)}return i(O,q)}function i(O,q){for(var H=O.length,X=q.length,V=Math.ceil((H+X)/2),j=V,z=2*V,K=new Array(z),ne=new Array(z),L=0;L<z;L++)K[L]=-1,ne[L]=-1;K[j+1]=0,ne[j+1]=0;for(var G=H-X,ie=G%2!==0,se=0,pe=0,he=0,_e=0,Ze=0;Ze<V;Ze++){for(var ge=-Ze+se;ge<=Ze-pe;ge+=2){var Te=j+ge,ke;ge===-Ze||ge!==Ze&&K[Te-1]<K[Te+1]?ke=K[Te+1]:ke=K[Te-1]+1;for(var $e=ke-ge;ke<H&&$e<X&&O.charAt(ke)===q.charAt($e);)ke++,$e++;if(K[Te]=ke,ke>H)pe+=2;else if($e>X)se+=2;else if(ie){var Ue=j+G-ge;if(Ue>=0&&Ue<z&&ne[Ue]!==-1){var Ke=H-ne[Ue];if(ke>=Ke)return l(O,q,ke,$e)}}}for(var He=-Ze+he;He<=Ze-_e;He+=2){var Ue=j+He,Ke;He===-Ze||He!==Ze&&ne[Ue-1]<ne[Ue+1]?Ke=ne[Ue+1]:Ke=ne[Ue-1]+1;for(var Bt=Ke-He;Ke<H&&Bt<X&&O.charAt(H-Ke-1)===q.charAt(X-Bt-1);)Ke++,Bt++;if(ne[Ue]=Ke,Ke>H)_e+=2;else if(Bt>X)he+=2;else if(!ie){var Te=j+G-He;if(Te>=0&&Te<z&&K[Te]!==-1){var ke=K[Te],$e=j+ke-Te;if(Ke=H-Ke,ke>=Ke)return l(O,q,ke,$e)}}}}return[[n,O],[e,q]]}function l(O,q,H,X){var V=O.substring(0,H),j=q.substring(0,X),z=O.substring(H),K=q.substring(X),ne=s(V,j),L=s(z,K);return ne.concat(L)}function c(O,q){if(!O||!q||O.charAt(0)!==q.charAt(0))return 0;for(var H=0,X=Math.min(O.length,q.length),V=X,j=0;H<V;)O.substring(j,V)==q.substring(j,V)?(H=V,j=H):X=V,V=Math.floor((X-H)/2+H);return R(O.charCodeAt(V-1))&&V--,V}function u(O,q){var H=O.length,X=q.length;if(H==0||X==0)return 0;H>X?O=O.substring(H-X):H<X&&(q=q.substring(0,H));var V=Math.min(H,X);if(O==q)return V;for(var j=0,z=1;;){var K=O.substring(V-z),ne=q.indexOf(K);if(ne==-1)return j;z+=ne,(ne==0||O.substring(V-z)==q.substring(0,z))&&(j=z,z++)}}function h(O,q){if(!O||!q||O.slice(-1)!==q.slice(-1))return 0;for(var H=0,X=Math.min(O.length,q.length),V=X,j=0;H<V;)O.substring(O.length-V,O.length-j)==q.substring(q.length-V,q.length-j)?(H=V,j=H):X=V,V=Math.floor((X-H)/2+H);return T(O.charCodeAt(O.length-V))&&V--,V}function m(O,q){var H=O.length>q.length?O:q,X=O.length>q.length?q:O;if(H.length<4||X.length*2<H.length)return null;function V(pe,he,_e){for(var Ze=pe.substring(_e,_e+Math.floor(pe.length/4)),ge=-1,Te="",ke,$e,Ue,Ke;(ge=he.indexOf(Ze,ge+1))!==-1;){var He=c(pe.substring(_e),he.substring(ge)),Bt=h(pe.substring(0,_e),he.substring(0,ge));Te.length<Bt+He&&(Te=he.substring(ge-Bt,ge)+he.substring(ge,ge+He),ke=pe.substring(0,_e-Bt),$e=pe.substring(_e+He),Ue=he.substring(0,ge-Bt),Ke=he.substring(ge+He))}return Te.length*2>=pe.length?[ke,$e,Ue,Ke,Te]:null}var j=V(H,X,Math.ceil(H.length/4)),z=V(H,X,Math.ceil(H.length/2)),K;if(!j&&!z)return null;z?j?K=j[4].length>z[4].length?j:z:K=z:K=j;var ne,L,G,ie;O.length>q.length?(ne=K[0],L=K[1],G=K[2],ie=K[3]):(G=K[0],ie=K[1],ne=K[2],L=K[3]);var se=K[4];return[ne,L,G,ie,se]}function p(O){for(var q=!1,H=[],X=0,V=null,j=0,z=0,K=0,ne=0,L=0;j<O.length;)O[j][0]==t?(H[X++]=j,z=ne,K=L,ne=0,L=0,V=O[j][1]):(O[j][0]==e?ne+=O[j][1].length:L+=O[j][1].length,V&&V.length<=Math.max(z,K)&&V.length<=Math.max(ne,L)&&(O.splice(H[X-1],0,[n,V]),O[H[X-1]+1][0]=e,X--,X--,j=X>0?H[X-1]:-1,z=0,K=0,ne=0,L=0,V=null,q=!0)),j++;for(q&&A(O),N(O),j=1;j<O.length;){if(O[j-1][0]==n&&O[j][0]==e){var G=O[j-1][1],ie=O[j][1],se=u(G,ie),pe=u(ie,G);se>=pe?(se>=G.length/2||se>=ie.length/2)&&(O.splice(j,0,[t,ie.substring(0,se)]),O[j-1][1]=G.substring(0,G.length-se),O[j+1][1]=ie.substring(se),j++):(pe>=G.length/2||pe>=ie.length/2)&&(O.splice(j,0,[t,G.substring(0,pe)]),O[j-1][0]=e,O[j-1][1]=ie.substring(0,ie.length-pe),O[j+1][0]=n,O[j+1][1]=G.substring(pe),j++),j++}j++}}var b=/[^a-zA-Z0-9]/,v=/\s/,x=/[\r\n]/,S=/\n\r?\n$/,E=/^\r?\n\r?\n/;function N(O){function q(pe,he){if(!pe||!he)return 6;var _e=pe.charAt(pe.length-1),Ze=he.charAt(0),ge=_e.match(b),Te=Ze.match(b),ke=ge&&_e.match(v),$e=Te&&Ze.match(v),Ue=ke&&_e.match(x),Ke=$e&&Ze.match(x),He=Ue&&pe.match(S),Bt=Ke&&he.match(E);return He||Bt?5:Ue||Ke?4:ge&&!ke&&$e?3:ke||$e?2:ge||Te?1:0}for(var H=1;H<O.length-1;){if(O[H-1][0]==t&&O[H+1][0]==t){var X=O[H-1][1],V=O[H][1],j=O[H+1][1],z=h(X,V);if(z){var K=V.substring(V.length-z);X=X.substring(0,X.length-z),V=K+V.substring(0,V.length-z),j=K+j}for(var ne=X,L=V,G=j,ie=q(X,V)+q(V,j);V.charAt(0)===j.charAt(0);){X+=V.charAt(0),V=V.substring(1)+j.charAt(0),j=j.substring(1);var se=q(X,V)+q(V,j);se>=ie&&(ie=se,ne=X,L=V,G=j)}O[H-1][1]!=ne&&(ne?O[H-1][1]=ne:(O.splice(H-1,1),H--),O[H][1]=L,G?O[H+1][1]=G:(O.splice(H+1,1),H--))}H++}}function A(O,q){O.push([t,""]);for(var H=0,X=0,V=0,j="",z="",K;H<O.length;){if(H<O.length-1&&!O[H][1]){O.splice(H,1);continue}switch(O[H][0]){case e:V++,z+=O[H][1],H++;break;case n:X++,j+=O[H][1],H++;break;case t:var ne=H-V-X-1;if(q){if(ne>=0&&M(O[ne][1])){var L=O[ne][1].slice(-1);if(O[ne][1]=O[ne][1].slice(0,-1),j=L+j,z=L+z,!O[ne][1]){O.splice(ne,1),H--;var G=ne-1;O[G]&&O[G][0]===e&&(V++,z=O[G][1]+z,G--),O[G]&&O[G][0]===n&&(X++,j=O[G][1]+j,G--),ne=G}}if(D(O[H][1])){var L=O[H][1].charAt(0);O[H][1]=O[H][1].slice(1),j+=L,z+=L}}if(H<O.length-1&&!O[H][1]){O.splice(H,1);break}if(j.length>0||z.length>0){j.length>0&&z.length>0&&(K=c(z,j),K!==0&&(ne>=0?O[ne][1]+=z.substring(0,K):(O.splice(0,0,[t,z.substring(0,K)]),H++),z=z.substring(K),j=j.substring(K)),K=h(z,j),K!==0&&(O[H][1]=z.substring(z.length-K)+O[H][1],z=z.substring(0,z.length-K),j=j.substring(0,j.length-K)));var ie=V+X;j.length===0&&z.length===0?(O.splice(H-ie,ie),H=H-ie):j.length===0?(O.splice(H-ie,ie,[e,z]),H=H-ie+1):z.length===0?(O.splice(H-ie,ie,[n,j]),H=H-ie+1):(O.splice(H-ie,ie,[n,j],[e,z]),H=H-ie+2)}H!==0&&O[H-1][0]===t?(O[H-1][1]+=O[H][1],O.splice(H,1)):H++,V=0,X=0,j="",z="";break}}O[O.length-1][1]===""&&O.pop();var se=!1;for(H=1;H<O.length-1;)O[H-1][0]===t&&O[H+1][0]===t&&(O[H][1].substring(O[H][1].length-O[H-1][1].length)===O[H-1][1]?(O[H][1]=O[H-1][1]+O[H][1].substring(0,O[H][1].length-O[H-1][1].length),O[H+1][1]=O[H-1][1]+O[H+1][1],O.splice(H-1,1),se=!0):O[H][1].substring(0,O[H+1][1].length)==O[H+1][1]&&(O[H-1][1]+=O[H+1][1],O[H][1]=O[H][1].substring(O[H+1][1].length)+O[H+1][1],O.splice(H+1,1),se=!0)),H++;se&&A(O,q)}function R(O){return O>=55296&&O<=56319}function T(O){return O>=56320&&O<=57343}function D(O){return T(O.charCodeAt(0))}function M(O){return R(O.charCodeAt(O.length-1))}function U(O){for(var q=[],H=0;H<O.length;H++)O[H][1].length>0&&q.push(O[H]);return q}function I(O,q,H,X){return M(O)||D(X)?null:U([[t,O],[n,q],[e,H],[t,X]])}function F(O,q,H){var X=typeof H=="number"?{index:H,length:0}:H.oldRange,V=typeof H=="number"?null:H.newRange,j=O.length,z=q.length;if(X.length===0&&(V===null||V.length===0)){var K=X.index,ne=O.slice(0,K),L=O.slice(K),G=V?V.index:null;e:{var ie=K+z-j;if(G!==null&&G!==ie||ie<0||ie>z)break e;var se=q.slice(0,ie),pe=q.slice(ie);if(pe!==L)break e;var he=Math.min(K,ie),_e=ne.slice(0,he),Ze=se.slice(0,he);if(_e!==Ze)break e;var ge=ne.slice(he),Te=se.slice(he);return I(_e,ge,Te,L)}e:{if(G!==null&&G!==K)break e;var ke=K,se=q.slice(0,ke),pe=q.slice(ke);if(se!==ne)break e;var $e=Math.min(j-ke,z-ke),Ue=L.slice(L.length-$e),Ke=pe.slice(pe.length-$e);if(Ue!==Ke)break e;var ge=L.slice(0,L.length-$e),Te=pe.slice(0,pe.length-$e);return I(ne,ge,Te,Ue)}}if(X.length>0&&V&&V.length===0)e:{var _e=O.slice(0,X.index),Ue=O.slice(X.index+X.length),he=_e.length,$e=Ue.length;if(z<he+$e)break e;var Ze=q.slice(0,he),Ke=q.slice(z-$e);if(_e!==Ze||Ue!==Ke)break e;var ge=O.slice(he,j-$e),Te=q.slice(he,z-$e);return I(_e,ge,Te,Ue)}return null}function Z(O,q,H,X){return s(O,q,H,X,!0)}return Z.INSERT=e,Z.DELETE=n,Z.EQUAL=t,X0=Z,X0}var rd={exports:{}};rd.exports;var gA;function ZR(){return gA||(gA=1,(function(n,e){var t=200,s="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",m="[object Function]",p="[object GeneratorFunction]",b="[object Map]",v="[object Number]",x="[object Object]",S="[object Promise]",E="[object RegExp]",N="[object Set]",A="[object String]",R="[object Symbol]",T="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",U="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",Z="[object Int16Array]",O="[object Int32Array]",q="[object Uint8Array]",H="[object Uint8ClampedArray]",X="[object Uint16Array]",V="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,z=/\w*$/,K=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,L={};L[i]=L[l]=L[D]=L[M]=L[c]=L[u]=L[U]=L[I]=L[F]=L[Z]=L[O]=L[b]=L[v]=L[x]=L[E]=L[N]=L[A]=L[R]=L[q]=L[H]=L[X]=L[V]=!0,L[h]=L[m]=L[T]=!1;var G=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ie=typeof self=="object"&&self&&self.Object===Object&&self,se=G||ie||Function("return this")(),pe=e&&!e.nodeType&&e,he=pe&&!0&&n&&!n.nodeType&&n,_e=he&&he.exports===pe;function Ze(C,P){return C.set(P[0],P[1]),C}function ge(C,P){return C.add(P),C}function Te(C,P){for(var Y=-1,me=C?C.length:0;++Y<me&&P(C[Y],Y,C)!==!1;);return C}function ke(C,P){for(var Y=-1,me=P.length,Je=C.length;++Y<me;)C[Je+Y]=P[Y];return C}function $e(C,P,Y,me){for(var Je=-1,Ve=C?C.length:0;++Je<Ve;)Y=P(Y,C[Je],Je,C);return Y}function Ue(C,P){for(var Y=-1,me=Array(C);++Y<C;)me[Y]=P(Y);return me}function Ke(C,P){return C?.[P]}function He(C){var P=!1;if(C!=null&&typeof C.toString!="function")try{P=!!(C+"")}catch{}return P}function Bt(C){var P=-1,Y=Array(C.size);return C.forEach(function(me,Je){Y[++P]=[Je,me]}),Y}function Vn(C,P){return function(Y){return C(P(Y))}}function Pt(C){var P=-1,Y=Array(C.size);return C.forEach(function(me){Y[++P]=me}),Y}var Mn=Array.prototype,Es=Function.prototype,Wn=Object.prototype,Ce=se["__core-js_shared__"],je=(function(){var C=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""})(),it=Es.toString,pt=Wn.hasOwnProperty,ft=Wn.toString,ot=RegExp("^"+it.call(pt).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=_e?se.Buffer:void 0,un=se.Symbol,Jt=se.Uint8Array,Ln=Vn(Object.getPrototypeOf,Object),Gn=Object.create,ks=Wn.propertyIsEnumerable,os=Mn.splice,dn=Object.getOwnPropertySymbols,fn=nt?nt.isBuffer:void 0,cs=Vn(Object.keys,Object),Nn=Xn(se,"DataView"),Os=Xn(se,"Map"),hn=Xn(se,"Promise"),us=Xn(se,"Set"),Ms=Xn(se,"WeakMap"),An=Xn(Object,"create"),dr=wn(Nn),ns=wn(Os),Rt=wn(hn),Yn=wn(us),Gs=wn(Ms),W=un?un.prototype:void 0,te=W?W.valueOf:void 0;function le(C){var P=-1,Y=C?C.length:0;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function xe(){this.__data__=An?An(null):{}}function Se(C){return this.has(C)&&delete this.__data__[C]}function Re(C){var P=this.__data__;if(An){var Y=P[C];return Y===s?void 0:Y}return pt.call(P,C)?P[C]:void 0}function Me(C){var P=this.__data__;return An?P[C]!==void 0:pt.call(P,C)}function Le(C,P){var Y=this.__data__;return Y[C]=An&&P===void 0?s:P,this}le.prototype.clear=xe,le.prototype.delete=Se,le.prototype.get=Re,le.prototype.has=Me,le.prototype.set=Le;function De(C){var P=-1,Y=C?C.length:0;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function Fe(){this.__data__=[]}function Ie(C){var P=this.__data__,Y=rt(P,C);if(Y<0)return!1;var me=P.length-1;return Y==me?P.pop():os.call(P,Y,1),!0}function Oe(C){var P=this.__data__,Y=rt(P,C);return Y<0?void 0:P[Y][1]}function st(C){return rt(this.__data__,C)>-1}function mt(C,P){var Y=this.__data__,me=rt(Y,C);return me<0?Y.push([C,P]):Y[me][1]=P,this}De.prototype.clear=Fe,De.prototype.delete=Ie,De.prototype.get=Oe,De.prototype.has=st,De.prototype.set=mt;function at(C){var P=-1,Y=C?C.length:0;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function Ut(){this.__data__={hash:new le,map:new(Os||De),string:new le}}function et(C){return ri(this,C).delete(C)}function Ae(C){return ri(this,C).get(C)}function Q(C){return ri(this,C).has(C)}function Ee(C,P){return ri(this,C).set(C,P),this}at.prototype.clear=Ut,at.prototype.delete=et,at.prototype.get=Ae,at.prototype.has=Q,at.prototype.set=Ee;function Ne(C){this.__data__=new De(C)}function ct(){this.__data__=new De}function Gt(C){return this.__data__.delete(C)}function Ct(C){return this.__data__.get(C)}function Ft(C){return this.__data__.has(C)}function mn(C,P){var Y=this.__data__;if(Y instanceof De){var me=Y.__data__;if(!Os||me.length<t-1)return me.push([C,P]),this;Y=this.__data__=new at(me)}return Y.set(C,P),this}Ne.prototype.clear=ct,Ne.prototype.delete=Gt,Ne.prototype.get=Ct,Ne.prototype.has=Ft,Ne.prototype.set=mn;function gn(C,P){var Y=ma(C)||ii(C)?Ue(C.length,String):[],me=Y.length,Je=!!me;for(var Ve in C)pt.call(C,Ve)&&!(Je&&(Ve=="length"||Xc(Ve,me)))&&Y.push(Ve);return Y}function Ye(C,P,Y){var me=C[P];(!(pt.call(C,P)&&Sl(me,Y))||Y===void 0&&!(P in C))&&(C[P]=Y)}function rt(C,P){for(var Y=C.length;Y--;)if(Sl(C[Y][0],P))return Y;return-1}function pn(C,P){return C&&Di(P,pa(P),C)}function bn(C,P,Y,me,Je,Ve,Et){var bt;if(me&&(bt=Ve?me(C,Je,Ve,Et):me(C)),bt!==void 0)return bt;if(!Is(C))return C;var en=ma(C);if(en){if(bt=To(C),!P)return Ao(C,bt)}else{var Nt=mr(C),Un=Nt==m||Nt==p;if(ga(C))return ji(C,P);if(Nt==x||Nt==i||Un&&!Ve){if(He(C))return Ve?C:{};if(bt=Ls(Un?{}:C),!P)return si(C,pn(bt,C))}else{if(!L[Nt])return Ve?C:{};bt=Yc(C,Nt,bn,P)}}Et||(Et=new Ne);var hs=Et.get(C);if(hs)return hs;if(Et.set(C,bt),!en)var Cn=Y?Co(C):pa(C);return Te(Cn||C,function(Zn,Tn){Cn&&(Tn=Zn,Zn=C[Tn]),Ye(bt,Tn,bn(Zn,P,Y,me,Tn,C,Et))}),bt}function Yt(C){return Is(C)?Gn(C):{}}function fr(C,P,Y){var me=P(C);return ma(C)?me:ke(me,Y(C))}function ua(C){return ft.call(C)}function da(C){if(!Is(C)||El(C))return!1;var P=Pr(C)||He(C)?ot:K;return P.test(wn(C))}function ds(C){if(!ha(C))return cs(C);var P=[];for(var Y in Object(C))pt.call(C,Y)&&Y!="constructor"&&P.push(Y);return P}function ji(C,P){if(P)return C.slice();var Y=new C.constructor(C.length);return C.copy(Y),Y}function vl(C){var P=new C.constructor(C.byteLength);return new Jt(P).set(new Jt(C)),P}function hr(C,P){var Y=P?vl(C.buffer):C.buffer;return new C.constructor(Y,C.byteOffset,C.byteLength)}function xl(C,P,Y){var me=P?Y(Bt(C),!0):Bt(C);return $e(me,Ze,new C.constructor)}function Ri(C){var P=new C.constructor(C.source,z.exec(C));return P.lastIndex=C.lastIndex,P}function Gc(C,P,Y){var me=P?Y(Pt(C),!0):Pt(C);return $e(me,ge,new C.constructor)}function fs(C){return te?Object(te.call(C)):{}}function wl(C,P){var Y=P?vl(C.buffer):C.buffer;return new C.constructor(Y,C.byteOffset,C.length)}function Ao(C,P){var Y=-1,me=C.length;for(P||(P=Array(me));++Y<me;)P[Y]=C[Y];return P}function Di(C,P,Y,me){Y||(Y={});for(var Je=-1,Ve=P.length;++Je<Ve;){var Et=P[Je],bt=void 0;Ye(Y,Et,bt===void 0?C[Et]:bt)}return Y}function si(C,P){return Di(C,Ir(C),P)}function Co(C){return fr(C,pa,Ir)}function ri(C,P){var Y=C.__data__;return fa(P)?Y[typeof P=="string"?"string":"hash"]:Y.map}function Xn(C,P){var Y=Ke(C,P);return da(Y)?Y:void 0}var Ir=dn?Vn(dn,Object):ba,mr=ua;(Nn&&mr(new Nn(new ArrayBuffer(1)))!=M||Os&&mr(new Os)!=b||hn&&mr(hn.resolve())!=S||us&&mr(new us)!=N||Ms&&mr(new Ms)!=T)&&(mr=function(C){var P=ft.call(C),Y=P==x?C.constructor:void 0,me=Y?wn(Y):void 0;if(me)switch(me){case dr:return M;case ns:return b;case Rt:return S;case Yn:return N;case Gs:return T}return P});function To(C){var P=C.length,Y=C.constructor(P);return P&&typeof C[0]=="string"&&pt.call(C,"index")&&(Y.index=C.index,Y.input=C.input),Y}function Ls(C){return typeof C.constructor=="function"&&!ha(C)?Yt(Ln(C)):{}}function Yc(C,P,Y,me){var Je=C.constructor;switch(P){case D:return vl(C);case c:case u:return new Je(+C);case M:return hr(C,me);case U:case I:case F:case Z:case O:case q:case H:case X:case V:return wl(C,me);case b:return xl(C,me,Y);case v:case A:return new Je(C);case E:return Ri(C);case N:return Gc(C,me,Y);case R:return fs(C)}}function Xc(C,P){return P=P??r,!!P&&(typeof C=="number"||ne.test(C))&&C>-1&&C%1==0&&C<P}function fa(C){var P=typeof C;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?C!=="__proto__":C===null}function El(C){return!!je&&je in C}function ha(C){var P=C&&C.constructor,Y=typeof P=="function"&&P.prototype||Wn;return C===Y}function wn(C){if(C!=null){try{return it.call(C)}catch{}try{return C+""}catch{}}return""}function Br(C){return bn(C,!0,!0)}function Sl(C,P){return C===P||C!==C&&P!==P}function ii(C){return Ys(C)&&pt.call(C,"callee")&&(!ks.call(C,"callee")||ft.call(C)==i)}var ma=Array.isArray;function gr(C){return C!=null&&Xs(C.length)&&!Pr(C)}function Ys(C){return ki(C)&&gr(C)}var ga=fn||ya;function Pr(C){var P=Is(C)?ft.call(C):"";return P==m||P==p}function Xs(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=r}function Is(C){var P=typeof C;return!!C&&(P=="object"||P=="function")}function ki(C){return!!C&&typeof C=="object"}function pa(C){return gr(C)?gn(C):ds(C)}function ba(){return[]}function ya(){return!1}n.exports=Br})(rd,rd.exports)),rd.exports}var id={exports:{}};id.exports;var pA;function QR(){return pA||(pA=1,(function(n,e){var t=200,s="__lodash_hash_undefined__",r=1,i=2,l=9007199254740991,c="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",m="[object Boolean]",p="[object Date]",b="[object Error]",v="[object Function]",x="[object GeneratorFunction]",S="[object Map]",E="[object Number]",N="[object Null]",A="[object Object]",R="[object Promise]",T="[object Proxy]",D="[object RegExp]",M="[object Set]",U="[object String]",I="[object Symbol]",F="[object Undefined]",Z="[object WeakMap]",O="[object ArrayBuffer]",q="[object DataView]",H="[object Float32Array]",X="[object Float64Array]",V="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",K="[object Uint8Array]",ne="[object Uint8ClampedArray]",L="[object Uint16Array]",G="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,se=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,he={};he[H]=he[X]=he[V]=he[j]=he[z]=he[K]=he[ne]=he[L]=he[G]=!0,he[c]=he[u]=he[O]=he[m]=he[q]=he[p]=he[b]=he[v]=he[S]=he[E]=he[A]=he[D]=he[M]=he[U]=he[Z]=!1;var _e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Ze=typeof self=="object"&&self&&self.Object===Object&&self,ge=_e||Ze||Function("return this")(),Te=e&&!e.nodeType&&e,ke=Te&&!0&&n&&!n.nodeType&&n,$e=ke&&ke.exports===Te,Ue=$e&&_e.process,Ke=(function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch{}})(),He=Ke&&Ke.isTypedArray;function Bt(C,P){for(var Y=-1,me=C==null?0:C.length,Je=0,Ve=[];++Y<me;){var Et=C[Y];P(Et,Y,C)&&(Ve[Je++]=Et)}return Ve}function Vn(C,P){for(var Y=-1,me=P.length,Je=C.length;++Y<me;)C[Je+Y]=P[Y];return C}function Pt(C,P){for(var Y=-1,me=C==null?0:C.length;++Y<me;)if(P(C[Y],Y,C))return!0;return!1}function Mn(C,P){for(var Y=-1,me=Array(C);++Y<C;)me[Y]=P(Y);return me}function Es(C){return function(P){return C(P)}}function Wn(C,P){return C.has(P)}function Ce(C,P){return C?.[P]}function je(C){var P=-1,Y=Array(C.size);return C.forEach(function(me,Je){Y[++P]=[Je,me]}),Y}function it(C,P){return function(Y){return C(P(Y))}}function pt(C){var P=-1,Y=Array(C.size);return C.forEach(function(me){Y[++P]=me}),Y}var ft=Array.prototype,ot=Function.prototype,nt=Object.prototype,un=ge["__core-js_shared__"],Jt=ot.toString,Ln=nt.hasOwnProperty,Gn=(function(){var C=/[^.]+$/.exec(un&&un.keys&&un.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""})(),ks=nt.toString,os=RegExp("^"+Jt.call(Ln).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=$e?ge.Buffer:void 0,fn=ge.Symbol,cs=ge.Uint8Array,Nn=nt.propertyIsEnumerable,Os=ft.splice,hn=fn?fn.toStringTag:void 0,us=Object.getOwnPropertySymbols,Ms=dn?dn.isBuffer:void 0,An=it(Object.keys,Object),dr=Ir(ge,"DataView"),ns=Ir(ge,"Map"),Rt=Ir(ge,"Promise"),Yn=Ir(ge,"Set"),Gs=Ir(ge,"WeakMap"),W=Ir(Object,"create"),te=wn(dr),le=wn(ns),xe=wn(Rt),Se=wn(Yn),Re=wn(Gs),Me=fn?fn.prototype:void 0,Le=Me?Me.valueOf:void 0;function De(C){var P=-1,Y=C==null?0:C.length;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function Fe(){this.__data__=W?W(null):{},this.size=0}function Ie(C){var P=this.has(C)&&delete this.__data__[C];return this.size-=P?1:0,P}function Oe(C){var P=this.__data__;if(W){var Y=P[C];return Y===s?void 0:Y}return Ln.call(P,C)?P[C]:void 0}function st(C){var P=this.__data__;return W?P[C]!==void 0:Ln.call(P,C)}function mt(C,P){var Y=this.__data__;return this.size+=this.has(C)?0:1,Y[C]=W&&P===void 0?s:P,this}De.prototype.clear=Fe,De.prototype.delete=Ie,De.prototype.get=Oe,De.prototype.has=st,De.prototype.set=mt;function at(C){var P=-1,Y=C==null?0:C.length;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function Ut(){this.__data__=[],this.size=0}function et(C){var P=this.__data__,Y=ji(P,C);if(Y<0)return!1;var me=P.length-1;return Y==me?P.pop():Os.call(P,Y,1),--this.size,!0}function Ae(C){var P=this.__data__,Y=ji(P,C);return Y<0?void 0:P[Y][1]}function Q(C){return ji(this.__data__,C)>-1}function Ee(C,P){var Y=this.__data__,me=ji(Y,C);return me<0?(++this.size,Y.push([C,P])):Y[me][1]=P,this}at.prototype.clear=Ut,at.prototype.delete=et,at.prototype.get=Ae,at.prototype.has=Q,at.prototype.set=Ee;function Ne(C){var P=-1,Y=C==null?0:C.length;for(this.clear();++P<Y;){var me=C[P];this.set(me[0],me[1])}}function ct(){this.size=0,this.__data__={hash:new De,map:new(ns||at),string:new De}}function Gt(C){var P=Xn(this,C).delete(C);return this.size-=P?1:0,P}function Ct(C){return Xn(this,C).get(C)}function Ft(C){return Xn(this,C).has(C)}function mn(C,P){var Y=Xn(this,C),me=Y.size;return Y.set(C,P),this.size+=Y.size==me?0:1,this}Ne.prototype.clear=ct,Ne.prototype.delete=Gt,Ne.prototype.get=Ct,Ne.prototype.has=Ft,Ne.prototype.set=mn;function gn(C){var P=-1,Y=C==null?0:C.length;for(this.__data__=new Ne;++P<Y;)this.add(C[P])}function Ye(C){return this.__data__.set(C,s),this}function rt(C){return this.__data__.has(C)}gn.prototype.add=gn.prototype.push=Ye,gn.prototype.has=rt;function pn(C){var P=this.__data__=new at(C);this.size=P.size}function bn(){this.__data__=new at,this.size=0}function Yt(C){var P=this.__data__,Y=P.delete(C);return this.size=P.size,Y}function fr(C){return this.__data__.get(C)}function ua(C){return this.__data__.has(C)}function da(C,P){var Y=this.__data__;if(Y instanceof at){var me=Y.__data__;if(!ns||me.length<t-1)return me.push([C,P]),this.size=++Y.size,this;Y=this.__data__=new Ne(me)}return Y.set(C,P),this.size=Y.size,this}pn.prototype.clear=bn,pn.prototype.delete=Yt,pn.prototype.get=fr,pn.prototype.has=ua,pn.prototype.set=da;function ds(C,P){var Y=ii(C),me=!Y&&Sl(C),Je=!Y&&!me&&gr(C),Ve=!Y&&!me&&!Je&&ki(C),Et=Y||me||Je||Ve,bt=Et?Mn(C.length,String):[],en=bt.length;for(var Nt in C)Ln.call(C,Nt)&&!(Et&&(Nt=="length"||Je&&(Nt=="offset"||Nt=="parent")||Ve&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||Yc(Nt,en)))&&bt.push(Nt);return bt}function ji(C,P){for(var Y=C.length;Y--;)if(Br(C[Y][0],P))return Y;return-1}function vl(C,P,Y){var me=P(C);return ii(C)?me:Vn(me,Y(C))}function hr(C){return C==null?C===void 0?F:N:hn&&hn in Object(C)?mr(C):ha(C)}function xl(C){return Is(C)&&hr(C)==c}function Ri(C,P,Y,me,Je){return C===P?!0:C==null||P==null||!Is(C)&&!Is(P)?C!==C&&P!==P:Gc(C,P,Y,me,Ri,Je)}function Gc(C,P,Y,me,Je,Ve){var Et=ii(C),bt=ii(P),en=Et?u:Ls(C),Nt=bt?u:Ls(P);en=en==c?A:en,Nt=Nt==c?A:Nt;var Un=en==A,hs=Nt==A,Cn=en==Nt;if(Cn&&gr(C)){if(!gr(P))return!1;Et=!0,Un=!1}if(Cn&&!Un)return Ve||(Ve=new pn),Et||ki(C)?Di(C,P,Y,me,Je,Ve):si(C,P,en,Y,me,Je,Ve);if(!(Y&r)){var Zn=Un&&Ln.call(C,"__wrapped__"),Tn=hs&&Ln.call(P,"__wrapped__");if(Zn||Tn){var ai=Zn?C.value():C,Ur=Tn?P.value():P;return Ve||(Ve=new pn),Je(ai,Ur,Y,me,Ve)}}return Cn?(Ve||(Ve=new pn),Co(C,P,Y,me,Je,Ve)):!1}function fs(C){if(!Xs(C)||fa(C))return!1;var P=ga(C)?os:se;return P.test(wn(C))}function wl(C){return Is(C)&&Pr(C.length)&&!!he[hr(C)]}function Ao(C){if(!El(C))return An(C);var P=[];for(var Y in Object(C))Ln.call(C,Y)&&Y!="constructor"&&P.push(Y);return P}function Di(C,P,Y,me,Je,Ve){var Et=Y&r,bt=C.length,en=P.length;if(bt!=en&&!(Et&&en>bt))return!1;var Nt=Ve.get(C);if(Nt&&Ve.get(P))return Nt==P;var Un=-1,hs=!0,Cn=Y&i?new gn:void 0;for(Ve.set(C,P),Ve.set(P,C);++Un<bt;){var Zn=C[Un],Tn=P[Un];if(me)var ai=Et?me(Tn,Zn,Un,P,C,Ve):me(Zn,Tn,Un,C,P,Ve);if(ai!==void 0){if(ai)continue;hs=!1;break}if(Cn){if(!Pt(P,function(Ur,Oi){if(!Wn(Cn,Oi)&&(Zn===Ur||Je(Zn,Ur,Y,me,Ve)))return Cn.push(Oi)})){hs=!1;break}}else if(!(Zn===Tn||Je(Zn,Tn,Y,me,Ve))){hs=!1;break}}return Ve.delete(C),Ve.delete(P),hs}function si(C,P,Y,me,Je,Ve,Et){switch(Y){case q:if(C.byteLength!=P.byteLength||C.byteOffset!=P.byteOffset)return!1;C=C.buffer,P=P.buffer;case O:return!(C.byteLength!=P.byteLength||!Ve(new cs(C),new cs(P)));case m:case p:case E:return Br(+C,+P);case b:return C.name==P.name&&C.message==P.message;case D:case U:return C==P+"";case S:var bt=je;case M:var en=me&r;if(bt||(bt=pt),C.size!=P.size&&!en)return!1;var Nt=Et.get(C);if(Nt)return Nt==P;me|=i,Et.set(C,P);var Un=Di(bt(C),bt(P),me,Je,Ve,Et);return Et.delete(C),Un;case I:if(Le)return Le.call(C)==Le.call(P)}return!1}function Co(C,P,Y,me,Je,Ve){var Et=Y&r,bt=ri(C),en=bt.length,Nt=ri(P),Un=Nt.length;if(en!=Un&&!Et)return!1;for(var hs=en;hs--;){var Cn=bt[hs];if(!(Et?Cn in P:Ln.call(P,Cn)))return!1}var Zn=Ve.get(C);if(Zn&&Ve.get(P))return Zn==P;var Tn=!0;Ve.set(C,P),Ve.set(P,C);for(var ai=Et;++hs<en;){Cn=bt[hs];var Ur=C[Cn],Oi=P[Cn];if(me)var af=Et?me(Oi,Ur,Cn,P,C,Ve):me(Ur,Oi,Cn,C,P,Ve);if(!(af===void 0?Ur===Oi||Je(Ur,Oi,Y,me,Ve):af)){Tn=!1;break}ai||(ai=Cn=="constructor")}if(Tn&&!ai){var jo=C.constructor,_l=P.constructor;jo!=_l&&"constructor"in C&&"constructor"in P&&!(typeof jo=="function"&&jo instanceof jo&&typeof _l=="function"&&_l instanceof _l)&&(Tn=!1)}return Ve.delete(C),Ve.delete(P),Tn}function ri(C){return vl(C,pa,To)}function Xn(C,P){var Y=C.__data__;return Xc(P)?Y[typeof P=="string"?"string":"hash"]:Y.map}function Ir(C,P){var Y=Ce(C,P);return fs(Y)?Y:void 0}function mr(C){var P=Ln.call(C,hn),Y=C[hn];try{C[hn]=void 0;var me=!0}catch{}var Je=ks.call(C);return me&&(P?C[hn]=Y:delete C[hn]),Je}var To=us?function(C){return C==null?[]:(C=Object(C),Bt(us(C),function(P){return Nn.call(C,P)}))}:ba,Ls=hr;(dr&&Ls(new dr(new ArrayBuffer(1)))!=q||ns&&Ls(new ns)!=S||Rt&&Ls(Rt.resolve())!=R||Yn&&Ls(new Yn)!=M||Gs&&Ls(new Gs)!=Z)&&(Ls=function(C){var P=hr(C),Y=P==A?C.constructor:void 0,me=Y?wn(Y):"";if(me)switch(me){case te:return q;case le:return S;case xe:return R;case Se:return M;case Re:return Z}return P});function Yc(C,P){return P=P??l,!!P&&(typeof C=="number"||pe.test(C))&&C>-1&&C%1==0&&C<P}function Xc(C){var P=typeof C;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?C!=="__proto__":C===null}function fa(C){return!!Gn&&Gn in C}function El(C){var P=C&&C.constructor,Y=typeof P=="function"&&P.prototype||nt;return C===Y}function ha(C){return ks.call(C)}function wn(C){if(C!=null){try{return Jt.call(C)}catch{}try{return C+""}catch{}}return""}function Br(C,P){return C===P||C!==C&&P!==P}var Sl=xl((function(){return arguments})())?xl:function(C){return Is(C)&&Ln.call(C,"callee")&&!Nn.call(C,"callee")},ii=Array.isArray;function ma(C){return C!=null&&Pr(C.length)&&!ga(C)}var gr=Ms||ya;function Ys(C,P){return Ri(C,P)}function ga(C){if(!Xs(C))return!1;var P=hr(C);return P==v||P==x||P==h||P==T}function Pr(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=l}function Xs(C){var P=typeof C;return C!=null&&(P=="object"||P=="function")}function Is(C){return C!=null&&typeof C=="object"}var ki=He?Es(He):wl;function pa(C){return ma(C)?ds(C):Ao(C)}function ba(){return[]}function ya(){return!1}n.exports=Ys})(id,id.exports)),id.exports}var _h={},bA;function F7(){if(bA)return _h;bA=1,Object.defineProperty(_h,"__esModule",{value:!0});const n=ZR(),e=QR();var t;return(function(s){function r(u={},h={},m=!1){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});let p=n(h);m||(p=Object.keys(p).reduce((b,v)=>(p[v]!=null&&(b[v]=p[v]),b),{}));for(const b in u)u[b]!==void 0&&h[b]===void 0&&(p[b]=u[b]);return Object.keys(p).length>0?p:void 0}s.compose=r;function i(u={},h={}){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});const m=Object.keys(u).concat(Object.keys(h)).reduce((p,b)=>(e(u[b],h[b])||(p[b]=h[b]===void 0?null:h[b]),p),{});return Object.keys(m).length>0?m:void 0}s.diff=i;function l(u={},h={}){u=u||{};const m=Object.keys(h).reduce((p,b)=>(h[b]!==u[b]&&u[b]!==void 0&&(p[b]=h[b]),p),{});return Object.keys(u).reduce((p,b)=>(u[b]!==h[b]&&h[b]===void 0&&(p[b]=null),p),m)}s.invert=l;function c(u,h,m=!1){if(typeof u!="object")return h;if(typeof h!="object")return;if(!m)return h;const p=Object.keys(h).reduce((b,v)=>(u[v]===void 0&&(b[v]=h[v]),b),{});return Object.keys(p).length>0?p:void 0}s.transform=c})(t||(t={})),_h.default=t,_h}var Nh={},yA;function KR(){if(yA)return Nh;yA=1,Object.defineProperty(Nh,"__esModule",{value:!0});var n;return(function(e){function t(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=t})(n||(n={})),Nh.default=n,Nh}var Ah={},vA;function $7(){if(vA)return Ah;vA=1,Object.defineProperty(Ah,"__esModule",{value:!0});const n=KR();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const r=this.ops[this.index];if(r){const i=this.offset,l=n.default.length(r);if(s>=l-i?(s=l-i,this.index+=1,this.offset=0):this.offset+=s,typeof r.delete=="number")return{delete:s};{const c={};return r.attributes&&(c.attributes=r.attributes),typeof r.retain=="number"?c.retain=s:typeof r.retain=="object"&&r.retain!==null?c.retain=r.retain:typeof r.insert=="string"?c.insert=r.insert.substr(i,s):c.insert=r.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,r=this.index,i=this.next(),l=this.ops.slice(this.index);return this.offset=s,this.index=r,[i].concat(l)}}else return[]}}return Ah.default=e,Ah}var xA;function V7(){return xA||(xA=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=q7(),s=ZR(),r=QR(),i=F7();e.AttributeMap=i.default;const l=KR();e.Op=l.default;const c=$7();e.OpIterator=c.default;const u="\0",h=(p,b)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const v=Object.keys(p)[0];if(!v||v!==Object.keys(b)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(b)[0]}`);return[v,p[v],b[v]]};class m{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,v){this.handlers[b]=v}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const v=this.handlers[b];if(!v)throw new Error(`no handlers for embed type "${b}"`);return v}insert(b,v){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(x.attributes=v),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,v){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(x.attributes=v),this.push(x)}push(b){let v=this.ops.length,x=this.ops[v-1];if(b=s(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[v-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(v-=1,x=this.ops[v-1],typeof x!="object"))return this.ops.unshift(b),this;if(r(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[v-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[v-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this}}return v===this.ops.length?this.ops.push(b):this.ops.splice(v,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const v=[],x=[];return this.forEach(S=>{(b(S)?v:x).push(S)}),[v,x]}reduce(b,v){return this.ops.reduce(b,v)}changeLength(){return this.reduce((b,v)=>v.insert?b+l.default.length(v):v.delete?b-v.delete:b,0)}length(){return this.reduce((b,v)=>b+l.default.length(v),0)}slice(b=0,v=1/0){const x=[],S=new c.default(this.ops);let E=0;for(;E<v&&S.hasNext();){let N;E<b?N=S.next(b-E):(N=S.next(v-E),x.push(N)),E+=l.default.length(N)}return new m(x)}compose(b){const v=new c.default(this.ops),x=new c.default(b.ops),S=[],E=x.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){let A=E.retain;for(;v.peekType()==="insert"&&v.peekLength()<=A;)A-=v.peekLength(),S.push(v.next());E.retain-A>0&&x.next(E.retain-A)}const N=new m(S);for(;v.hasNext()||x.hasNext();)if(x.peekType()==="insert")N.push(x.next());else if(v.peekType()==="delete")N.push(v.next());else{const A=Math.min(v.peekLength(),x.peekLength()),R=v.next(A),T=x.next(A);if(T.retain){const D={};if(typeof R.retain=="number")D.retain=typeof T.retain=="number"?A:T.retain;else if(typeof T.retain=="number")R.retain==null?D.insert=R.insert:D.retain=R.retain;else{const U=R.retain==null?"insert":"retain",[I,F,Z]=h(R[U],T.retain),O=m.getHandler(I);D[U]={[I]:O.compose(F,Z,U==="retain")}}const M=i.default.compose(R.attributes,T.attributes,typeof R.retain=="number");if(M&&(D.attributes=M),N.push(D),!x.hasNext()&&r(N.ops[N.ops.length-1],D)){const U=new m(v.rest());return N.concat(U).chop()}}else typeof T.delete=="number"&&(typeof R.retain=="number"||typeof R.retain=="object"&&R.retain!==null)&&N.push(T)}return N.chop()}concat(b){const v=new m(this.ops.slice());return b.ops.length>0&&(v.push(b.ops[0]),v.ops=v.ops.concat(b.ops.slice(1))),v}diff(b,v){if(this.ops===b.ops)return new m;const x=[this,b].map(R=>R.map(T=>{if(T.insert!=null)return typeof T.insert=="string"?T.insert:u;const D=R===b?"on":"with";throw new Error("diff() called "+D+" non-document")}).join("")),S=new m,E=t(x[0],x[1],v,!0),N=new c.default(this.ops),A=new c.default(b.ops);return E.forEach(R=>{let T=R[1].length;for(;T>0;){let D=0;switch(R[0]){case t.INSERT:D=Math.min(A.peekLength(),T),S.push(A.next(D));break;case t.DELETE:D=Math.min(T,N.peekLength()),N.next(D),S.delete(D);break;case t.EQUAL:D=Math.min(N.peekLength(),A.peekLength(),T);const M=N.next(D),U=A.next(D);r(M.insert,U.insert)?S.retain(D,i.default.diff(M.attributes,U.attributes)):S.push(U).delete(D);break}T-=D}}),S.chop()}eachLine(b,v=`
`){const x=new c.default(this.ops);let S=new m,E=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const N=x.peek(),A=l.default.length(N)-x.peekLength(),R=typeof N.insert=="string"?N.insert.indexOf(v,A)-A:-1;if(R<0)S.push(x.next());else if(R>0)S.push(x.next(R));else{if(b(S,x.next(1).attributes||{},E)===!1)return;E+=1,S=new m}}S.length()>0&&b(S,{},E)}invert(b){const v=new m;return this.reduce((x,S)=>{if(S.insert)v.delete(l.default.length(S));else{if(typeof S.retain=="number"&&S.attributes==null)return v.retain(S.retain),x+S.retain;if(S.delete||typeof S.retain=="number"){const E=S.delete||S.retain;return b.slice(x,x+E).forEach(A=>{S.delete?v.push(A):S.retain&&S.attributes&&v.retain(l.default.length(A),i.default.invert(S.attributes,A.attributes))}),x+E}else if(typeof S.retain=="object"&&S.retain!==null){const E=b.slice(x,x+1),N=new c.default(E.ops).next(),[A,R,T]=h(S.retain,N.insert),D=m.getHandler(A);return v.retain({[A]:D.invert(R,T)},i.default.invert(S.attributes,N.attributes)),x+1}}return x},0),v.chop()}transform(b,v=!1){if(v=!!v,typeof b=="number")return this.transformPosition(b,v);const x=b,S=new c.default(this.ops),E=new c.default(x.ops),N=new m;for(;S.hasNext()||E.hasNext();)if(S.peekType()==="insert"&&(v||E.peekType()!=="insert"))N.retain(l.default.length(S.next()));else if(E.peekType()==="insert")N.push(E.next());else{const A=Math.min(S.peekLength(),E.peekLength()),R=S.next(A),T=E.next(A);if(R.delete)continue;if(T.delete)N.push(T);else{const D=R.retain,M=T.retain;let U=typeof M=="object"&&M!==null?M:A;if(typeof D=="object"&&D!==null&&typeof M=="object"&&M!==null){const I=Object.keys(D)[0];if(I===Object.keys(M)[0]){const F=m.getHandler(I);F&&(U={[I]:F.transform(D[I],M[I],v)})}}N.retain(U,i.default.transform(R.attributes,T.attributes,v))}}return N.chop()}transformPosition(b,v=!1){v=!!v;const x=new c.default(this.ops);let S=0;for(;x.hasNext()&&S<=b;){const E=x.peekLength(),N=x.peekType();if(x.next(),N==="delete"){b-=Math.min(E,b-S);continue}else N==="insert"&&(S<b||!v)&&(b+=E);S+=E}return b}}m.Op=l.default,m.OpIterator=c.default,m.AttributeMap=i.default,m.handlers={},e.default=m,n.exports=m,n.exports.default=m})(Sh,Sh.exports)),Sh.exports}var jr=V7();const ze=Qm(jr);class ni extends ur{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ni.blotName="break";ni.tagName="BR";let Kr=class extends Nm{};const W7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gg(n){return n.replace(/[&<>"']/g,e=>W7[e])}class As extends rx{static allowedChildren=[As,ni,ur,Kr];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const s=As.order.indexOf(e),r=As.order.indexOf(t);return s>=0||r>=0?s-r:e===t?0:e<t?-1:1}formatAt(e,t,s,r){if(As.compare(this.statics.blotName,s)<0&&this.scroll.query(s,qe.BLOT)){const i=this.isolate(e,t);r&&i.wrap(s,r)}else super.formatAt(e,t,s,r)}optimize(e){if(super.optimize(e),this.parent instanceof As&&As.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const wA=1;class ls extends Cd{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=JR(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,s,r){t<=0||(this.scroll.query(s,qe.BLOCK)?e+t===this.length()&&this.format(s,r):super.formatAt(e,Math.min(t,this.length()-e-1),s,r),this.cache={})}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s),this.cache={};return}if(t.length===0)return;const r=t.split(`
`),i=r.shift();i.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let l=this;r.reduce((c,u)=>(l=l.split(c,!0),l.insertAt(0,u),u.length),e+i.length)}insertBefore(e,t){const{head:s}=this.children;super.insertBefore(e,t),s instanceof ni&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+wA),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-wA)){const r=this.clone();return e===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const s=super.split(e,t);return this.cache={},s}}ls.blotName="block";ls.tagName="P";ls.defaultChild=ni;ls.allowedChildren=[ni,As,ur,Kr];class Tr extends ur{attach(){super.attach(),this.attributes=new hg(this.domNode)}delta(){return new ze().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const s=this.scroll.query(e,qe.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,t)}formatAt(e,t,s,r){this.format(s,r)}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s);return}const r=t.split(`
`),i=r.pop(),l=r.map(u=>{const h=this.scroll.create(ls.blotName);return h.insertAt(0,u),h}),c=this.split(e);l.forEach(u=>{this.parent.insertBefore(u,c)}),i&&this.parent.insertBefore(this.scroll.create("text",i),c)}}Tr.scope=qe.BLOCK_BLOT;function JR(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ys).reduce((t,s)=>s.length()===0?t:t.insert(s.value(),Ar(s,{},e)),new ze).insert(`
`,Ar(n))}function Ar(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Ar(n.parent,e,t)}class Gr extends ur{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,s){super(e,t),this.selection=s,this.textNode=document.createTextNode(Gr.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let s=this,r=0;for(;s!=null&&s.statics.scope!==qe.BLOCK_BLOT;)r+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Gr.CONTENTS.length,s.optimize(),s.formatAt(r,Gr.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Kr?this.prev:null,s=t?t.length():0,r=this.next instanceof Kr?this.next:null,i=r?r.text:"",{textNode:l}=this,c=l.data.split(Gr.CONTENTS).join("");l.data=Gr.CONTENTS;let u;if(t)u=t,(c||r)&&(t.insertAt(t.length(),c+i),r&&r.remove());else if(r)u=r,r.insertAt(0,c);else{const h=document.createTextNode(c);u=this.scroll.create(h),this.parent.insertBefore(u,this)}if(this.remove(),e){const h=(b,v)=>t&&b===t.domNode?v:b===l?s+v-1:r&&b===r.domNode?s+c.length+v:null,m=h(e.start.node,e.start.offset),p=h(e.end.node,e.end.offset);if(m!==null&&p!==null)return{startNode:u.domNode,startOffset:m,endNode:u.domNode,endOffset:p}}return null}update(e,t){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(t.range=s)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Gr.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Z0={exports:{}},EA;function G7(){return EA||(EA=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function r(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function i(u,h,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new r(m,p||u,b),x=t?t+h:h;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new s:delete u._events[h]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=t?t+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,v=p.length,x=new Array(v);b<v;b++)x[b]=p[b].fn;return x},c.prototype.listenerCount=function(h){var m=t?t+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,b,v,x){var S=t?t+h:h;if(!this._events[S])return!1;var E=this._events[S],N=arguments.length,A,R;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),N){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,p),!0;case 4:return E.fn.call(E.context,m,p,b),!0;case 5:return E.fn.call(E.context,m,p,b,v),!0;case 6:return E.fn.call(E.context,m,p,b,v,x),!0}for(R=1,A=new Array(N-1);R<N;R++)A[R-1]=arguments[R];E.fn.apply(E.context,A)}else{var T=E.length,D;for(R=0;R<T;R++)switch(E[R].once&&this.removeListener(h,E[R].fn,void 0,!0),N){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,m);break;case 3:E[R].fn.call(E[R].context,m,p);break;case 4:E[R].fn.call(E[R].context,m,p,b);break;default:if(!A)for(D=1,A=new Array(N-1);D<N;D++)A[D-1]=arguments[D];E[R].fn.apply(E[R].context,A)}}return!0},c.prototype.on=function(h,m,p){return i(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return i(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,b){var v=t?t+h:h;if(!this._events[v])return this;if(!m)return l(this,v),this;var x=this._events[v];if(x.fn)x.fn===m&&(!b||x.once)&&(!p||x.context===p)&&l(this,v);else{for(var S=0,E=[],N=x.length;S<N;S++)(x[S].fn!==m||b&&!x[S].once||p&&x[S].context!==p)&&E.push(x[S]);E.length?this._events[v]=E.length===1?E[0]:E:l(this,v)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&l(this,m)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(Z0)),Z0.exports}var Y7=G7();const X7=Qm(Y7),ov=new WeakMap,cv=["error","warn","log","info"];let uv="warn";function eD(n){if(uv&&cv.indexOf(n)<=cv.indexOf(uv)){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];console[n](...t)}}function oa(n){return cv.reduce((e,t)=>(e[t]=eD.bind(console,t,n),e),{})}oa.level=n=>{uv=n};eD.level=oa.level;const Q0=oa("quill:events"),Z7=["selectionchange","mousedown","mouseup","click"];Z7.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const i=ov.get(r);i&&i.emitter&&i.emitter.handleDOM(...t)})})});let Pe=class extends X7{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Q0.error)}emit(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Q0.log.call(Q0,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach(i=>{let{node:l,handler:c}=i;(e.target===l||l.contains(e.target))&&c(e,...s)})}listenDOM(e,t,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:s})}};const K0=oa("quill:selection");class io{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class Q7{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new io(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Pe.sources.USER),1)}),this.emitter.on(Pe.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(Pe.events.SCROLL_UPDATE,(r,i)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const l=i.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(l?Pe.sources.SILENT:r)}catch{}})}),this.emitter.on(Pe.events.SCROLL_OPTIMIZE,(s,r)=>{if(r.range){const{startNode:i,startOffset:l,endNode:c,endOffset:u}=r.range;this.setNativeRange(i,l,c,u),this.update(Pe.sources.SILENT)}}),this.update(Pe.sources.SILENT)}handleComposition(){this.emitter.on(Pe.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Pe.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Pe.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,qe.BLOCK))){if(s.start.node!==this.cursor.textNode){const r=this.scroll.find(s.start.node,!1);if(r==null)return;if(r instanceof ys){const i=r.split(s.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),t=Math.min(e+t,s-1)-e;let r,[i,l]=this.scroll.leaf(e);if(i==null)return null;if(t>0&&l===i.length()){const[m]=this.scroll.leaf(e+1);if(m){const[p]=this.scroll.line(e),[b]=this.scroll.line(e+1);p===b&&(i=m,l=0)}}[r,l]=i.position(l,!0);const c=document.createRange();if(t>0)return c.setStart(r,l),[i,l]=this.scroll.leaf(e+t),i==null?null:([r,l]=i.position(l,!0),c.setEnd(r,l),c.getBoundingClientRect());let u="left",h;if(r instanceof Text){if(!r.data.length)return null;l<r.data.length?(c.setStart(r,l),c.setEnd(r,l+1)):(c.setStart(r,l-1),c.setEnd(r,l),u="right"),h=c.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;h=i.domNode.getBoundingClientRect(),l>0&&(u="right")}return{bottom:h.top+h.height,height:h.height,left:h[u],right:h[u],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const s=this.normalizeNative(t);return K0.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&J0(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const s=t.map(l=>{const[c,u]=l,h=this.scroll.find(c,!0),m=h.offset(this.scroll);return u===0?m:h instanceof ys?m+h.index(c,u):m+h.length()}),r=Math.min(Math.max(...s),this.scroll.length()-1),i=Math.min(r,...s);return new io(i,r-i)}normalizeNative(e){if(!J0(this.root,e.startContainer)||!e.collapsed&&!J0(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(s=>{let{node:r,offset:i}=s;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>i)r=r.childNodes[i],i=0;else if(r.childNodes.length===i)r=r.lastChild,r instanceof Text?i=r.data.length:r.childNodes.length>0?i=r.childNodes.length:i=r.childNodes.length+1;else break;s.node=r,s.offset=i}),t}rangeToNative(e){const t=this.scroll.length(),s=(r,i)=>{r=Math.min(t-1,r);const[l,c]=this.scroll.leaf(r);return l?l.position(c,i):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(K0.info("setNativeRange",e,t,s,r),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||i||e!==c.startContainer||t!==c.startOffset||s!==c.endContainer||r!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(r=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const u=document.createRange();u.setStart(e,t),u.setEnd(s,r),l.removeAllRanges(),l.addRange(u)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe.sources.API;if(typeof t=="string"&&(s=t,t=!1),K0.info("setRange",e),e!=null){const r=this.rangeToNative(e);this.setNativeRange(...r,t)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pe.sources.USER;const t=this.lastRange,[s,r]=this.getRange();if(this.lastRange=s,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ga(t,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const i=[Pe.events.SELECTION_CHANGE,bc(this.lastRange),bc(t),e];this.emitter.emit(Pe.events.EDITOR_CHANGE,...i),e!==Pe.sources.SILENT&&this.emitter.emit(...i)}}}function J0(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const K7=/^[ -~]*$/;class J7{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const s=SA(e),r=new ze;return tH(s.ops.slice()).reduce((l,c)=>{const u=jr.Op.length(c);let h=c.attributes||{},m=!1,p=!1;if(c.insert!=null){if(r.retain(u),typeof c.insert=="string"){const x=c.insert;p=!x.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(Tr,l)[0]),this.scroll.insertAt(l,x);const[S,E]=this.scroll.line(l);let N=tl({},Ar(S));if(S instanceof ls){const[A]=S.descendant(ys,E);A&&(N=tl(N,Ar(A)))}h=jr.AttributeMap.diff(N,h)||{}}else if(typeof c.insert=="object"){const x=Object.keys(c.insert)[0];if(x==null)return l;const S=this.scroll.query(x,qe.INLINE)!=null;if(S)(t<=l||this.scroll.descendant(Tr,l)[0])&&(p=!0);else if(l>0){const[E,N]=this.scroll.descendant(ys,l-1);E instanceof Kr?E.value()[N]!==`
`&&(m=!0):E instanceof ur&&E.statics.scope===qe.INLINE_BLOT&&(m=!0)}if(this.scroll.insertAt(l,x,c.insert[x]),S){const[E]=this.scroll.descendant(ys,l);if(E){const N=tl({},Ar(E));h=jr.AttributeMap.diff(N,h)||{}}}}t+=u}else if(r.push(c),c.retain!==null&&typeof c.retain=="object"){const x=Object.keys(c.retain)[0];if(x==null)return l;this.scroll.updateEmbedAt(l,x,c.retain[x])}Object.keys(h).forEach(x=>{this.scroll.formatAt(l,u,x,h[x])});const b=m?1:0,v=p?1:0;return t+=b+v,r.retain(b),r.delete(v),l+u+b+v},0),r.reduce((l,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(l,c.delete),l):l+jr.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new ze().retain(e).delete(t))}formatLine(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(i=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(i,s[i])})}),this.scroll.optimize();const r=new ze().retain(e).retain(t,bc(s));return this.update(r)}formatText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(i=>{this.scroll.formatAt(e,t,i,s[i])});const r=new ze().retain(e).retain(t,bc(s));return this.update(r)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new ze)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],r=[];t===0?this.scroll.path(e).forEach(c=>{const[u]=c;u instanceof ls?s.push(u):u instanceof ys&&r.push(u)}):(s=this.scroll.lines(e,t),r=this.scroll.descendants(ys,e,t));const[i,l]=[s,r].map(c=>{const u=c.shift();if(u==null)return{};let h=Ar(u);for(;Object.keys(h).length>0;){const m=c.shift();if(m==null)return h;h=eH(Ar(m),h)}return h});return{...i,...l}}getHTML(e,t){const[s,r]=this.scroll.line(e);if(s){const i=s.length();return s.length()>=r+t&&!(r===0&&t===i)?Td(s,r,t,!0):Td(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,t){const s=SA(t),r=new ze().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(r)}insertEmbed(e,t,s){return this.scroll.insertAt(e,t,s),this.update(new ze().retain(e).insert({[t]:s}))}insertText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(s).forEach(r=>{this.scroll.formatAt(e,t.length,r,s[r])}),this.update(new ze().retain(e).insert(t,bc(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==ls.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ni}removeFormat(e,t){const s=this.getText(e,t),[r,i]=this.scroll.line(e+t);let l=0,c=new ze;r!=null&&(l=r.length()-i,c=r.delta().slice(i,i+l-1).insert(`
`));const h=this.getContents(e,t+l).diff(new ze().insert(s).concat(c)),m=new ze().retain(e).concat(h);return this.applyDelta(m)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(K7)&&this.scroll.find(t[0].target)){const i=this.scroll.find(t[0].target),l=Ar(i),c=i.offset(this.scroll),u=t[0].oldValue.replace(Gr.CONTENTS,""),h=new ze().insert(u),m=new ze().insert(i.value()),p=s&&{oldRange:_A(s.oldRange,-c),newRange:_A(s.newRange,-c)};e=new ze().retain(c).concat(h.diff(m,p)).reduce((v,x)=>x.insert?v.insert(x.insert,l):v.push(x),new ze),this.delta=r.compose(e)}else this.delta=this.getDelta(),(!e||!Ga(r.compose(e),this.delta))&&(e=r.diff(this.delta,s));return e}}function hc(n,e,t){if(n.length===0){const[v]=ey(t.pop());return e<=0?`</li></${v}>`:`</li></${v}>${hc([],e-1,t)}`}const[{child:s,offset:r,length:i,indent:l,type:c},...u]=n,[h,m]=ey(c);if(l>e)return t.push(c),l===e+1?`<${h}><li${m}>${Td(s,r,i)}${hc(u,l,t)}`:`<${h}><li>${hc(n,e+1,t)}`;const p=t[t.length-1];if(l===e&&c===p)return`</li><li${m}>${Td(s,r,i)}${hc(u,l,t)}`;const[b]=ey(t.pop());return`</li></${b}>${hc(n,e-1,t)}`}function Td(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Kr)return gg(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Zr){if(n.statics.blotName==="list-container"){const h=[];return n.children.forEachAt(e,t,(m,p,b)=>{const v="formats"in m&&typeof m.formats=="function"?m.formats():{};h.push({child:m,offset:p,length:b,indent:v.indent||0,type:v.list})}),hc(h,-1,[])}const r=[];if(n.children.forEachAt(e,t,(h,m,p)=>{r.push(Td(h,m,p))}),s||n.statics.blotName==="list")return r.join("");const{outerHTML:i,innerHTML:l}=n.domNode,[c,u]=i.split(`>${l}<`);return c==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${u}`:`${c}>${r.join("")}<${u}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function eH(n,e){return Object.keys(e).reduce((t,s)=>{if(n[s]==null)return t;const r=e[s];return r===n[s]?t[s]=r:Array.isArray(r)?r.indexOf(n[s])<0?t[s]=r.concat([n[s]]):t[s]=r:t[s]=[r,n[s]],t},{})}function ey(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function SA(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const s=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,t.attributes)}return e.push(t)},new ze)}function _A(n,e){let{index:t,length:s}=n;return new io(t+e,s)}function tH(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((r,i)=>{i&&e.push({insert:`
`,attributes:t.attributes}),r&&e.push({insert:r,attributes:t.attributes})}):e.push(t)}),e}class Ti{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Ch="\uFEFF";class ax extends ur{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(Ch),this.rightGuard=document.createTextNode(Ch),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,s;const r=e.data.split(Ch).join("");if(e===this.leftGuard)if(this.prev instanceof Kr){const i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this),t={startNode:s,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof Kr?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this.next),t={startNode:s,startOffset:r.length}));return e.data=Ch,t}update(e,t){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const r=this.restore(s.target);r&&(t.range=r)}})}}class nH{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof ax)&&(this.emitter.emit(Pe.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Pe.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Pe.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Pe.events.COMPOSITION_END,e),this.isComposing=!1}}let pg=class tD{static DEFAULTS={modules:{}};static themes={default:tD};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};const sH=n=>n.parentElement||n.getRootNode().host||null,rH=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*s,left:e.left}},Th=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},NA=(n,e,t,s,r,i)=>n<t&&e>s?0:n<t?-(t-n+r):e>s?e-n>s-t?n+r-t:e-s+i:0,iH=(n,e)=>{const t=n.ownerDocument;let s=e,r=n;for(;r;){const i=r===t.body,l=i?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:rH(r),c=getComputedStyle(r),u=NA(s.left,s.right,l.left,l.right,Th(c.scrollPaddingLeft),Th(c.scrollPaddingRight)),h=NA(s.top,s.bottom,l.top,l.bottom,Th(c.scrollPaddingTop),Th(c.scrollPaddingBottom));if(u||h)if(i)t.defaultView?.scrollBy(u,h);else{const{scrollLeft:m,scrollTop:p}=r;h&&(r.scrollTop+=h),u&&(r.scrollLeft+=u);const b=r.scrollLeft-m,v=r.scrollTop-p;s={left:s.left-b,top:s.top-v,right:s.right-b,bottom:s.bottom-v}}r=i||c.position==="fixed"?null:sH(r)}},aH=100,lH=["block","break","cursor","inline","scroll","text"],oH=(n,e,t)=>{const s=new Tc;return lH.forEach(r=>{const i=e.query(r);i&&s.register(i)}),n.forEach(r=>{let i=e.query(r);i||t.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;i;)if(s.register(i),i="blotName"in i?i.requiredContainer??null:null,l+=1,l>aH){t.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),s},vc=oa("quill"),jh=new Tc;Zr.uiClass="ql-ui";class ye{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:jh,theme:"default"};static events=Pe.events;static sources=Pe.sources;static version="2.0.3";static imports={delta:ze,parchment:z7,"core/module":Ti,"core/theme":pg};static debug(e){e===!0&&(e="log"),oa.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ov.get(e)||jh.find(e,t)}static import(e){return this.imports[e]==null&&vc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,t):Object.keys(e).forEach(r=>{this.register(r,e[r],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&vc.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&jh.register(t),typeof t.register=="function"&&t.register(jh)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=cH(e,t),this.container=this.options.container,this.container==null){vc.error("Invalid Quill container",e);return}this.options.debug&&ye.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ov.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Pe;const r=ix.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new J7(this.scroll),this.selection=new Q7(this.scroll,this.emitter),this.composition=new nH(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Pe.events.EDITOR_CHANGE,l=>{l===Pe.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Pe.events.SCROLL_UPDATE,(l,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),m=u&&h?{oldRange:u,newRange:h}:void 0;Fr.call(this,()=>this.editor.update(null,c,m),l)}),this.emitter.on(Pe.events.SCROLL_EMBED_UPDATE,(l,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),m=u&&h?{oldRange:u,newRange:h}:void 0;Fr.call(this,()=>{const p=new ze().retain(l.offset(this)).retain({[l.statics.blotName]:c});return this.editor.update(p,[],m)},ye.sources.USER)}),s){const l=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,s){return[e,t,,s]=Gi(e,t,s),Fr.call(this,()=>this.editor.deleteText(e,t),s,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe.sources.API;return Fr.call(this,()=>{const r=this.getSelection(!0);let i=new ze;if(r==null)return i;if(this.scroll.query(e,qe.BLOCK))i=this.editor.formatLine(r.index,r.length,{[e]:t});else{if(r.length===0)return this.selection.format(e,t),i;i=this.editor.formatText(r.index,r.length,{[e]:t})}return this.setSelection(r,Pe.sources.SILENT),i},s)}formatLine(e,t,s,r,i){let l;return[e,t,l,i]=Gi(e,t,s,r,i),Fr.call(this,()=>this.editor.formatLine(e,t,l),i,e,0)}formatText(e,t,s,r,i){let l;return[e,t,l,i]=Gi(e,t,s,r,i),Fr.call(this,()=>this.editor.formatText(e,t,l),i,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,t):s=this.selection.getBounds(e.index,e.length),!s)return null;const r=this.container.getBoundingClientRect();return{bottom:s.bottom-r.top,height:s.height,left:s.left-r.left,right:s.right-r.left,top:s.top-r.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Gi(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Gi(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Gi(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ye.sources.API;return Fr.call(this,()=>this.editor.insertEmbed(e,t,s),r,e)}insertText(e,t,s,r,i){let l;return[e,,l,i]=Gi(e,0,s,r,i),Fr.call(this,()=>this.editor.insertText(e,t,l),i,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,s){return[e,t,,s]=Gi(e,t,s),Fr.call(this,()=>this.editor.removeFormat(e,t),s,e)}scrollRectIntoView(e){iH(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pe.sources.API;return Fr.call(this,()=>{e=new ze(e);const s=this.getLength(),r=this.editor.deleteText(0,s),i=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return r.compose(i).compose(l)},t)}setSelection(e,t,s){e==null?this.selection.setRange(null,t||ye.sources.API):([e,t,,s]=Gi(e,t,s),this.selection.setRange(new io(Math.max(0,e),t),s),s!==Pe.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pe.sources.API;const s=new ze().insert(e);return this.setContents(s,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pe.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pe.sources.API;return Fr.call(this,()=>(e=new ze(e),this.editor.applyDelta(e)),t,!0)}}function AA(n){return typeof n=="string"?document.querySelector(n):n}function ty(n){return Object.entries(n??{}).reduce((e,t)=>{let[s,r]=t;return{...e,[s]:r===!0?{}:r}},{})}function CA(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function cH(n,e){const t=AA(n);if(!t)throw new Error("Invalid Quill container");const r=!e.theme||e.theme===ye.DEFAULTS.theme?pg:ye.import(`themes/${e.theme}`);if(!r)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...l}=ye.DEFAULTS,{modules:c,...u}=r.DEFAULTS;let h=ty(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const m=tl({},ty(i),ty(c),h),p={...l,...CA(u),...CA(e)};let b=e.registry;return b?e.formats&&vc.warn('Ignoring "formats" option because "registry" is specified'):b=e.formats?oH(e.formats,p.registry,vc):p.registry,{...p,registry:b,container:t,theme:r,modules:Object.entries(m).reduce((v,x)=>{let[S,E]=x;if(!E)return v;const N=ye.import(`modules/${S}`);return N==null?(vc.error(`Cannot load ${S} module. Are you sure you registered it?`),v):{...v,[S]:tl({},N.DEFAULTS||{},E)}},{}),bounds:AA(p.bounds)}}function Fr(n,e,t,s){if(!this.isEnabled()&&e===Pe.sources.USER&&!this.allowReadOnlyEdits)return new ze;let r=t==null?null:this.getSelection();const i=this.editor.delta,l=n();if(r!=null&&(t===!0&&(t=r.index),s==null?r=TA(r,l,e):s!==0&&(r=TA(r,t,s,e)),this.setSelection(r,Pe.sources.SILENT)),l.length()>0){const c=[Pe.events.TEXT_CHANGE,l,i,e];this.emitter.emit(Pe.events.EDITOR_CHANGE,...c),e!==Pe.sources.SILENT&&this.emitter.emit(...c)}return l}function Gi(n,e,t,s,r){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(r=s,s=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(r=s,s=t,t=e,e=0),typeof t=="object"?(i=t,r=s):typeof t=="string"&&(s!=null?i[t]=s:r=t),r=r||Pe.sources.API,[n,e,i,r]}function TA(n,e,t,s){const r=typeof t=="number"?t:0;if(n==null)return null;let i,l;return e&&typeof e.transformPosition=="function"?[i,l]=[n.index,n.index+n.length].map(c=>e.transformPosition(c,s!==Pe.sources.USER)):[i,l]=[n.index,n.index+n.length].map(c=>c<e||c===e&&s===Pe.sources.USER?c:r>=0?c+r:Math.max(e,c+r)),new io(i,l-i)}class po extends mg{}function jA(n){return n instanceof ls||n instanceof Tr}function RA(n){return typeof n.updateContent=="function"}class uH extends ix{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=ls;static allowedChildren=[ls,Tr,po];constructor(e,t,s){let{emitter:r}=s;super(e,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Pe.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Pe.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Pe.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[s,r]=this.line(e),[i]=this.line(e+t);if(super.deleteAt(e,t),i!=null&&s!==i&&r>0){if(s instanceof Tr||i instanceof Tr){this.optimize();return}const l=i.children.head instanceof ni?null:i.children.head;s.moveChildren(i,l),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,s,r){super.formatAt(e,t,s,r),this.optimize()}insertAt(e,t,s){if(e>=this.length())if(s==null||this.scroll.query(t,qe.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),s==null&&t.endsWith(`
`)?r.insertAt(0,t.slice(0,-1),s):r.insertAt(0,t,s)}else{const r=this.scroll.create(t,s);this.appendChild(r)}else super.insertAt(e,t,s);this.optimize()}insertBefore(e,t){if(e.statics.scope===qe.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,t)}else super.insertBefore(e,t)}insertContents(e,t){const s=this.deltaToRenderBlocks(t.concat(new ze().insert(`
`))),r=s.pop();if(r==null)return;this.batchStart();const i=s.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(Tr,e)[0]&&e<this.length()),h=i.type==="block"?i.delta:new ze().insert({[i.key]:i.value});ny(this,e,h);const m=i.type==="block"?1:0,p=e+h.length()+m;u&&this.insertAt(p-1,`
`);const b=Ar(this.line(e)[0]),v=jr.AttributeMap.diff(b,i.attributes)||{};Object.keys(v).forEach(x=>{this.formatAt(p-1,1,x,v[x])}),e=p}let[l,c]=this.children.find(e);if(s.length&&(l&&(l=l.split(c),c=0),s.forEach(u=>{if(u.type==="block"){const h=this.createBlock(u.attributes,l||void 0);ny(h,0,u.delta)}else{const h=this.create(u.key,u.value);this.insertBefore(h,l||void 0),Object.keys(u.attributes).forEach(m=>{h.format(m,u.attributes[m])})}})),r.type==="block"&&r.delta.length()){const u=l?l.offset(l.scroll)+c:this.length();ny(this,u,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[s,r]=t;return s instanceof ys?[s,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(jA,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(r,i,l)=>{let c=[],u=l;return r.children.forEachAt(i,l,(h,m,p)=>{jA(h)?c.push(h):h instanceof mg&&(c=c.concat(s(h,m,u))),u-=p}),c};return s(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Pe.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Pe.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:r}=s;const i=this.find(r,!0);return i&&!RA(i)}),e.length>0&&this.emitter.emit(Pe.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Pe.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,s){const[r]=this.descendant(i=>i instanceof Tr,e);r&&r.statics.blotName===t&&RA(r)&&r.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let s=new ze;return e.forEach(r=>{const i=r?.insert;if(i)if(typeof i=="string"){const l=i.split(`
`);l.slice(0,-1).forEach(u=>{s.insert(u,r.attributes),t.push({type:"block",delta:s,attributes:r.attributes??{}}),s=new ze});const c=l[l.length-1];c&&s.insert(c,r.attributes)}else{const l=Object.keys(i)[0];if(!l)return;this.query(l,qe.INLINE)?s.push(r):(s.length()&&t.push({type:"block",delta:s,attributes:{}}),s=new ze,t.push({type:"blockEmbed",key:l,value:i[l],attributes:r.attributes??{}}))}}),s.length()&&t.push({type:"block",delta:s,attributes:{}}),t}createBlock(e,t){let s;const r={};Object.entries(e).forEach(c=>{let[u,h]=c;this.query(u,qe.BLOCK&qe.BLOT)!=null?s=u:r[u]=h});const i=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(i,t||void 0);const l=i.length();return Object.entries(r).forEach(c=>{let[u,h]=c;i.formatAt(0,l,u,h)}),i}}function ny(n,e,t){t.reduce((s,r)=>{const i=jr.Op.length(r);let l=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const c=r.insert;n.insertAt(s,c);const[u]=n.descendant(ys,s),h=Ar(u);l=jr.AttributeMap.diff(h,l)||{}}else if(typeof r.insert=="object"){const c=Object.keys(r.insert)[0];if(c==null)return s;if(n.insertAt(s,c,r.insert[c]),n.scroll.query(c,qe.INLINE)!=null){const[h]=n.descendant(ys,s),m=Ar(h);l=jr.AttributeMap.diff(m,l)||{}}}}return Object.keys(l).forEach(c=>{n.formatAt(s,i,c,l[c])}),s+i},e)}const lx={scope:qe.BLOCK,whitelist:["right","center","justify"]},dH=new Si("align","align",lx),nD=new ti("align","ql-align",lx),sD=new pl("align","text-align",lx);class rD extends pl{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):t}}const fH=new ti("color","ql-color",{scope:qe.INLINE}),ox=new rD("color","color",{scope:qe.INLINE}),hH=new ti("background","ql-bg",{scope:qe.INLINE}),cx=new rD("background","background-color",{scope:qe.INLINE});class bo extends po{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${gg(this.code(e,t))}
</pre>`}}class Cs extends ls{static TAB="  ";static register(){ye.register(bo)}}class ux extends As{}ux.blotName="code";ux.tagName="CODE";Cs.blotName="code-block";Cs.className="ql-code-block";Cs.tagName="DIV";bo.blotName="code-block-container";bo.className="ql-code-block-container";bo.tagName="DIV";bo.allowedChildren=[Cs];Cs.allowedChildren=[Kr,ni,Gr];Cs.requiredContainer=bo;const dx={scope:qe.BLOCK,whitelist:["rtl"]},iD=new Si("direction","dir",dx),aD=new ti("direction","ql-direction",dx),lD=new pl("direction","direction",dx),oD={scope:qe.INLINE,whitelist:["serif","monospace"]},cD=new ti("font","ql-font",oD);class mH extends pl{value(e){return super.value(e).replace(/["']/g,"")}}const uD=new mH("font","font-family",oD),dD=new ti("size","ql-size",{scope:qe.INLINE,whitelist:["small","large","huge"]}),fD=new pl("size","font-size",{scope:qe.INLINE,whitelist:["10px","18px","32px"]}),gH=oa("quill:keyboard"),pH=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class bg extends Ti{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!t[s]!==e[s]&&t[s]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=yH(e);if(r==null){gH.warn("Attempted to add invalid keyboard binding",r);return}typeof t=="function"&&(t={handler:t}),typeof s=="function"&&(s={handler:s}),(Array.isArray(r.key)?r.key:[r.key]).forEach(l=>{const c={...r,key:l,...t,...s};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const r=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(N=>bg.match(e,N));if(r.length===0)return;const i=ye.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[c,u]=this.quill.getLine(l.index),[h,m]=this.quill.getLeaf(l.index),[p,b]=l.length===0?[h,m]:this.quill.getLeaf(l.index+l.length),v=h instanceof Nm?h.value().slice(0,m):"",x=p instanceof Nm?p.value().slice(b):"",S={collapsed:l.length===0,empty:l.length===0&&c.length()<=1,format:this.quill.getFormat(l),line:c,offset:u,prefix:v,suffix:x,event:e};r.some(N=>{if(N.collapsed!=null&&N.collapsed!==S.collapsed||N.empty!=null&&N.empty!==S.empty||N.offset!=null&&N.offset!==S.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(A=>S.format[A]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(A=>N.format[A]===!0?S.format[A]!=null:N.format[A]===!1?S.format[A]==null:Ga(N.format[A],S.format[A])))return!1;return N.prefix!=null&&!N.prefix.test(S.prefix)||N.suffix!=null&&!N.suffix.test(S.suffix)?!1:N.handler.call(this,l,S,N)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(e.index);let l=new ze().retain(e.index-s).delete(s);if(t.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const h=i.formats(),m=this.quill.getFormat(e.index-1,1);if(r=jr.AttributeMap.diff(h,m)||{},Object.keys(r).length>0){const p=new ze().retain(e.index+i.length()-2).retain(1,r);l=l.compose(p)}}}this.quill.updateContents(l,ye.sources.USER),this.quill.focus()}handleDelete(e,t){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let r={};const[i]=this.quill.getLine(e.index);let l=new ze().retain(e.index).delete(s);if(t.offset>=i.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const u=i.formats(),h=this.quill.getFormat(e.index,1);r=jr.AttributeMap.diff(u,h)||{},Object.keys(r).length>0&&(l=l.retain(c.length()-1).retain(1,r))}}this.quill.updateContents(l,ye.sources.USER),this.quill.focus()}handleDeleteRange(e){fx({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const s=Object.keys(t.format).reduce((i,l)=>(this.quill.scroll.query(l,qe.BLOCK)&&!Array.isArray(t.format[l])&&(i[l]=t.format[l]),i),{}),r=new ze().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(r,ye.sources.USER),this.quill.setSelection(e.index+1,ye.sources.SILENT),this.quill.focus()}}const bH={bindings:{bold:sy("bold"),italic:sy("italic"),underline:sy("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ye.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ye.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ye.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ye.sources.USER)}},"indent code-block":DA(!0),"outdent code-block":DA(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ye.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new ze().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ye.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ye.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ye.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ye.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),s={...e.formats(),list:"checked"},r=new ze().retain(n.index).insert(`
`,s).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,ye.sources.USER),this.quill.setSelection(n.index+1,ye.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,s]=this.quill.getLine(n.index),r=new ze().retain(n.index).insert(`
`,e.format).retain(t.length()-s-1).retain(1,{header:null});this.quill.updateContents(r,ye.sources.USER),this.quill.setSelection(n.index+1,ye.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,s,r,i]=e.getTable(n),l=vH(t,s,r,i);if(l==null)return;let c=t.offset();if(l<0){const u=new ze().retain(c).insert(`
`);this.quill.updateContents(u,ye.sources.USER),this.quill.setSelection(n.index+1,n.length,ye.sources.SILENT)}else if(l>0){c+=t.length();const u=new ze().retain(c).insert(`
`);this.quill.updateContents(u,ye.sources.USER),this.quill.setSelection(c,ye.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:s}=e,r=s.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(r-1,ye.sources.USER):this.quill.setSelection(r+s.length(),ye.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[s,r]=this.quill.getLine(n.index);if(r>t)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",ye.sources.USER),this.quill.history.cutoff();const l=new ze().retain(n.index-r).delete(t+1).retain(s.length()-2-r).retain(1,{list:i});return this.quill.updateContents(l,ye.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ye.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let s=2,r=e;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,s-=1,s<=0){const i=new ze().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,ye.sources.USER),this.quill.setSelection(n.index-1,ye.sources.SILENT),!1}return!0}},"embed left":Rh("ArrowLeft",!1),"embed left shift":Rh("ArrowLeft",!0),"embed right":Rh("ArrowRight",!1),"embed right shift":Rh("ArrowRight",!0),"table down":kA(!1),"table up":kA(!0)}};bg.DEFAULTS=bH;function DA(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:s}=t;const r=this.quill.scroll.query("code-block"),{TAB:i}=r;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,i,ye.sources.USER),this.quill.setSelection(e.index+i.length,ye.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:u}=e;l.forEach((h,m)=>{n?(h.insertAt(0,i),m===0?c+=i.length:u+=i.length):h.domNode.textContent.startsWith(i)&&(h.deleteAt(0,i.length),m===0?c-=i.length:u-=i.length)}),this.quill.update(ye.sources.USER),this.quill.setSelection(c,u,ye.sources.SILENT)}}}function Rh(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:r}=s;n==="ArrowRight"&&(r+=s.length+1);const[i]=this.quill.getLeaf(r);return i instanceof ur?(n==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,ye.sources.USER):this.quill.setSelection(s.index-1,ye.sources.USER):e?this.quill.setSelection(s.index,s.length+1,ye.sources.USER):this.quill.setSelection(s.index+s.length+1,ye.sources.USER),!1):!0}}}function sy(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ye.sources.USER)}}}function kA(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const s=n?"prev":"next",r=t.line,i=r.parent[s];if(i!=null){if(i.statics.blotName==="table-row"){let l=i.children.head,c=r;for(;c.prev!=null;)c=c.prev,l=l.next;const u=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(u,0,ye.sources.USER)}}else{const l=r.table()[s];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,ye.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,ye.sources.USER))}return!1}}}function yH(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=bc(n);else return null;return n.shortKey&&(n[pH]=n.shortKey,delete n.shortKey),n}function fx(n){let{quill:e,range:t}=n;const s=e.getLines(t);let r={};if(s.length>1){const i=s[0].formats(),l=s[s.length-1].formats();r=jr.AttributeMap.diff(l,i)||{}}e.deleteText(t,ye.sources.USER),Object.keys(r).length>0&&e.formatLine(t.index,1,r,ye.sources.USER),e.setSelection(t.index,ye.sources.SILENT)}function vH(n,e,t,s){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?s===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const xH=/font-weight:\s*normal/,wH=["P","OL","UL"],OA=n=>n&&wH.includes(n.tagName),EH=n=>{Array.from(n.querySelectorAll("br")).filter(e=>OA(e.previousElementSibling)&&OA(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},SH=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(xH)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function _H(n){n.querySelector('[id^="docs-internal-guid-"]')&&(SH(n),EH(n))}const NH=/\bmso-list:[^;]*ignore/i,AH=/\bmso-list:[^;]*\bl(\d+)/i,CH=/\bmso-list:[^;]*\blevel(\d+)/i,TH=(n,e)=>{const t=n.getAttribute("style"),s=t?.match(AH);if(!s)return null;const r=Number(s[1]),i=t?.match(CH),l=i?Number(i[1]):1,c=new RegExp(`@list l${r}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=e.match(c),h=u&&u[1]==="bullet"?"bullet":"ordered";return{id:r,indent:l,type:h,element:n}},jH=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],s=[];e.forEach(l=>{(l.getAttribute("style")||"").match(NH)?t.push(l):s.push(l)}),t.forEach(l=>l.parentNode?.removeChild(l));const r=n.documentElement.innerHTML,i=s.map(l=>TH(l,r)).filter(l=>l);for(;i.length;){const l=[];let c=i.shift();for(;c;)l.push(c),c=i.length&&i[0]?.element===c.element.nextElementSibling&&i[0].id===c.id?i.shift():null;const u=document.createElement("ul");l.forEach(p=>{const b=document.createElement("li");b.setAttribute("data-list",p.type),p.indent>1&&b.setAttribute("class",`ql-indent-${p.indent-1}`),b.innerHTML=p.element.innerHTML,u.appendChild(b)});const h=l[0]?.element,{parentNode:m}=h??{};h&&m?.replaceChild(u,h),l.slice(1).forEach(p=>{let{element:b}=p;m?.removeChild(b)})}};function RH(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&jH(n)}const DH=[RH,_H],kH=n=>{n.documentElement&&DH.forEach(e=>{e(n)})},OH=oa("quill:clipboard"),MH=[[Node.TEXT_NODE,GH],[Node.TEXT_NODE,LA],["br",HH],[Node.ELEMENT_NODE,LA],[Node.ELEMENT_NODE,UH],[Node.ELEMENT_NODE,PH],[Node.ELEMENT_NODE,VH],["li",FH],["ol, ul",$H],["pre",zH],["tr",WH],["b",ry("bold")],["i",ry("italic")],["strike",ry("strike")],["style",qH]],LH=[dH,iD].reduce((n,e)=>(n[e.keyName]=e,n),{}),MA=[sD,cx,ox,lD,uD,fD].reduce((n,e)=>(n[e.keyName]=e,n),{});class IH extends Ti{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],MH.concat(this.options.matchers??[]).forEach(s=>{let[r,i]=s;this.addMatcher(r,i)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:s}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Cs.blotName])return new ze().insert(s||"",{[Cs.blotName]:r[Cs.blotName]});if(!t)return new ze().insert(s||"",r);const i=this.convertHTML(t);return Qd(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||r.table)?i.compose(new ze().retain(i.length()-1).delete(1)):i}normalizeHTML(e){kH(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const s=t.body,r=new WeakMap,[i,l]=this.prepareMatching(s,r);return hx(this.quill.scroll,s,i,l,r)}dangerouslyPasteHTML(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye.sources.API;if(typeof e=="string"){const r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,ye.sources.SILENT)}else{const r=this.convert({html:t,text:""});this.quill.updateContents(new ze().retain(e).concat(r),s),this.quill.setSelection(e+r.length(),ye.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:r,text:i}=this.onCopy(s,t);e.clipboardData?.setData("text/plain",i),e.clipboardData?.setData("text/html",r),t&&fx({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const s=e.clipboardData?.getData("text/html");let r=e.clipboardData?.getData("text/plain");if(!s&&!r){const l=e.clipboardData?.getData("text/uri-list");l&&(r=this.normalizeURIList(l))}const i=Array.from(e.clipboardData?.files||[]);if(!s&&i.length>0){this.quill.uploader.upload(t,i);return}if(s&&i.length>0){const l=new DOMParser().parseFromString(s,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,i);return}}this.onPaste(t,{html:s,text:r})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:s,html:r}=t;const i=this.quill.getFormat(e.index),l=this.convert({text:s,html:r},i);OH.log("onPaste",l,{text:s,html:r});const c=new ze().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(c,ye.sources.USER),this.quill.setSelection(c.length()-e.length,ye.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const s=[],r=[];return this.matchers.forEach(i=>{const[l,c]=i;switch(l){case Node.TEXT_NODE:r.push(c);break;case Node.ELEMENT_NODE:s.push(c);break;default:Array.from(e.querySelectorAll(l)).forEach(u=>{t.has(u)?t.get(u)?.push(c):t.set(u,[c])});break}}),[s,r]}}function yo(n,e,t,s){return s.query(e)?n.reduce((r,i)=>{if(!i.insert)return r;if(i.attributes&&i.attributes[e])return r.push(i);const l=t?{[e]:t}:{};return r.insert(i.insert,{...l,...i.attributes})},new ze):n}function Qd(n,e){let t="";for(let s=n.ops.length-1;s>=0&&t.length<e.length;--s){const r=n.ops[s];if(typeof r.insert!="string")break;t=r.insert+t}return t.slice(-1*e.length)===e}function Ya(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ur?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function BH(n,e){return n.previousElementSibling&&n.nextElementSibling&&!Ya(n.previousElementSibling,e)&&!Ya(n.nextElementSibling,e)}const Dh=new WeakMap;function hD(n){return n==null?!1:(Dh.has(n)||(n.tagName==="PRE"?Dh.set(n,!0):Dh.set(n,hD(n.parentNode))),Dh.get(n))}function hx(n,e,t,s,r){return e.nodeType===e.TEXT_NODE?s.reduce((i,l)=>l(e,i,n),new ze):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,l)=>{let c=hx(n,l,t,s,r);return l.nodeType===e.ELEMENT_NODE&&(c=t.reduce((u,h)=>h(l,u,n),c),c=(r.get(l)||[]).reduce((u,h)=>h(l,u,n),c)),i.concat(c)},new ze):new ze}function ry(n){return(e,t,s)=>yo(t,n,!0,s)}function PH(n,e,t){const s=Si.keys(n),r=ti.keys(n),i=pl.keys(n),l={};return s.concat(r).concat(i).forEach(c=>{let u=t.query(c,qe.ATTRIBUTE);u!=null&&(l[u.attrName]=u.value(n),l[u.attrName])||(u=LH[c],u!=null&&(u.attrName===c||u.keyName===c)&&(l[u.attrName]=u.value(n)||void 0),u=MA[c],u!=null&&(u.attrName===c||u.keyName===c)&&(u=MA[c],l[u.attrName]=u.value(n)||void 0))}),Object.entries(l).reduce((c,u)=>{let[h,m]=u;return yo(c,h,m,t)},e)}function UH(n,e,t){const s=t.query(n);if(s==null)return e;if(s.prototype instanceof ur){const r={},i=s.value(n);if(i!=null)return r[s.blotName]=i,new ze().insert(r,s.formats(n,t))}else if(s.prototype instanceof Cd&&!Qd(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return yo(e,s.blotName,s.formats(n,t),t);return e}function HH(n,e){return Qd(e,`
`)||e.insert(`
`),e}function zH(n,e,t){const s=t.query("code-block"),r=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,t):!0;return yo(e,"code-block",r,t)}function qH(){return new ze}function FH(n,e,t){const s=t.query(n);if(s==null||s.blotName!=="list"||!Qd(e,`
`))return e;let r=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(r+=1),i=i.parentNode;return r<=0?e:e.reduce((l,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?l.push(c):l.insert(c.insert,{indent:r,...c.attributes||{}}):l,new ze)}function $H(n,e,t){const s=n;let r=s.tagName==="OL"?"ordered":"bullet";const i=s.getAttribute("data-checked");return i&&(r=i==="true"?"checked":"unchecked"),yo(e,"list",r,t)}function LA(n,e,t){if(!Qd(e,`
`)){if(Ya(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(Ya(s,t))return e.insert(`
`);const r=t.query(s);if(r&&r.prototype instanceof Tr)return e.insert(`
`);s=s.firstChild}}}return e}function VH(n,e,t){const s={},r=n.style||{};return r.fontStyle==="italic"&&(s.italic=!0),r.textDecoration==="underline"&&(s.underline=!0),r.textDecoration==="line-through"&&(s.strike=!0),(r.fontWeight?.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((i,l)=>{let[c,u]=l;return yo(i,c,u,t)},e),parseFloat(r.textIndent||0)>0?new ze().insert("	").concat(e):e}function WH(n,e,t){const s=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(s!=null){const i=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return yo(e,"table",i,t)}return e}function GH(n,e,t){let s=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(s.trim());if(!hD(n)){if(s.trim().length===0&&s.includes(`
`)&&!BH(n,t))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Ya(n.parentElement,t)||n.previousSibling instanceof Element&&Ya(n.previousSibling,t))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Ya(n.parentElement,t)||n.nextSibling instanceof Element&&Ya(n.nextSibling,t))&&(s=s.replace(/ $/,"")),s=s.replaceAll(" "," ")}return e.insert(s)}class YH extends Ti{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(ye.events.EDITOR_CHANGE,(s,r,i,l)=>{s===ye.events.SELECTION_CHANGE?r&&l!==ye.sources.SILENT&&(this.currentRange=r):s===ye.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===ye.sources.USER?this.record(r,i):this.transform(r)),this.currentRange=dv(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const r=this.quill.getContents(),i=s.delta.invert(r);this.stack[t].push({delta:i,range:dv(s.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,ye.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(t),r=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),r=l.range)}else this.lastRecorded=i;s.length()!==0&&(this.stack.undo.push({delta:s,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){IA(this.stack.undo,e),IA(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,ye.sources.USER);else{const t=ZH(this.quill.scroll,e.delta);this.quill.setSelection(t,ye.sources.USER)}}}function IA(n,e){let t=e;for(let s=n.length-1;s>=0;s-=1){const r=n[s];n[s]={delta:t.transform(r.delta,!0),range:r.range&&dv(r.range,t)},t=r.delta.transform(t),n[s].delta.length()===0&&n.splice(s,1)}}function XH(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(s=>n.query(s,qe.BLOCK)!=null):!1}function ZH(n,e){const t=e.reduce((r,i)=>r+(i.delete||0),0);let s=e.length()-t;return XH(n,e)&&(s-=1),s}function dv(n,e){if(!n)return n;const t=e.transformPosition(n.index),s=e.transformPosition(n.index+n.length);return{index:t,length:s-t}}class mD extends Ti{constructor(e,t){super(e,t),e.root.addEventListener("drop",s=>{s.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(s.clientX,s.clientY);r=document.createRange(),r.setStart(l.offsetNode,l.offset),r.setEnd(l.offsetNode,l.offset)}const i=r&&e.selection.normalizeNative(r);if(i){const l=e.selection.normalizedToRange(i);s.dataTransfer?.files&&this.upload(l,s.dataTransfer.files)}})}upload(e,t){const s=[];Array.from(t).forEach(r=>{r&&this.options.mimetypes?.includes(r.type)&&s.push(r)}),s.length>0&&this.options.handler.call(this,e,s)}}mD.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(s=>new Promise(r=>{const i=new FileReader;i.onload=()=>{r(i.result)},i.readAsDataURL(s)}));Promise.all(t).then(s=>{const r=s.reduce((i,l)=>i.insert({image:l}),new ze().retain(n.index).delete(n.length));this.quill.updateContents(r,Pe.sources.USER),this.quill.setSelection(n.index+s.length,Pe.sources.SILENT)})}};const QH=["insertText","insertReplacementText"];class KH extends Ti{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(ye.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){fx({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new ze().retain(e.index).insert(t,s),ye.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ye.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!QH.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const s=JH(e);if(s==null)return;const r=this.quill.selection.normalizeNative(t),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function JH(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const e9=/Mac/i.test(navigator.platform),t9=100,n9=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||e9&&n.key==="a"&&n.ctrlKey===!0);class s9 extends Ti{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:s,event:r}=t;if(!(s instanceof Zr)||!s.uiNode)return!0;const i=getComputedStyle(s.domNode).direction==="rtl";return i&&r.key!=="ArrowRight"||!i&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),ye.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&n9(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+t9,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const s=this.quill.scroll.find(t.startContainer);if(!(s instanceof Zr)||!s.uiNode)return;const r=document.createRange();r.setStartAfter(s.uiNode),r.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(r)}}ye.register({"blots/block":ls,"blots/block/embed":Tr,"blots/break":ni,"blots/container":po,"blots/cursor":Gr,"blots/embed":ax,"blots/inline":As,"blots/scroll":uH,"blots/text":Kr,"modules/clipboard":IH,"modules/history":YH,"modules/keyboard":bg,"modules/uploader":mD,"modules/input":KH,"modules/uiNode":s9});class r9 extends ti{add(e,t){let s=0;if(t==="+1"||t==="-1"){const r=this.value(e)||0;s=t==="+1"?r+1:r-1}else typeof t=="number"&&(s=t);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const i9=new r9("indent","ql-indent",{scope:qe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class a9 extends ls{static blotName="blockquote";static tagName="blockquote"}class l9 extends ls{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Kd extends po{}Kd.blotName="list-container";Kd.tagName="OL";class Jd extends ls{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ye.register(Kd)}constructor(e,t){super(e,t);const s=t.ownerDocument.createElement("span"),r=i=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),i.preventDefault()):l==="unchecked"&&(this.format("list","checked"),i.preventDefault())};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),this.attachUI(s)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Jd.blotName="list";Jd.tagName="LI";Kd.allowedChildren=[Jd];Jd.requiredContainer=Kd;class mx extends As{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class o9 extends mx{static blotName="italic";static tagName=["EM","I"]}class Am extends As{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return gD(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function gD(n,e){const t=document.createElement("a");t.href=n;const s=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(s)>-1}class c9 extends As{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class u9 extends mx{static blotName="strike";static tagName=["S","STRIKE"]}class d9 extends As{static blotName="underline";static tagName="U"}class f9 extends ax{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const BA=["alt","height","width"];class h9 extends ur{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return BA.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return gD(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){BA.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const PA=["height","width"];class m9 extends Tr{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return PA.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static sanitize(e){return Am.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){PA.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const ad=new ti("code-token","hljs",{scope:qe.INLINE});class ia extends As{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Cs.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,s){super(e,t,s),ad.add(this.domNode,s)}format(e,t){e!==ia.blotName?super.format(e,t):t?ad.add(this.domNode,t):(ad.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ad.value(this.domNode)||this.unwrap()}}ia.blotName="code-token";ia.className="ql-token";class Cr extends Cs{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),ia.blotName,!1),super.replaceWith(e,t)}}class dd extends bo{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Cr.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,t)}))}formatAt(e,t,s,r){s===Cr.blotName&&(this.forceNext=!0),super.formatAt(e,t,s,r)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,i=Cr.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const l=this.children.reduce((u,h)=>u.concat(JR(h,!1)),new ze),c=e(r,i);l.diff(c).reduce((u,h)=>{let{retain:m,attributes:p}=h;return m?(p&&Object.keys(p).forEach(b=>{[Cr.blotName,ia.blotName].includes(b)&&this.formatAt(u,m,b,p[b])}),u+m):u},0)}this.cachedText=r,this.forceNext=!1}}html(e,t){const[s]=this.children.find(e);return`<pre data-language="${s?Cr.formats(s.domNode):"plain"}">
${gg(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Cr.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}dd.allowedChildren=[Cr];Cr.requiredContainer=dd;Cr.allowedChildren=[ia,Gr,Kr,ni];const g9=(n,e,t)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class pD extends Ti{static register(){ye.register(ia,!0),ye.register(Cr,!0),ye.register(dd,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,r)=>{let{key:i}=r;return s[i]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ye.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof dd))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:r,label:i}=s;const l=t.ownerDocument.createElement("option");l.textContent=i,l.setAttribute("value",r),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(Cr.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Cr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ye.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ye.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(dd):[e]).forEach(i=>{i.highlight(this.highlightBlot,t)}),this.quill.update(ye.sources.SILENT),s!=null&&this.quill.setSelection(s,ye.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return gg(e).split(`
`).reduce((r,i,l)=>(l!==0&&r.insert(`
`,{[Cs.blotName]:t}),r.insert(i)),new ze);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Cs.className),s.innerHTML=g9(this.options.hljs,t,e),hx(this.quill.scroll,s,[(r,i)=>{const l=ad.value(r);return l?i.compose(new ze().retain(i.length(),{[ia.blotName]:l})):i}],[(r,i)=>r.data.split(`
`).reduce((l,c,u)=>(u!==0&&l.insert(`
`,{[Cs.blotName]:t}),l.insert(c)),i)],new WeakMap)}}pD.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let Ji=class bD extends ls{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",gx()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===bD.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}},ao=class extends po{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),s=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===t.table&&e.table===s.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const s=t.formats(),r=t.next.formats();if(s.table!==r.table){const i=this.splitAfter(t);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}};class nl extends po{static blotName="table-body";static tagName="TBODY"}class Cm extends po{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(ao),t=e.reduce((s,r)=>Math.max(r.children.length,s),0);e.forEach(s=>{new Array(t-s.children.length).fill(0).forEach(()=>{let r;s.children.head!=null&&(r=Ji.formats(s.children.head.domNode));const i=this.scroll.create(Ji.blotName,r);s.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(nl);t==null||t.children.head==null||t.children.forEach(s=>{const r=s.children.at(e);r?.remove()})}insertColumn(e){const[t]=this.descendant(nl);t==null||t.children.head==null||t.children.forEach(s=>{const r=s.children.at(e),i=Ji.formats(s.children.head.domNode),l=this.scroll.create(Ji.blotName,i);s.insertBefore(l,r)})}insertRow(e){const[t]=this.descendant(nl);if(t==null||t.children.head==null)return;const s=gx(),r=this.scroll.create(ao.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Ji.blotName,s);r.appendChild(l)});const i=t.children.at(e);t.insertBefore(r,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Cm.allowedChildren=[nl];nl.requiredContainer=Cm;nl.allowedChildren=[ao];ao.requiredContainer=nl;ao.allowedChildren=[Ji];Ji.requiredContainer=ao;function gx(){return`row-${Math.random().toString(36).slice(2,6)}`}let p9=class extends Ti{static register(){ye.register(Ji),ye.register(ao),ye.register(nl),ye.register(Cm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Cm).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ye.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ye.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ye.sources.USER),this.quill.setSelection(t,ye.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,s]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Ji.blotName)return[null,null,null,-1];const r=t.parent;return[r.parent.parent,r,t,s]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[s,r,i]=this.getTable(t);if(i==null)return;const l=i.cellOffset();s.insertColumn(l+e),this.quill.update(ye.sources.USER);let c=r.rowOffset();e===0&&(c+=1),this.quill.setSelection(t.index+c,t.length,ye.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[s,r,i]=this.getTable(t);if(i==null)return;const l=r.rowOffset();s.insertRow(l+e),this.quill.update(ye.sources.USER),e>0?this.quill.setSelection(t,ye.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,ye.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const s=this.quill.getSelection();if(s==null)return;const r=new Array(e).fill(0).reduce(i=>{const l=new Array(t).fill(`
`).join("");return i.insert(l,{table:gx()})},new ze().retain(s.index));this.quill.updateContents(r,ye.sources.USER),this.quill.setSelection(s.index,ye.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ye.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ye.events.TEXT_CHANGE,(s,r,i)=>{i===ye.sources.USER&&this.balanceTables()}),!0):!1)})}};const UA=oa("quill:toolbar");let px=class extends Ti{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),b9(s,this.options.container),e.container?.parentNode?.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){UA.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{const r=this.options.handlers?.[s];r&&this.addHandler(s,r)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(ye.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(r=>r.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){UA.warn("ignoring attaching to nonexistent format",t,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,r=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?i=!1:i=c.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),r.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,i);else if(this.quill.scroll.query(t).prototype instanceof ur){if(i=prompt(`Enter ${t}`),!i)return;this.quill.updateContents(new ze().retain(l.index).delete(l.length).insert({[t]:i}),ye.sources.USER)}else this.quill.format(t,i,ye.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[r,i]=s;if(i.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[r]==null)l=i.querySelector("option[selected]");else if(!Array.isArray(t[r])){let c=t[r];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),l=i.querySelector(`option[value="${c}"]`)}l==null?(i.value="",i.selectedIndex=-1):l.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const l=t[r],c=l===i.getAttribute("value")||l!=null&&l.toString()===i.getAttribute("value")||l==null&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{const l=t[r]!=null;i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}})}};px.DEFAULTS={};function HA(n,e,t){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),t!=null?(s.value=t,s.setAttribute("aria-label",`${e}: ${t}`)):s.setAttribute("aria-label",e),n.appendChild(s)}function b9(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const s=document.createElement("span");s.classList.add("ql-formats"),t.forEach(r=>{if(typeof r=="string")HA(s,r);else{const i=Object.keys(r)[0],l=r[i];Array.isArray(l)?y9(s,i,l):HA(s,i,l)}}),n.appendChild(s)})}function y9(n,e,t){const s=document.createElement("select");s.classList.add(`ql-${e}`),t.forEach(r=>{const i=document.createElement("option");r!==!1?i.setAttribute("value",String(r)):i.setAttribute("selected","selected"),s.appendChild(i)}),n.appendChild(s)}px.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,qe.INLINE)!=null&&this.quill.format(t,!1,ye.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ye.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ye.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ye.sources.USER),this.quill.format("direction",n,ye.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),s=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let r=n==="+1"?1:-1;t.direction==="rtl"&&(r*=-1),this.quill.format("indent",s+r,ye.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ye.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ye.sources.USER):this.quill.format("list","unchecked",ye.sources.USER):this.quill.format("list",n,ye.sources.USER)}}};const v9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',x9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',w9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',E9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',S9='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',_9='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',N9='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',A9='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',zA='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',C9='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',T9='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',j9='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',R9='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',D9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',k9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',O9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',M9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',L9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',I9='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',B9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',P9='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',U9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',H9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',z9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',q9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',F9='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',$9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',V9='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',W9='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',G9='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Y9='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',X9='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Z9='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',jd={align:{"":v9,center:x9,right:w9,justify:E9},background:S9,blockquote:_9,bold:N9,clean:A9,code:zA,"code-block":zA,color:C9,direction:{"":T9,rtl:j9},formula:R9,header:{1:D9,2:k9,3:O9,4:M9,5:L9,6:I9},italic:B9,image:P9,indent:{"+1":U9,"-1":H9},link:z9,list:{bullet:q9,check:F9,ordered:$9},script:{sub:V9,super:W9},strike:G9,table:Y9,underline:X9,video:Z9},Q9='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let qA=0;function FA(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class yg{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),FA(this.label,"aria-expanded"),FA(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&t.setAttribute("data-value",s),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(t,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Q9,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${qA}`,qA+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const s=this.buildItem(t);e.appendChild(s),t.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class yD extends yg{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const s=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=r:s.style.fill=r)}}class vD extends yg{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=t[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const K9=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};let xD=class{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,K9(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let l=0;if(i.right>r.right&&(l=r.right-i.right,this.root.style.left=`${t+l}px`),i.left<r.left&&(l=r.left-i.left,this.root.style.left=`${t+l}px`),i.bottom>r.bottom){const c=i.bottom-i.top,u=e.bottom-e.top+c;this.root.style.top=`${s-u}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const J9=[!1,"center","right","justify"],ez=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],tz=[!1,"serif","monospace"],nz=["1","2","3",!1],sz=["small",!1,"large","huge"];class ef extends pg{constructor(e,t){super(e,t);const s=r=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(r.target)||i.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),t[i]!=null))if(i==="direction")s.innerHTML=t[i][""]+t[i].rtl;else if(typeof t[i]=="string")s.innerHTML=t[i];else{const l=s.value||"";l!=null&&t[i][l]&&(s.innerHTML=t[i][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&Zu(r,J9),typeof t.align=="object"))return new vD(r,t.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const i=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&Zu(r,ez,i==="background"?"#ffffff":"#000000"),new yD(r,t[i])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?Zu(r,tz):r.classList.contains("ql-header")?Zu(r,nz):r.classList.contains("ql-size")&&Zu(r,sz)),new yg(r)});const s=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(Pe.events.EDITOR_CHANGE,s)}}ef.DEFAULTS=tl({},pg.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class wD extends xD{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Pe.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Pe.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=rz(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const s=t.index+t.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,Pe.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",Pe.sources.USER),this.quill.setSelection(s+2,Pe.sources.USER)}break}}this.textbox.value="",this.hide()}}function rz(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Zu(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const r=document.createElement("option");s===t?r.setAttribute("selected","selected"):r.setAttribute("value",String(s)),n.appendChild(r)})}const iz=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class az extends wD{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Pe.events.EDITOR_CHANGE,(s,r,i,l)=>{if(s===Pe.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&l===Pe.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(r.index,r.length);if(c.length===1){const u=this.quill.getBounds(r);u!=null&&this.position(u)}else{const u=c[c.length-1],h=this.quill.getIndex(u),m=Math.min(u.length()-1,r.index+r.length-h),p=this.quill.getBounds(new io(h,m));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Pe.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",t!==0&&(s.style.marginLeft=`${-1*t-s.offsetWidth/2}px`),t}}class ED extends ef{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=iz),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new az(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),jd),this.buildPickers(e.container.querySelectorAll("select"),jd))}}ED.DEFAULTS=tl({},ef.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ye.sources.USER)}}}}});const lz=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class oz extends wD{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Pe.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Pe.events.SELECTION_CHANGE,(e,t,s)=>{if(e!=null){if(e.length===0&&s===Pe.sources.USER){const[r,i]=this.quill.scroll.descendant(Am,e.index);if(r!=null){this.linkRange=new io(e.index-i,r.length());const l=Am.formats(r.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class SD extends ef{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=lz),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),jd),this.buildPickers(e.container.querySelectorAll("select"),jd),this.tooltip=new oz(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,s)=>{e.handlers.link.call(e,!s.format.link)}))}}SD.DEFAULTS=tl({},ef.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:s}=this.quill.theme;s.edit("link",t)}else this.quill.format("link",!1,ye.sources.USER)}}}}});ye.register({"attributors/attribute/direction":iD,"attributors/class/align":nD,"attributors/class/background":hH,"attributors/class/color":fH,"attributors/class/direction":aD,"attributors/class/font":cD,"attributors/class/size":dD,"attributors/style/align":sD,"attributors/style/background":cx,"attributors/style/color":ox,"attributors/style/direction":lD,"attributors/style/font":uD,"attributors/style/size":fD},!0);ye.register({"formats/align":nD,"formats/direction":aD,"formats/indent":i9,"formats/background":cx,"formats/color":ox,"formats/font":cD,"formats/size":dD,"formats/blockquote":a9,"formats/code-block":Cs,"formats/header":l9,"formats/list":Jd,"formats/bold":mx,"formats/code":ux,"formats/italic":o9,"formats/link":Am,"formats/script":c9,"formats/strike":u9,"formats/underline":d9,"formats/formula":f9,"formats/image":h9,"formats/video":m9,"modules/syntax":pD,"modules/table":p9,"modules/toolbar":px,"themes/bubble":ED,"themes/snow":SD,"ui/icons":jd,"ui/picker":yg,"ui/icon-picker":vD,"ui/color-picker":yD,"ui/tooltip":xD},!0);class qc extends qn.Component{constructor(e){super(e),this.editingAreaRef=_.createRef(),this.containerRef=_.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(s,r,i,l)=>{s==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,r,l,this.unprivilegedEditor):s==="selection-change"&&this.onEditorChangeSelection?.(r,l,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(qn.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qn.Children.count(e.children)&&qn.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const s=this.getEditorContents(),r=e.value??"";this.isEqualValue(r,s)||this.setEditorContents(this.editor,r)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(s=>!Ga(e[s],this.props[s]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!Ga(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const s=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:s,selection:r}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(s),$A(()=>this.setEditorSelection(i,r))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const s=this.containerRef.current?.querySelector(".ql-toolbar");s&&s.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const s=new ye(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(s,t.tabIndex),this.hookEditor(s),s}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?Ga(e.ops,t.ops):Ga(e,t)}setEditorContents(e,t){this.value=t;const s=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),$A(()=>this.setEditorSelection(e,s))}setEditorSelection(e,t){if(this.selection=t,t){const s=e.getLength();t.index=Math.max(0,Math.min(t.index,s-1)),t.length=Math.max(0,Math.min(t.length,s-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:s}=this.state,r={key:s,ref:this.editingAreaRef};return qn.Children.count(e)?qn.cloneElement(qn.Children.only(e),r):t?qn.createElement("pre",{...r}):qn.createElement("div",{...r})}render(){return qn.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,s,r){if(!this.editor)return;const i=this.isDelta(this.value)?r.getContents():r.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,this.props.onChange?.(e,t,s,r))}onEditorChangeSelection(e,t,s){if(!this.editor)return;const r=this.getEditorSelection(),i=!r&&e,l=r&&!e;Ga(e,r)||(this.selection=e,this.props.onChangeSelection?.(e,t,s),i?this.props.onFocus?.(e,t,s):l&&this.props.onBlur?.(r,t,s))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}qc.displayName="React Quill";qc.Quill=ye;qc.defaultProps={theme:"snow",modules:{},readOnly:!1};function $A(n){Promise.resolve().then(n)}function cz(){const n=_t(),e=_.useRef(null),[t]=Oc(),s=t.get("edit"),[r,i]=_.useState([]),[l,c]=_.useState(!0),[u,h]=_.useState(""),[m,p]=_.useState("ALL"),[b,v]=_.useState(""),[x,S]=_.useState(""),[E,N]=_.useState([]),[A,R]=_.useState(!1),[T,D]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[M,U]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null});_.useEffect(()=>{(async()=>{if(s)try{c(!0);const j=await ea.getPostDetail(s);if(v(j.title),S(j.content),h(j.clubId.toString()),p(j.scope),R(!0),j.images){const z=j.images.split("/").map(ne=>parseInt(ne.trim())),K=await Ts.getFiles(z);N(K.map(ne=>({fileId:ne.fileId,fileUrl:ne.fileLink,originalFileName:ne.originalFileName})))}c(!1)}catch(j){console.error("게시글 조회 실패:",j),U({isOpen:!0,title:"오류",message:"게시글을 불러오는데 실패했습니다."}),setTimeout(()=>{n("/community")},1e3)}})()},[s,n]),_.useEffect(()=>{(async()=>{try{c(!0);const j=await St.getJoinedClubs();console.log("가입한 동호회 목록:",j),j&&Array.isArray(j)?(i(j),!s&&j.length>0&&h(j[0].clubId.toString())):(console.error("동호회 목록 데이터 형식 오류:",j),i([]))}catch(j){console.error("동호회 목록 조회 실패:",j),console.error("에러 상세:",j.response||j.message),U({isOpen:!0,title:"오류",message:"동호회 목록을 불러오는데 실패했습니다."}),i([])}finally{s||c(!1)}})()},[s]);const I=()=>{const V=document.createElement("input");V.setAttribute("type","file"),V.setAttribute("accept","image/*"),V.setAttribute("multiple","true"),V.onchange=async()=>{const j=Array.from(V.files||[]);for(const z of j)if(z.type.startsWith("image/"))try{const K=await Ts.uploadImage(z);N(ne=>[...ne,K]),console.log("이미지 업로드 성공:",K)}catch(K){console.error("이미지 업로드 실패:",K),U({isOpen:!0,title:"오류",message:"이미지 업로드에 실패했습니다."})}},V.click()},F=_.useRef({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:I}},clipboard:{matchVisual:!1}}).current,Z=_.useRef(["header","bold","italic","underline","strike","color","background","list","align","blockquote","code-block","link"]).current,O=(V,j,z)=>{z==="user"&&S(V)},q=V=>{N(j=>j.filter((z,K)=>K!==V))},H=async()=>{if(!b.trim()){U({isOpen:!0,title:"입력 오류",message:"제목을 입력해 주세요."});return}if(!x.trim()){U({isOpen:!0,title:"입력 오류",message:"내용을 입력해 주세요."});return}if(!u){U({isOpen:!0,title:"입력 오류",message:"동호회를 선택해 주세요."});return}try{const V=m,j=E.length>0?E.map(K=>K.fileId).join("/"):null,z={clubId:parseInt(u),title:b.trim(),content:x,images:j,postType:"P",scope:V};console.log(A?"게시글 수정 요청:":"게시글 등록 요청:",z),A?(await ea.updatePost(s,z),U({isOpen:!0,title:"수정 완료",message:"게시글이 수정되었습니다.",onCloseCallback:()=>{n(`/community/posts/${s}`)}})):(await ea.createPost(z),U({isOpen:!0,title:"등록 완료",message:"게시글이 등록되었습니다.",onCloseCallback:()=>{n("/community")}}))}catch(V){console.error(A?"게시글 수정 실패:":"게시글 등록 실패:",V),U({isOpen:!0,title:"오류",message:A?`게시글 수정에 실패했습니다.
`+(V.message||"다시 시도해주세요."):`게시글 등록에 실패했습니다.
`+(V.message||"다시 시도해주세요.")})}},X=()=>{D({isOpen:!0,title:"취소 확인",message:A?"수정을 취소하시겠습니까?":"작성을 취소하시겠습니까?",onConfirm:()=>{n(A?`/community/posts/${s}`:"/community")}})};return l?f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})}):r.length===0&&!A?f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-gray-500 mb-4",children:"가입한 동호회가 없습니다."}),f.jsx("div",{className:"text-sm text-gray-400",children:"게시글을 작성하려면 먼저 동호회에 가입해주세요."})]})}):f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[f.jsx("div",{className:"mb-6",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:A?"게시글 수정":"게시글 작성"})}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"동호회 선택"}),f.jsxs("select",{value:u,onChange:V=>h(V.target.value),disabled:A,className:"w-1/ border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[f.jsx("option",{value:"",children:"동호회를 선택하세요"}),r.map(V=>f.jsx("option",{value:V.clubId,children:V.name},V.clubId))]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공개 범위"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"visibility",value:"ALL",checked:m==="ALL",onChange:V=>p(V.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"전체 공개"})]}),f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"visibility",value:"MEMBER",checked:m==="MEMBER",onChange:V=>p(V.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"멤버 공개"})]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목"}),f.jsx("input",{value:b,onChange:V=>v(V.target.value),placeholder:"제목을 입력해 주세요",className:"w-full border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"내용"}),f.jsxs("div",{className:"border border-gray-300 rounded",children:[f.jsx("style",{children:`
      .notice-editor-wrapper .ql-container {
        height: 458px !important;
      }
      .notice-editor-wrapper .ql-editor {
        min-height: 100%;
      }
    `}),f.jsx("div",{className:"notice-editor-wrapper",children:f.jsx(qc,{ref:e,theme:"snow",value:x,onChange:O,modules:F,formats:Z,placeholder:"내용을 입력하세요."})})]})]}),E.length>0&&f.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4",children:[f.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"첨부된 이미지"}),f.jsx("div",{className:"grid grid-cols-4 gap-3",children:E.map((V,j)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:V.fileUrl,alt:V.originalFileName||`첨부 ${j+1}`,className:"w-full h-24 object-cover rounded border border-gray-200 bg-gray-100"}),f.jsx("button",{onClick:()=>q(j),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg leading-none",children:"×"})]},j))})]}),f.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[f.jsx("button",{onClick:X,className:"px-6 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"취소"}),f.jsx("button",{onClick:H,className:"px-6 py-2 bg-[#4CA8FF] text-white rounded hover:bg-[#3A8FE6]",children:A?"수정":"등록"})]}),f.jsx(ml,{isOpen:T.isOpen,onClose:()=>D({...T,isOpen:!1}),onConfirm:T.onConfirm,title:T.title,message:T.message,confirmText:"확인",cancelText:"취소",confirmButtonStyle:"primary"}),f.jsx(sn,{isOpen:M.isOpen,onClose:()=>{U({...M,isOpen:!1}),M.onCloseCallback&&M.onCloseCallback()},title:M.title,message:M.message})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function tf(n){return n+.5|0}const Xa=(n,e,t)=>Math.max(Math.min(n,t),e);function ld(n){return Xa(tf(n*2.55),0,255)}function sl(n){return Xa(tf(n*255),0,255)}function Ki(n){return Xa(tf(n/2.55)/100,0,1)}function VA(n){return Xa(tf(n*100),0,100)}const _r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fv=[..."0123456789ABCDEF"],uz=n=>fv[n&15],dz=n=>fv[(n&240)>>4]+fv[n&15],kh=n=>(n&240)>>4===(n&15),fz=n=>kh(n.r)&&kh(n.g)&&kh(n.b)&&kh(n.a);function hz(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&_r[n[1]]*17,g:255&_r[n[2]]*17,b:255&_r[n[3]]*17,a:e===5?_r[n[4]]*17:255}:(e===7||e===9)&&(t={r:_r[n[1]]<<4|_r[n[2]],g:_r[n[3]]<<4|_r[n[4]],b:_r[n[5]]<<4|_r[n[6]],a:e===9?_r[n[7]]<<4|_r[n[8]]:255})),t}const mz=(n,e)=>n<255?e(n):"";function gz(n){var e=fz(n)?uz:dz;return n?"#"+e(n.r)+e(n.g)+e(n.b)+mz(n.a,e):void 0}const pz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _D(n,e,t){const s=e*Math.min(t,1-t),r=(i,l=(i+n/30)%12)=>t-s*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function bz(n,e,t){const s=(r,i=(r+n/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function yz(n,e,t){const s=_D(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)s[r]*=1-e-t,s[r]+=e;return s}function vz(n,e,t,s,r){return n===r?(e-t)/s+(e<t?6:0):e===r?(t-n)/s+2:(n-e)/s+4}function bx(n){const t=n.r/255,s=n.g/255,r=n.b/255,i=Math.max(t,s,r),l=Math.min(t,s,r),c=(i+l)/2;let u,h,m;return i!==l&&(m=i-l,h=c>.5?m/(2-i-l):m/(i+l),u=vz(t,s,r,m,i),u=u*60+.5),[u|0,h||0,c]}function yx(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(sl)}function vx(n,e,t){return yx(_D,n,e,t)}function xz(n,e,t){return yx(yz,n,e,t)}function wz(n,e,t){return yx(bz,n,e,t)}function ND(n){return(n%360+360)%360}function Ez(n){const e=pz.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?ld(+e[5]):sl(+e[5]));const r=ND(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=xz(r,i,l):e[1]==="hsv"?s=wz(r,i,l):s=vx(r,i,l),{r:s[0],g:s[1],b:s[2],a:t}}function Sz(n,e){var t=bx(n);t[0]=ND(t[0]+e),t=vx(t),n.r=t[0],n.g=t[1],n.b=t[2]}function _z(n){if(!n)return;const e=bx(n),t=e[0],s=VA(e[1]),r=VA(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${r}%, ${Ki(n.a)})`:`hsl(${t}, ${s}%, ${r}%)`}const WA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nz(){const n={},e=Object.keys(GA),t=Object.keys(WA);let s,r,i,l,c;for(s=0;s<e.length;s++){for(l=c=e[s],r=0;r<t.length;r++)i=t[r],c=c.replace(i,WA[i]);i=parseInt(GA[l],16),n[c]=[i>>16&255,i>>8&255,i&255]}return n}let Oh;function Az(n){Oh||(Oh=Nz(),Oh.transparent=[0,0,0,0]);const e=Oh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Cz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tz(n){const e=Cz.exec(n);let t=255,s,r,i;if(e){if(e[7]!==s){const l=+e[7];t=e[8]?ld(l):Xa(l*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?ld(s):Xa(s,0,255)),r=255&(e[4]?ld(r):Xa(r,0,255)),i=255&(e[6]?ld(i):Xa(i,0,255)),{r:s,g:r,b:i,a:t}}}function jz(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ki(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const iy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ac=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Rz(n,e,t){const s=ac(Ki(n.r)),r=ac(Ki(n.g)),i=ac(Ki(n.b));return{r:sl(iy(s+t*(ac(Ki(e.r))-s))),g:sl(iy(r+t*(ac(Ki(e.g))-r))),b:sl(iy(i+t*(ac(Ki(e.b))-i))),a:n.a+t*(e.a-n.a)}}function Mh(n,e,t){if(n){let s=bx(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=vx(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function AD(n,e){return n&&Object.assign(e||{},n)}function YA(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=sl(n[3]))):(e=AD(n,{r:0,g:0,b:0,a:1}),e.a=sl(e.a)),e}function Dz(n){return n.charAt(0)==="r"?Tz(n):Ez(n)}class Rd{constructor(e){if(e instanceof Rd)return e;const t=typeof e;let s;t==="object"?s=YA(e):t==="string"&&(s=hz(e)||Az(e)||Dz(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=AD(this._rgb);return e&&(e.a=Ki(e.a)),e}set rgb(e){this._rgb=YA(e)}rgbString(){return this._valid?jz(this._rgb):void 0}hexString(){return this._valid?gz(this._rgb):void 0}hslString(){return this._valid?_z(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,r=e.rgb;let i;const l=t===i?.5:t,c=2*l-1,u=s.a-r.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;i=1-h,s.r=255&h*s.r+i*r.r+.5,s.g=255&h*s.g+i*r.g+.5,s.b=255&h*s.b+i*r.b+.5,s.a=l*s.a+(1-l)*r.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Rz(this._rgb,e._rgb,t)),this}clone(){return new Rd(this.rgb)}alpha(e){return this._rgb.a=sl(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=tf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mh(this._rgb,2,e),this}darken(e){return Mh(this._rgb,2,-e),this}saturate(e){return Mh(this._rgb,1,e),this}desaturate(e){return Mh(this._rgb,1,-e),this}rotate(e){return Sz(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yi(){}const kz=(()=>{let n=0;return()=>n++})();function Qt(n){return n==null}function Fn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Or(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function mi(n,e){return Or(n)?n:e}function Tt(n,e){return typeof n>"u"?e:n}const Oz=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,CD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function an(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qt(n,e,t,s){let r,i,l;if(Fn(n))for(i=n.length,r=0;r<i;r++)e.call(t,n[r],r);else if(jt(n))for(l=Object.keys(n),i=l.length,r=0;r<i;r++)e.call(t,n[l[r]],l[r])}function Tm(n,e){let t,s,r,i;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(r=n[t],i=e[t],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function jm(n){if(Fn(n))return n.map(jm);if(jt(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let r=0;for(;r<s;++r)e[t[r]]=jm(n[t[r]]);return e}return n}function TD(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Mz(n,e,t,s){if(!TD(n))return;const r=e[n],i=t[n];jt(r)&&jt(i)?Dd(r,i,s):e[n]=jm(i)}function Dd(n,e,t){const s=Fn(e)?e:[e],r=s.length;if(!jt(n))return n;t=t||{};const i=t.merger||Mz;let l;for(let c=0;c<r;++c){if(l=s[c],!jt(l))continue;const u=Object.keys(l);for(let h=0,m=u.length;h<m;++h)i(u[h],n,l,t)}return n}function fd(n,e){return Dd(n,e,{merger:Lz})}function Lz(n,e,t){if(!TD(n))return;const s=e[n],r=t[n];jt(s)&&jt(r)?fd(s,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=jm(r))}const XA={"":n=>n,x:n=>n.x,y:n=>n.y};function Iz(n){const e=n.split("."),t=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function Bz(n){const e=Iz(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function lo(n,e){return(XA[e]||(XA[e]=Bz(e)))(n)}function xx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kd=n=>typeof n<"u",ol=n=>typeof n=="function",ZA=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Pz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Zt=Math.PI,Pn=2*Zt,Rm=Number.POSITIVE_INFINITY,Uz=Zt/180,$n=Zt/2,Hl=Zt/4,QA=Zt*2/3,jD=Math.log10,rl=Math.sign;function cm(n,e,t){return Math.abs(n-e)<t}function KA(n){const e=Math.round(n);n=cm(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(jD(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function Hz(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((r,i)=>r-i).pop(),e}function zz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Dm(n){return!zz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function qz(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Fz(n,e,t){let s,r,i;for(s=0,r=n.length;s<r;s++)i=n[s][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ta(n){return n*(Zt/180)}function $z(n){return n*(180/Zt)}function JA(n){if(!Or(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function RD(n,e){const t=e.x-n.x,s=e.y-n.y,r=Math.sqrt(t*t+s*s);let i=Math.atan2(s,t);return i<-.5*Zt&&(i+=Pn),{angle:i,distance:r}}function Vz(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function bi(n){return(n%Pn+Pn)%Pn}function km(n,e,t,s){const r=bi(n),i=bi(e),l=bi(t),c=bi(i-r),u=bi(l-r),h=bi(r-i),m=bi(r-l);return r===i||r===l||s&&i===l||c>u&&h<m}function Fs(n,e,t){return Math.max(e,Math.min(t,n))}function Wz(n){return Fs(n,-32768,32767)}function Xl(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function wx(n,e,t){t=t||(l=>n[l]<e);let s=n.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,t(i)?r=i:s=i;return{lo:r,hi:s}}const hv=(n,e,t,s)=>wx(n,t,s?r=>{const i=n[r][e];return i<t||i===t&&n[r+1][e]===t}:r=>n[r][e]<t),Gz=(n,e,t)=>wx(n,t,s=>n[s][e]>=t);function Yz(n,e,t){let s=0,r=n.length;for(;s<r&&n[s]<e;)s++;for(;r>s&&n[r-1]>t;)r--;return s>0||r<n.length?n.slice(s,r):n}const DD=["push","pop","shift","splice","unshift"];function Xz(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),DD.forEach(t=>{const s="_onData"+xx(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...i){const l=r.apply(this,i);return n._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...i)}),l}})})}function eC(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(DD.forEach(i=>{delete n[i]}),delete n._chartjs)}function kD(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const OD=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function MD(n,e){let t=[],s=!1;return function(...r){t=r,s||(s=!0,OD.call(window,()=>{s=!1,n.apply(e,t)}))}}function Zz(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const Ex=n=>n==="start"?"left":n==="end"?"right":"center",ps=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Qz=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e,Lh=n=>n===0||n===1,tC=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Pn/t)),nC=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Pn/t)+1,hd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$n)+1,easeOutSine:n=>Math.sin(n*$n),easeInOutSine:n=>-.5*(Math.cos(Zt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Lh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Lh(n)?n:tC(n,.075,.3),easeOutElastic:n=>Lh(n)?n:nC(n,.075,.3),easeInOutElastic(n){return Lh(n)?n:n<.5?.5*tC(n*2,.1125,.45):.5+.5*nC(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-hd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?hd.easeInBounce(n*2)*.5:hd.easeOutBounce(n*2-1)*.5+.5};function LD(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sC(n){return LD(n)?n:new Rd(n)}function ay(n){return LD(n)?n:new Rd(n).saturate(.5).darken(.1).hexString()}const Kz=["x","y","borderWidth","radius","tension"],Jz=["color","borderColor","backgroundColor"];function eq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Jz},numbers:{type:"number",properties:Kz}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rC=new Map;function nq(n,e){e=e||{};const t=n+JSON.stringify(e);let s=rC.get(t);return s||(s=new Intl.NumberFormat(n,e),rC.set(t,s)),s}function Sx(n,e,t){return nq(e,t).format(n)}const sq={values(n){return Fn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let r,i=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=rq(n,t)}const l=jD(Math.abs(i)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Sx(n,s,u)}};function rq(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var ID={formatters:sq};function iq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ID.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const oo=Object.create(null),mv=Object.create(null);function md(n,e){if(!e)return n;const t=e.split(".");for(let s=0,r=t.length;s<r;++s){const i=t[s];n=n[i]||(n[i]=Object.create(null))}return n}function ly(n,e,t){return typeof e=="string"?Dd(md(n,e),t):Dd(md(n,""),e)}class aq{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>ay(r.backgroundColor),this.hoverBorderColor=(s,r)=>ay(r.borderColor),this.hoverColor=(s,r)=>ay(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ly(this,e,t)}get(e){return md(this,e)}describe(e,t){return ly(mv,e,t)}override(e,t){return ly(oo,e,t)}route(e,t,s,r){const i=md(this,e),l=md(this,s),c="_"+t;Object.defineProperties(i,{[c]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],h=l[r];return jt(u)?Object.assign({},h,u):Tt(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var kn=new aq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eq,tq,iq]);function lq(n){return!n||Qt(n.size)||Qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function iC(n,e,t,s,r){let i=e[r];return i||(i=e[r]=n.measureText(r).width,t.push(r)),i>s&&(s=i),s}function zl(n,e,t){const s=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*s)/s+r}function aC(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function lC(n,e,t,s){BD(n,e,t,s,null)}function BD(n,e,t,s,r){let i,l,c,u,h,m,p,b;const v=e.pointStyle,x=e.rotation,S=e.radius;let E=(x||0)*Uz;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(E),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),v){default:r?n.ellipse(t,s,r/2,S,0,0,Pn):n.arc(t,s,S,0,Pn),n.closePath();break;case"triangle":m=r?r/2:S,n.moveTo(t+Math.sin(E)*m,s-Math.cos(E)*S),E+=QA,n.lineTo(t+Math.sin(E)*m,s-Math.cos(E)*S),E+=QA,n.lineTo(t+Math.sin(E)*m,s-Math.cos(E)*S),n.closePath();break;case"rectRounded":h=S*.516,u=S-h,l=Math.cos(E+Hl)*u,p=Math.cos(E+Hl)*(r?r/2-h:u),c=Math.sin(E+Hl)*u,b=Math.sin(E+Hl)*(r?r/2-h:u),n.arc(t-p,s-c,h,E-Zt,E-$n),n.arc(t+b,s-l,h,E-$n,E),n.arc(t+p,s+c,h,E,E+$n),n.arc(t-b,s+l,h,E+$n,E+Zt),n.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*S,m=r?r/2:u,n.rect(t-m,s-u,2*m,2*u);break}E+=Hl;case"rectRot":p=Math.cos(E)*(r?r/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,b=Math.sin(E)*(r?r/2:S),n.moveTo(t-p,s-c),n.lineTo(t+b,s-l),n.lineTo(t+p,s+c),n.lineTo(t-b,s+l),n.closePath();break;case"crossRot":E+=Hl;case"cross":p=Math.cos(E)*(r?r/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,b=Math.sin(E)*(r?r/2:S),n.moveTo(t-p,s-c),n.lineTo(t+p,s+c),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"star":p=Math.cos(E)*(r?r/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,b=Math.sin(E)*(r?r/2:S),n.moveTo(t-p,s-c),n.lineTo(t+p,s+c),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l),E+=Hl,p=Math.cos(E)*(r?r/2:S),l=Math.cos(E)*S,c=Math.sin(E)*S,b=Math.sin(E)*(r?r/2:S),n.moveTo(t-p,s-c),n.lineTo(t+p,s+c),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"line":l=r?r/2:Math.cos(E)*S,c=Math.sin(E)*S,n.moveTo(t-l,s-c),n.lineTo(t+l,s+c);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(E)*(r?r/2:S),s+Math.sin(E)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function PD(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function _x(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Nx(n){n.restore()}function oq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Qt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function cq(n,e,t,s,r){if(r.strikethrough||r.underline){const i=n.measureText(s),l=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,u=t-i.actualBoundingBoxAscent,h=t+i.actualBoundingBoxDescent,m=r.strikethrough?(u+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function uq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Od(n,e,t,s,r,i={}){const l=Fn(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(n.save(),n.font=r.string,oq(n,i),u=0;u<l.length;++u)h=l[u],i.backdrop&&uq(n,i.backdrop),c&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),Qt(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(h,t,s,i.maxWidth)),n.fillText(h,t,s,i.maxWidth),cq(n,t,s,h,i),s+=Number(r.lineHeight);n.restore()}function Om(n,e){const{x:t,y:s,w:r,h:i,radius:l}=e;n.arc(t+l.topLeft,s+l.topLeft,l.topLeft,1.5*Zt,Zt,!0),n.lineTo(t,s+i-l.bottomLeft),n.arc(t+l.bottomLeft,s+i-l.bottomLeft,l.bottomLeft,Zt,$n,!0),n.lineTo(t+r-l.bottomRight,s+i),n.arc(t+r-l.bottomRight,s+i-l.bottomRight,l.bottomRight,$n,0,!0),n.lineTo(t+r,s+l.topRight),n.arc(t+r-l.topRight,s+l.topRight,l.topRight,0,-$n,!0),n.lineTo(t+l.topLeft,s)}const dq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hq(n,e){const t=(""+n).match(dq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const mq=n=>+n||0;function Ax(n,e){const t={},s=jt(e),r=s?Object.keys(e):e,i=jt(n)?s?l=>Tt(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=mq(i(l));return t}function UD(n){return Ax(n,{top:"y",right:"x",bottom:"y",left:"x"})}function xc(n){return Ax(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(n){const e=UD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xs(n,e){n=n||{},e=e||kn.font;let t=Tt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Tt(n.style,e.style);s&&!(""+s).match(fq)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Tt(n.family,e.family),lineHeight:hq(Tt(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:Tt(n.weight,e.weight),string:""};return r.string=lq(r),r}function Ih(n,e,t,s){let r,i,l;for(r=0,i=n.length;r<i;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function gq(n,e,t){const{min:s,max:r}=n,i=CD(e,(r-s)/2),l=(c,u)=>t&&c===0?0:c+u;return{min:l(s,-Math.abs(i)),max:l(r,i)}}function Fc(n,e){return Object.assign(Object.create(n),e)}function Cx(n,e=[""],t,s,r=()=>n[0]){const i=t||n;typeof s>"u"&&(s=FD("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:s,_getTarget:r,override:c=>Cx([c,...n],e,i,s)};return new Proxy(l,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return zD(c,u,()=>Sq(u,e,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return cC(c).includes(u)},ownKeys(c){return cC(c)},set(c,u,h){const m=c._storage||(c._storage=r());return c[u]=m[u]=h,delete c._keys,!0}})}function jc(n,e,t,s){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:HD(n,s),setContext:i=>jc(n,i,t,s),override:i=>jc(n.override(i),e,t,s)};return new Proxy(r,{deleteProperty(i,l){return delete i[l],delete n[l],!0},get(i,l,c){return zD(i,l,()=>bq(i,l,c))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(i,l,c){return n[l]=c,delete i[l],!0}})}function HD(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:s,isScriptable:ol(t)?t:()=>t,isIndexable:ol(s)?s:()=>s}}const pq=(n,e)=>n?n+xx(e):e,Tx=(n,e)=>jt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zD(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function bq(n,e,t){const{_proxy:s,_context:r,_subProxy:i,_descriptors:l}=n;let c=s[e];return ol(c)&&l.isScriptable(e)&&(c=yq(e,c,n,t)),Fn(c)&&c.length&&(c=vq(e,c,n,l.isIndexable)),Tx(e,c)&&(c=jc(c,r,i&&i[e],l)),c}function yq(n,e,t,s){const{_proxy:r,_context:i,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=e(i,l||s);return c.delete(n),Tx(n,u)&&(u=jx(r._scopes,r,n,u)),u}function vq(n,e,t,s){const{_proxy:r,_context:i,_subProxy:l,_descriptors:c}=t;if(typeof i.index<"u"&&s(n))return e[i.index%e.length];if(jt(e[0])){const u=e,h=r._scopes.filter(m=>m!==u);e=[];for(const m of u){const p=jx(h,r,n,m);e.push(jc(p,i,l&&l[n],c))}}return e}function qD(n,e,t){return ol(n)?n(e,t):n}const xq=(n,e)=>n===!0?e:typeof n=="string"?lo(e,n):void 0;function wq(n,e,t,s,r){for(const i of e){const l=xq(t,i);if(l){n.add(l);const c=qD(l._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==s)return c}else if(l===!1&&typeof s<"u"&&t!==s)return null}return!1}function jx(n,e,t,s){const r=e._rootScopes,i=qD(e._fallback,t,s),l=[...n,...r],c=new Set;c.add(s);let u=oC(c,l,t,i||t,s);return u===null||typeof i<"u"&&i!==t&&(u=oC(c,l,i,u,s),u===null)?!1:Cx(Array.from(c),[""],r,i,()=>Eq(e,t,s))}function oC(n,e,t,s,r){for(;t;)t=wq(n,e,t,s,r);return t}function Eq(n,e,t){const s=n._getTarget();e in s||(s[e]={});const r=s[e];return Fn(r)&&jt(t)?t:r||{}}function Sq(n,e,t,s){let r;for(const i of e)if(r=FD(pq(i,n),t),typeof r<"u")return Tx(n,r)?jx(t,s,n,r):r}function FD(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function cC(n){let e=n._keys;return e||(e=n._keys=_q(n._scopes)),e}function _q(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function Rx(){return typeof window<"u"&&typeof document<"u"}function Dx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mm(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const vg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Nq(n,e){return vg(n).getPropertyValue(e)}const Aq=["top","right","bottom","left"];function Kl(n,e,t){const s={};t=t?"-"+t:"";for(let r=0;r<4;r++){const i=Aq[r];s[i]=parseFloat(n[e+"-"+i+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Cq=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Tq(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:r,offsetY:i}=s;let l=!1,c,u;if(Cq(r,i,n.target))c=r,u=i;else{const h=e.getBoundingClientRect();c=s.clientX-h.left,u=s.clientY-h.top,l=!0}return{x:c,y:u,box:l}}function Fl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,r=vg(t),i=r.boxSizing==="border-box",l=Kl(r,"padding"),c=Kl(r,"border","width"),{x:u,y:h,box:m}=Tq(n,t),p=l.left+(m&&c.left),b=l.top+(m&&c.top);let{width:v,height:x}=e;return i&&(v-=l.width+c.width,x-=l.height+c.height),{x:Math.round((u-p)/v*t.width/s),y:Math.round((h-b)/x*t.height/s)}}function jq(n,e,t){let s,r;if(e===void 0||t===void 0){const i=n&&Dx(n);if(!i)e=n.clientWidth,t=n.clientHeight;else{const l=i.getBoundingClientRect(),c=vg(i),u=Kl(c,"border","width"),h=Kl(c,"padding");e=l.width-h.width-u.width,t=l.height-h.height-u.height,s=Mm(c.maxWidth,i,"clientWidth"),r=Mm(c.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:s||Rm,maxHeight:r||Rm}}const Za=n=>Math.round(n*10)/10;function Rq(n,e,t,s){const r=vg(n),i=Kl(r,"margin"),l=Mm(r.maxWidth,n,"clientWidth")||Rm,c=Mm(r.maxHeight,n,"clientHeight")||Rm,u=jq(n,e,t);let{width:h,height:m}=u;if(r.boxSizing==="content-box"){const b=Kl(r,"border","width"),v=Kl(r,"padding");h-=v.width+b.width,m-=v.height+b.height}return h=Math.max(0,h-i.width),m=Math.max(0,s?h/s:m-i.height),h=Za(Math.min(h,l,u.maxWidth)),m=Za(Math.min(m,c,u.maxHeight)),h&&!m&&(m=Za(h/2)),(e!==void 0||t!==void 0)&&s&&u.height&&m>u.height&&(m=u.height,h=Za(Math.floor(m*s))),{width:h,height:m}}function uC(n,e,t){const s=e||1,r=Za(n.height*s),i=Za(n.width*s);n.height=Za(n.height),n.width=Za(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||l.height!==r||l.width!==i?(n.currentDevicePixelRatio=s,l.height=r,l.width=i,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Dq=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Rx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function dC(n,e){const t=Nq(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const kq=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},Oq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function wc(n,e,t){return n?kq(e,t):Oq()}function $D(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function VD(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Bh(n,e,t){return n.options.clip?n[t]:e[t]}function Mq(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:Bh(t,e,"left"),right:Bh(t,e,"right"),top:Bh(s,e,"top"),bottom:Bh(s,e,"bottom")}:e}function Lq(n,e){const t=e._clip;if(t.disabled)return!1;const s=Mq(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Iq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,r){const i=t.listeners[r],l=t.duration;i.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(s-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=OD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let l=i.length-1,c=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(e),c=!0):(i[l]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zi=new Iq;const fC="transparent",Bq={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=sC(n||fC),r=s.valid&&sC(e||fC);return r&&r.valid?r.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Pq{constructor(e,t,s,r){const i=t[s];r=Ih([e.to,r,i,e.from]);const l=Ih([e.from,i,r]);this._active=!0,this._fn=e.fn||Bq[e.type||typeof l],this._easing=hd[e.easing]||hd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,l=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ih([e.to,t,r,e.from]),this._from=Ih([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,r=this._prop,i=this._from,l=this._loop,c=this._to;let u;if(this._active=i!==c&&(l||t<s),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=i;return}u=t/s%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(i,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][t]()}}class WD{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!jt(e))return;const t=Object.keys(kn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!jt(i))return;const l={};for(const c of t)l[c]=i[c];(Fn(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!s.has(c))&&s.set(c,l)})})}_animateOptions(e,t){const s=t.options,r=Hq(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&Uq(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,t){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const h=l[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[h];let p=i[h];const b=s.get(h);if(p)if(b&&p.active()){p.update(b,m,c);continue}else p.cancel();if(!b||!b.duration){e[h]=m;continue}i[h]=p=new Pq(b,e,h,m),r.push(p)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return Zi.add(this._chart,s),!0}}function Uq(n,e){const t=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=n[s[r]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function Hq(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hC(n,e){const t=n&&n.options||{},s=t.reverse,r=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function zq(n,e,t){if(t===!1)return!1;const s=hC(n,t),r=hC(e,t);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function qq(n){let e,t,s,r;return jt(n)?(e=n.top,t=n.right,s=n.bottom,r=n.left):e=t=s=r=n,{top:e,right:t,bottom:s,left:r,disabled:n===!1}}function GD(n,e){const t=[],s=n._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)t.push(s[r].index);return t}function mC(n,e,t,s={}){const r=n.keys,i=s.mode==="single";let l,c,u,h;if(e===null)return;let m=!1;for(l=0,c=r.length;l<c;++l){if(u=+r[l],u===t){if(m=!0,s.all)continue;break}h=n.values[u],Or(h)&&(i||e===0||rl(e)===rl(h))&&(e+=h)}return!m&&!s.all?0:e}function Fq(n,e){const{iScale:t,vScale:s}=e,r=t.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let u,h,m;for(u=0,h=l.length;u<h;++u)m=l[u],c[u]={[r]:m,[i]:n[m]};return c}function oy(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function $q(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Vq(n){const{min:e,max:t,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function Wq(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function gC(n,e,t,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=n[r.index];if(t&&i>0||!t&&i<0)return r.index}return null}function pC(n,e){const{chart:t,_cachedMeta:s}=n,r=t._stacks||(t._stacks={}),{iScale:i,vScale:l,index:c}=s,u=i.axis,h=l.axis,m=$q(i,l,s),p=e.length;let b;for(let v=0;v<p;++v){const x=e[v],{[u]:S,[h]:E}=x,N=x._stacks||(x._stacks={});b=N[h]=Wq(r,m,S),b[c]=E,b._top=gC(b,l,!0,s.type),b._bottom=gC(b,l,!1,s.type);const A=b._visualValues||(b._visualValues={});A[c]=E}}function cy(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function Gq(n,e){return Fc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yq(n,e,t){return Fc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Qu(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][t]===void 0)return;delete i[s][t],i[s]._visualValues!==void 0&&i[s]._visualValues[t]!==void 0&&delete i[s]._visualValues[t]}}}const uy=n=>n==="reset"||n==="none",bC=(n,e)=>e?n:Object.assign({},n),Xq=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:GD(t,!0),values:null};class kx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=oy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),r=(p,b,v,x)=>p==="x"?b:p==="r"?x:v,i=t.xAxisID=Tt(s.xAxisID,cy(e,"x")),l=t.yAxisID=Tt(s.yAxisID,cy(e,"y")),c=t.rAxisID=Tt(s.rAxisID,cy(e,"r")),u=t.indexAxis,h=t.iAxisID=r(u,i,l,c),m=t.vAxisID=r(u,l,i,c);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&eC(this._data,this),e._stacked&&Qu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(jt(t)){const r=this._cachedMeta;this._data=Fq(t,r)}else if(s!==t){if(s){eC(s,this);const r=this._cachedMeta;Qu(r),r._parsed=[]}t&&Object.isExtensible(t)&&Xz(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=oy(t.vScale,t),t.stack!==s.stack&&(r=!0,Qu(t),t.stack=s.stack),this._resyncElements(e),(r||i!==t._stacked)&&(pC(this,t._parsed),t._stacked=oy(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:l}=s,c=i.axis;let u=e===0&&t===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],m,p,b;if(this._parsing===!1)s._parsed=r,s._sorted=!0,b=r;else{Fn(r[e])?b=this.parseArrayData(s,r,e,t):jt(r[e])?b=this.parseObjectData(s,r,e,t):b=this.parsePrimitiveData(s,r,e,t);const v=()=>p[c]===null||h&&p[c]<h[c];for(m=0;m<t;++m)s._parsed[m+e]=p=b[m],u&&(v()&&(u=!1),h=p);s._sorted=u}l&&pC(this,b)}parsePrimitiveData(e,t,s,r){const{iScale:i,vScale:l}=e,c=i.axis,u=l.axis,h=i.getLabels(),m=i===l,p=new Array(r);let b,v,x;for(b=0,v=r;b<v;++b)x=b+s,p[b]={[c]:m||i.parse(h[x],x),[u]:l.parse(t[x],x)};return p}parseArrayData(e,t,s,r){const{xScale:i,yScale:l}=e,c=new Array(r);let u,h,m,p;for(u=0,h=r;u<h;++u)m=u+s,p=t[m],c[u]={x:i.parse(p[0],m),y:l.parse(p[1],m)};return c}parseObjectData(e,t,s,r){const{xScale:i,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let m,p,b,v;for(m=0,p=r;m<p;++m)b=m+s,v=t[b],h[m]={x:i.parse(lo(v,c),b),y:l.parse(lo(v,u),b)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const r=this.chart,i=this._cachedMeta,l=t[e.axis],c={keys:GD(r,!0),values:t._stacks[e.axis]._visualValues};return mC(c,l,i.index,{mode:s})}updateRangeFromParsed(e,t,s,r){const i=s[t.axis];let l=i===null?NaN:i;const c=r&&s._stacks[t.axis];r&&c&&(r.values=c,l=mC(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,l=r.length,c=this._getOtherScale(e),u=Xq(t,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=Vq(c);let b,v;function x(){v=r[b];const S=v[c.axis];return!Or(v[e.axis])||m>S||p<S}for(b=0;b<l&&!(!x()&&(this.updateRangeFromParsed(h,e,v,u),i));++b);if(i){for(b=l-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(h,e,v,u);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let r,i,l;for(r=0,i=t.length;r<i;++r)l=t[r][e.axis],Or(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=qq(Tt(this.options.clip,zq(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,r=s.data||[],i=t.chartArea,l=[],c=this._drawStart||0,u=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,i,c,u),m=c;m<c+u;++m){const p=r[m];p.hidden||(p.active&&h?l.push(p):p.draw(e,i))}for(m=0;m<l.length;++m)l[m].draw(e,i)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=Yq(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Gq(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const r=t==="active",i=this._cachedDataOpts,l=e+"-"+t,c=i[l],u=this.enableOptionSharing&&kd(s);if(c)return bC(c,u);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],b=h.getOptionScopes(this.getDataset(),m),v=Object.keys(kn.elements[e]),x=()=>this.getContext(s,r,t),S=h.resolveNamedOptions(b,v,x,p);return S.$shared&&(S.$shared=u,i[l]=Object.freeze(bC(S,u))),S}_resolveAnimations(e,t,s){const r=this.chart,i=this._cachedDataOpts,l=`animation-${t}`,c=i[l];if(c)return c;let u;if(r.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,t),b=m.getOptionScopes(this.getDataset(),p);u=m.createResolver(b,this.getContext(e,s,t))}const h=new WD(r,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||uy(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(s),l=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,s),{sharedOptions:i,includeOptions:l}}updateElement(e,t,s,r){uy(r)?Object.assign(e,s):this._resolveAnimations(t,r).update(e,s)}updateSharedOptions(e,t,s){e&&!uy(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const r=s.length,i=t.length,l=Math.min(i,r);l&&this.parse(0,l),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,s=!0){const r=this._cachedMeta,i=r.data,l=e+t;let c;const u=h=>{for(h.length+=t,c=h.length-1;c>=l;c--)h[c]=h[c-t]};for(u(i),c=e;c<l;++c)i[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,t),s&&this.updateElements(i,e,t,"reset")}updateElements(e,t,s,r){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,t);s._stacked&&Qu(s,r)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,r]=e;this[t](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zq(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=t.length;r<i;r++)s=s.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=kD(s.sort((r,i)=>r-i))}return n._cache.$bar}function Qq(n){const e=n.iScale,t=Zq(e,n.type);let s=e._length,r,i,l,c;const u=()=>{l===32767||l===-32768||(kd(c)&&(s=Math.min(s,Math.abs(l-c)||s)),c=l)};for(r=0,i=t.length;r<i;++r)l=e.getPixelForValue(t[r]),u();for(c=void 0,r=0,i=e.ticks.length;r<i;++r)l=e.getPixelForTick(r),u();return s}function Kq(n,e,t,s){const r=t.barThickness;let i,l;return Qt(r)?(i=e.min*t.categoryPercentage,l=t.barPercentage):(i=r*s,l=1),{chunk:i/s,ratio:l,start:e.pixels[n]-i/2}}function Jq(n,e,t,s){const r=e.pixels,i=r[n];let l=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=t.categoryPercentage;l===null&&(l=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-l);const h=i-(i-Math.min(l,c))/2*u;return{chunk:Math.abs(c-l)/2*u/s,ratio:t.barPercentage,start:h}}function eF(n,e,t,s){const r=t.parse(n[0],s),i=t.parse(n[1],s),l=Math.min(r,i),c=Math.max(r,i);let u=l,h=c;Math.abs(l)>Math.abs(c)&&(u=c,h=l),e[t.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:i,min:l,max:c}}function YD(n,e,t,s){return Fn(n)?eF(n,e,t,s):e[t.axis]=t.parse(n,s),e}function yC(n,e,t,s){const r=n.iScale,i=n.vScale,l=r.getLabels(),c=r===i,u=[];let h,m,p,b;for(h=t,m=t+s;h<m;++h)b=e[h],p={},p[r.axis]=c||r.parse(l[h],h),u.push(YD(b,p,i,h));return u}function dy(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tF(n,e,t){return n!==0?rl(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nF(n){let e,t,s,r,i;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:t,end:s,reverse:e,top:r,bottom:i}}function sF(n,e,t,s){let r=e.borderSkipped;const i={};if(!r){n.borderSkipped=i;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:u,top:h,bottom:m}=nF(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?r=h:(t._bottom||0)===s?r=m:(i[vC(m,l,c,u)]=!0,r=h)),i[vC(r,l,c,u)]=!0,n.borderSkipped=i}function vC(n,e,t,s){return s?(n=rF(n,e,t),n=xC(n,t,e)):n=xC(n,e,t),n}function rF(n,e,t){return n===e?t:n===t?e:n}function xC(n,e,t){return n==="start"?e:n==="end"?t:n}function iF(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class aF extends kx{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,r){return yC(e,t,s,r)}parseArrayData(e,t,s,r){return yC(e,t,s,r)}parseObjectData(e,t,s,r){const{iScale:i,vScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?c:u,m=l.axis==="x"?c:u,p=[];let b,v,x,S;for(b=s,v=s+r;b<v;++b)S=t[b],x={},x[i.axis]=i.parse(lo(S,h),b),p.push(YD(lo(S,m),x,l,b));return p}updateRangeFromParsed(e,t,s,r){super.updateRangeFromParsed(e,t,s,r);const i=s._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:r}=t,i=this.getParsed(e),l=i._custom,c=dy(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,r){const i=r==="reset",{index:l,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),m=this._getRuler(),{sharedOptions:p,includeOptions:b}=this._getSharedOptions(t,r);for(let v=t;v<t+s;v++){const x=this.getParsed(v),S=i||Qt(x[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),E=this._calculateBarIndexPixels(v,m),N=(x._stacks||{})[c.axis],A={horizontal:h,base:S.base,enableBorderRadius:!N||dy(x._custom)||l===N._top||l===N._bottom,x:h?S.head:E.center,y:h?E.center:S.head,height:h?E.size:Math.abs(S.size),width:h?Math.abs(S.size):E.size};b&&(A.options=p||this.resolveDataElementOptions(v,e[v].active?"active":r));const R=A.options||e[v].options;sF(A,R,N,l),iF(A,R,m.ratio),this.updateElement(e[v],v,A,r)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=s.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),u=c&&c[s.axis],h=m=>{const p=m._parsed.find(v=>v[s.axis]===u),b=p&&p[m.vScale.axis];if(Qt(b)||isNaN(b))return!0};for(const m of r)if(!(t!==void 0&&h(m))&&((i===!1||l.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Tt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const r=this._getStacks(e,s),i=t!==void 0?r.indexOf(t):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,r=[];let i,l;for(i=0,l=t.data.length;i<l;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const c=e.barThickness;return{min:c||Qq(t),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:r},options:{base:i,minBarLength:l}}=this,c=i||0,u=this.getParsed(e),h=u._custom,m=dy(h);let p=u[t.axis],b=0,v=s?this.applyStack(t,u,s):p,x,S;v!==p&&(b=v-p,v=p),m&&(p=h.barStart,v=h.barEnd-h.barStart,p!==0&&rl(p)!==rl(h.barEnd)&&(b=0),b+=p);const E=!Qt(i)&&!m?i:b;let N=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?x=t.getPixelForValue(b+v):x=N,S=x-N,Math.abs(S)<l){S=tF(S,t,c)*l,p===c&&(N-=S/2);const A=t.getPixelForDecimal(0),R=t.getPixelForDecimal(1),T=Math.min(A,R),D=Math.max(A,R);N=Math.max(Math.min(N,D),T),x=N+S,s&&!m&&(u._stacks[t.axis]._visualValues[r]=t.getValueForPixel(x)-t.getValueForPixel(N))}if(N===t.getPixelForValue(c)){const A=rl(S)*t.getLineWidthForValue(c)/2;N+=A,S-=A}return{size:S,base:N,head:x,center:x+S/2}}_calculateBarIndexPixels(e,t){const s=t.scale,r=this.options,i=r.skipNull,l=Tt(r.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(t.grouped){const m=i?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?Jq(e,t,r,m*h):Kq(e,t,r,m*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Tt(b,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+v;c=p.start+p.chunk*x+p.chunk/2,u=Math.min(l,p.chunk*p.ratio)}else c=s.getPixelForValue(this.getParsed(e)[s.axis],e),u=Math.min(l,t.min*t.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[t.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}function lF(n,e,t){let s=1,r=1,i=0,l=0;if(e<Pn){const c=n,u=c+e,h=Math.cos(c),m=Math.sin(c),p=Math.cos(u),b=Math.sin(u),v=(R,T,D)=>km(R,c,u,!0)?1:Math.max(T,T*t,D,D*t),x=(R,T,D)=>km(R,c,u,!0)?-1:Math.min(T,T*t,D,D*t),S=v(0,h,p),E=v($n,m,b),N=x(Zt,h,p),A=x(Zt+$n,m,b);s=(S-N)/2,r=(E-A)/2,i=-(S+N)/2,l=-(E+A)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:l}}class XD extends kx{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:r,color:i,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((u,h)=>{const p=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:p.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:r,pointStyle:s,borderRadius:l&&(c||p.borderRadius),index:h}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=u=>+s[u];if(jt(s[e])){const{key:u="value"}=this._parsing;i=h=>+lo(s[h],u)}let l,c;for(l=e,c=e+t;l<c;++l)r._parsed[l]=i(l)}}_getRotation(){return ta(this.options.rotation-90)}_getCircumference(){return ta(this.options.circumference)}_getRotationExtents(){let e=Pn,t=-Pn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),l=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,r=this._cachedMeta,i=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-l)/2,0),u=Math.min(Oz(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:m,rotation:p}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:x,offsetY:S}=lF(p,m,u),E=(s.width-l)/b,N=(s.height-l)/v,A=Math.max(Math.min(E,N)/2,0),R=CD(this.options.radius,A),T=Math.max(R*u,0),D=(R-T)/this._getVisibleDatasetWeightTotal();this.offsetX=x*R,this.offsetY=S*R,r.total=this.calculateTotal(),this.outerRadius=R-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Pn)}updateElements(e,t,s,r){const i=r==="reset",l=this.chart,c=l.chartArea,h=l.options.animation,m=(c.left+c.right)/2,p=(c.top+c.bottom)/2,b=i&&h.animateScale,v=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:S,includeOptions:E}=this._getSharedOptions(t,r);let N=this._getRotation(),A;for(A=0;A<t;++A)N+=this._circumference(A,i);for(A=t;A<t+s;++A){const R=this._circumference(A,i),T=e[A],D={x:m+this.offsetX,y:p+this.offsetY,startAngle:N,endAngle:N+R,circumference:R,outerRadius:x,innerRadius:v};E&&(D.options=S||this.resolveDataElementOptions(A,T.active?"active":r)),N+=R,this.updateElement(T,A,D,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,r;for(r=0;r<t.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Pn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Sx(t._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const s=this.chart;let r,i,l,c,u;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){l=s.getDatasetMeta(r),e=l.data,c=l.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Tt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class oF extends XD{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ql(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ox{static override(e){Object.assign(Ox.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ql()}parse(){return ql()}format(){return ql()}add(){return ql()}diff(){return ql()}startOf(){return ql()}endOf(){return ql()}}var cF={_date:Ox};function uF(n,e,t,s){const{controller:r,data:i,_sorted:l}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&i.length){const h=c._reversePixels?Gz:hv;if(s){if(r._sharedOptions){const m=i[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){const b=h(i,e,t-p),v=h(i,e,t+p);return{lo:b.lo,hi:v.hi}}}}else{const m=h(i,e,t);if(u){const{vScale:p}=r._cachedMeta,{_parsed:b}=n,v=b.slice(0,m.lo+1).reverse().findIndex(S=>!Qt(S[p.axis]));m.lo-=Math.max(0,v);const x=b.slice(m.hi).findIndex(S=>!Qt(S[p.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:i.length-1}}function xg(n,e,t,s,r){const i=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,u=i.length;c<u;++c){const{index:h,data:m}=i[c],{lo:p,hi:b}=uF(i[c],e,l,r);for(let v=p;v<=b;++v){const x=m[v];x.skip||s(x,h,v)}}}function dF(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,l=t?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function fy(n,e,t,s,r){const i=[];return!r&&!n.isPointInArea(e)||xg(n,t,e,function(c,u,h){!r&&!PD(c,n.chartArea,0)||c.inRange(e.x,e.y,s)&&i.push({element:c,datasetIndex:u,index:h})},!0),i}function fF(n,e,t,s){let r=[];function i(l,c,u){const{startAngle:h,endAngle:m}=l.getProps(["startAngle","endAngle"],s),{angle:p}=RD(l,{x:e.x,y:e.y});km(p,h,m)&&r.push({element:l,datasetIndex:c,index:u})}return xg(n,t,e,i),r}function hF(n,e,t,s,r,i){let l=[];const c=dF(t);let u=Number.POSITIVE_INFINITY;function h(m,p,b){const v=m.inRange(e.x,e.y,r);if(s&&!v)return;const x=m.getCenterPoint(r);if(!(!!i||n.isPointInArea(x))&&!v)return;const E=c(e,x);E<u?(l=[{element:m,datasetIndex:p,index:b}],u=E):E===u&&l.push({element:m,datasetIndex:p,index:b})}return xg(n,t,e,h),l}function hy(n,e,t,s,r,i){return!i&&!n.isPointInArea(e)?[]:t==="r"&&!s?fF(n,e,t,r):hF(n,e,t,s,r,i)}function wC(n,e,t,s,r){const i=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return xg(n,t,e,(u,h,m)=>{u[l]&&u[l](e[t],r)&&(i.push({element:u,datasetIndex:h,index:m}),c=c||u.inRange(e.x,e.y,r))}),s&&!c?[]:i}var mF={modes:{index(n,e,t,s){const r=Fl(e,n),i=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?fy(n,r,i,s,l):hy(n,r,i,!1,s,l),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,p=h.data[m];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:m})}),u):[]},dataset(n,e,t,s){const r=Fl(e,n),i=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?fy(n,r,i,s,l):hy(n,r,i,!1,s,l);if(c.length>0){const u=c[0].datasetIndex,h=n.getDatasetMeta(u).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:u,index:m})}return c},point(n,e,t,s){const r=Fl(e,n),i=t.axis||"xy",l=t.includeInvisible||!1;return fy(n,r,i,s,l)},nearest(n,e,t,s){const r=Fl(e,n),i=t.axis||"xy",l=t.includeInvisible||!1;return hy(n,r,i,t.intersect,s,l)},x(n,e,t,s){const r=Fl(e,n);return wC(n,r,"x",t.intersect,s)},y(n,e,t,s){const r=Fl(e,n);return wC(n,r,"y",t.intersect,s)}}};const ZD=["left","top","right","bottom"];function Ku(n,e){return n.filter(t=>t.pos===e)}function EC(n,e){return n.filter(t=>ZD.indexOf(t.pos)===-1&&t.box.axis===e)}function Ju(n,e){return n.sort((t,s)=>{const r=e?s:t,i=e?t:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function gF(n){const e=[];let t,s,r,i,l,c;for(t=0,s=(n||[]).length;t<s;++t)r=n[t],{position:i,options:{stack:l,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&i+l,stackWeight:c});return e}function pF(n){const e={};for(const t of n){const{stack:s,pos:r,stackWeight:i}=t;if(!s||!ZD.includes(r))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function bF(n,e){const t=pF(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,l,c;for(i=0,l=n.length;i<l;++i){c=n[i];const{fullSize:u}=c.box,h=t[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*s:u&&e.availableWidth,c.height=r):(c.width=s,c.height=m?m*r:u&&e.availableHeight)}return t}function yF(n){const e=gF(n),t=Ju(e.filter(h=>h.box.fullSize),!0),s=Ju(Ku(e,"left"),!0),r=Ju(Ku(e,"right")),i=Ju(Ku(e,"top"),!0),l=Ju(Ku(e,"bottom")),c=EC(e,"x"),u=EC(e,"y");return{fullSize:t,leftAndTop:s.concat(i),rightAndBottom:r.concat(u).concat(l).concat(c),chartArea:Ku(e,"chartArea"),vertical:s.concat(r).concat(u),horizontal:i.concat(l).concat(c)}}function SC(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function QD(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function vF(n,e,t,s){const{pos:r,box:i}=t,l=n.maxPadding;if(!jt(r)){t.size&&(n[r]-=t.size);const p=s[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?i.height:i.width),t.size=p.size/p.count,n[r]+=t.size}i.getPadding&&QD(l,i.getPadding());const c=Math.max(0,e.outerWidth-SC(l,n,"left","right")),u=Math.max(0,e.outerHeight-SC(l,n,"top","bottom")),h=c!==n.w,m=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:h,other:m}:{same:m,other:h}}function xF(n){const e=n.maxPadding;function t(s){const r=Math.max(e[s]-n[s],0);return n[s]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function wF(n,e){const t=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{i[l]=Math.max(e[l],t[l])}),i}return s(n?["left","right"]:["top","bottom"])}function od(n,e,t,s){const r=[];let i,l,c,u,h,m;for(i=0,l=n.length,h=0;i<l;++i){c=n[i],u=c.box,u.update(c.width||e.w,c.height||e.h,wF(c.horizontal,e));const{same:p,other:b}=vF(e,t,c,s);h|=p&&r.length,m=m||b,u.fullSize||r.push(c)}return h&&od(r,e,t,s)||m}function Ph(n,e,t,s,r){n.top=t,n.left=e,n.right=e+s,n.bottom=t+r,n.width=s,n.height=r}function _C(n,e,t,s){const r=t.padding;let{x:i,y:l}=e;for(const c of n){const u=c.box,h=s[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const p=e.w*m,b=h.size||u.height;kd(h.start)&&(l=h.start),u.fullSize?Ph(u,r.left,l,t.outerWidth-r.right-r.left,b):Ph(u,e.left+h.placed,l,p,b),h.start=l,h.placed+=p,l=u.bottom}else{const p=e.h*m,b=h.size||u.width;kd(h.start)&&(i=h.start),u.fullSize?Ph(u,i,r.top,b,t.outerHeight-r.bottom-r.top):Ph(u,i,e.top+h.placed,b,p),h.start=i,h.placed+=p,i=u.right}}e.x=i,e.y=l}var Rr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const r=Mr(n.options.layout.padding),i=Math.max(e-r.width,0),l=Math.max(t-r.height,0),c=yF(n.boxes),u=c.vertical,h=c.horizontal;qt(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const m=u.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/m,hBoxMaxHeight:l/2}),b=Object.assign({},r);QD(b,Mr(s));const v=Object.assign({maxPadding:b,w:i,h:l,x:r.left,y:r.top},r),x=bF(u.concat(h),p);od(c.fullSize,v,p,x),od(u,v,p,x),od(h,v,p,x)&&od(u,v,p,x),xF(v),_C(c.leftAndTop,v,p,x),v.x+=v.w,v.y+=v.h,_C(c.rightAndBottom,v,p,x),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},qt(c.chartArea,S=>{const E=S.box;Object.assign(E,n.chartArea),E.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class KD{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,r){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):s)}}isAttached(e){return!0}updateConfig(e){}}class EF extends KD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const um="$chartjs",SF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NC=n=>n===null||n==="";function _F(n,e){const t=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[um]={initial:{height:s,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",NC(r)){const i=dC(n,"width");i!==void 0&&(n.width=i)}if(NC(s))if(n.style.height==="")n.height=n.width/(e||2);else{const i=dC(n,"height");i!==void 0&&(n.height=i)}return n}const JD=Dq?{passive:!0}:!1;function NF(n,e,t){n&&n.addEventListener(e,t,JD)}function AF(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,JD)}function CF(n,e){const t=SF[n.type]||n.type,{x:s,y:r}=Fl(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Lm(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function TF(n,e,t){const s=n.canvas,r=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||Lm(c.addedNodes,s),l=l&&!Lm(c.removedNodes,s);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function jF(n,e,t){const s=n.canvas,r=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||Lm(c.removedNodes,s),l=l&&!Lm(c.addedNodes,s);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Md=new Map;let AC=0;function ek(){const n=window.devicePixelRatio;n!==AC&&(AC=n,Md.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function RF(n,e){Md.size||window.addEventListener("resize",ek),Md.set(n,e)}function DF(n){Md.delete(n),Md.size||window.removeEventListener("resize",ek)}function kF(n,e,t){const s=n.canvas,r=s&&Dx(s);if(!r)return;const i=MD((c,u)=>{const h=r.clientWidth;t(c,u),h<r.clientWidth&&t()},window),l=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,m=u.contentRect.height;h===0&&m===0||i(h,m)});return l.observe(r),RF(n,i),l}function my(n,e,t){t&&t.disconnect(),e==="resize"&&DF(n)}function OF(n,e,t){const s=n.canvas,r=MD(i=>{n.ctx!==null&&t(CF(i,n))},n);return NF(s,e,r),r}class MF extends KD{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(_F(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[um])return!1;const s=t[um].initial;["height","width"].forEach(i=>{const l=s[i];Qt(l)?t.removeAttribute(i):t.setAttribute(i,l)});const r=s.style||{};return Object.keys(r).forEach(i=>{t.style[i]=r[i]}),t.width=t.width,delete t[um],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:TF,detach:jF,resize:kF}[t]||OF;r[t]=l(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),r=s[t];if(!r)return;({attach:my,detach:my,resize:my}[t]||AF)(e,t,r),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,r){return Rq(e,t,s,r)}isAttached(e){const t=e&&Dx(e);return!!(t&&t.isConnected)}}function LF(n){return!Rx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?EF:MF}let vo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Dm(this.x)&&Dm(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}};function IF(n,e){const t=n.options.ticks,s=BF(n),r=Math.min(t.maxTicksLimit||s,s),i=t.major.enabled?UF(e):[],l=i.length,c=i[0],u=i[l-1],h=[];if(l>r)return HF(e,h,i,l/r),h;const m=PF(i,e,r);if(l>0){let p,b;const v=l>1?Math.round((u-c)/(l-1)):null;for(Uh(e,h,m,Qt(v)?0:c-v,c),p=0,b=l-1;p<b;p++)Uh(e,h,m,i[p],i[p+1]);return Uh(e,h,m,u,Qt(v)?e.length:u+v),h}return Uh(e,h,m),h}function BF(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(s,r))}function PF(n,e,t){const s=zF(n),r=e.length/t;if(!s)return Math.max(r,1);const i=Hz(s);for(let l=0,c=i.length-1;l<c;l++){const u=i[l];if(u>r)return u}return Math.max(r,1)}function UF(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function HF(n,e,t,s){let r=0,i=t[0],l;for(s=Math.ceil(s),l=0;l<n.length;l++)l===i&&(e.push(n[l]),r++,i=t[r*s])}function Uh(n,e,t,s,r){const i=Tt(s,0),l=Math.min(Tt(r,n.length),n.length);let c=0,u,h,m;for(t=Math.ceil(t),r&&(u=r-s,t=u/Math.floor(u/t)),m=i;m<0;)c++,m=Math.round(i+c*t);for(h=Math.max(i,0);h<l;h++)h===m&&(e.push(n[h]),c++,m=Math.round(i+c*t))}function zF(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const qF=n=>n==="left"?"right":n==="right"?"left":n,CC=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,TC=(n,e)=>Math.min(e||n,n);function jC(n,e){const t=[],s=n.length/e,r=n.length;let i=0;for(;i<r;i+=s)t.push(n[Math.floor(i)]);return t}function FF(n,e,t){const s=n.ticks.length,r=Math.min(e,s-1),i=n._startPixel,l=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),h;if(!(t&&(s===1?h=Math.max(u-i,l-u):e===0?h=(n.getPixelForTick(1)-u)/2:h=(u-n.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<i-c||u>l+c)))return u}function $F(n,e){qt(n,t=>{const s=t.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[s[i]];s.splice(0,r)}})}function ed(n){return n.drawTicks?n.tickLength:0}function RC(n,e){if(!n.display)return 0;const t=xs(n.font,e),s=Mr(n.padding);return(Fn(n.text)?n.text.length:1)*t.lineHeight+s.height}function VF(n,e){return Fc(n,{scale:e,type:"scale"})}function WF(n,e,t){return Fc(n,{tick:t,index:e,type:"tick"})}function GF(n,e,t){let s=Ex(n);return(t&&e!=="right"||!t&&e==="right")&&(s=qF(s)),s}function YF(n,e,t,s){const{top:r,left:i,bottom:l,right:c,chart:u}=n,{chartArea:h,scales:m}=u;let p=0,b,v,x;const S=l-r,E=c-i;if(n.isHorizontal()){if(v=ps(s,i,c),jt(t)){const N=Object.keys(t)[0],A=t[N];x=m[N].getPixelForValue(A)+S-e}else t==="center"?x=(h.bottom+h.top)/2+S-e:x=CC(n,t,e);b=c-i}else{if(jt(t)){const N=Object.keys(t)[0],A=t[N];v=m[N].getPixelForValue(A)-E+e}else t==="center"?v=(h.left+h.right)/2-E+e:v=CC(n,t,e);x=ps(s,l,r),p=t==="left"?-$n:$n}return{titleX:v,titleY:x,maxWidth:b,rotation:p}}class $c extends vo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:r}=this;return e=mi(e,Number.POSITIVE_INFINITY),t=mi(t,Number.NEGATIVE_INFINITY),s=mi(s,Number.POSITIVE_INFINITY),r=mi(r,Number.NEGATIVE_INFINITY),{min:mi(e,s),max:mi(t,r),minDefined:Or(e),maxDefined:Or(t)}}getMinMax(e){let{min:t,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),l;if(r&&i)return{min:t,max:s};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)l=c[u].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),i||(s=Math.max(s,l.max));return t=i&&t>s?s:t,s=r&&t>s?t:s,{min:mi(t,mi(s,t)),max:mi(s,mi(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:r,grace:i,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gq(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?jC(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=IF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),an(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=an(t.callback,[i.value,s,e],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=TC(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let l=r,c,u,h;if(!this._isVisible()||!t.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),p=m.widest.width,b=m.highest.height,v=Fs(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/s:v/(s-1),p+6>c&&(c=v/(s-(e.offset?.5:1)),u=this.maxHeight-ed(e.grid)-t.padding-RC(e.title,this.chart.options.font),h=Math.sqrt(p*p+b*b),l=$z(Math.min(Math.asin(Fs((m.highest.height+6)/c,-1,1)),Math.asin(Fs(u/h,-1,1))-Math.asin(Fs(b/h,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:r,grid:i}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=RC(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=ed(i)+u):(e.height=this.maxHeight,e.width=ed(i)+u),s.display&&this.ticks.length){const{first:h,last:m,widest:p,highest:b}=this._getLabelSizes(),v=s.padding*2,x=ta(this.labelRotation),S=Math.cos(x),E=Math.sin(x);if(c){const N=s.mirror?0:E*p.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+N+v)}else{const N=s.mirror?0:S*p.width+E*b.height;e.width=Math.min(this.maxWidth,e.width+N+v)}this._calculatePadding(h,m,E,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,r){const{ticks:{align:i,padding:l},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;u?h?(b=r*e.width,v=s*t.height):(b=s*e.height,v=r*t.width):i==="start"?v=t.width:i==="end"?b=e.width:i!=="inner"&&(b=e.width/2,v=t.width/2),this.paddingLeft=Math.max((b-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-p+l)*this.width/(this.width-p),0)}else{let m=t.height/2,p=e.height/2;i==="start"?(m=0,p=e.height):i==="end"&&(m=t.height,p=0),this.paddingTop=m+l,this.paddingBottom=p+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Qt(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=jC(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:r,_longestTextCache:i}=this,l=[],c=[],u=Math.floor(t/TC(t,s));let h=0,m=0,p,b,v,x,S,E,N,A,R,T,D;for(p=0;p<t;p+=u){if(x=e[p].label,S=this._resolveTickFontOptions(p),r.font=E=S.string,N=i[E]=i[E]||{data:{},gc:[]},A=S.lineHeight,R=T=0,!Qt(x)&&!Fn(x))R=iC(r,N.data,N.gc,R,x),T=A;else if(Fn(x))for(b=0,v=x.length;b<v;++b)D=x[b],!Qt(D)&&!Fn(D)&&(R=iC(r,N.data,N.gc,R,D),T+=A);l.push(R),c.push(T),h=Math.max(R,h),m=Math.max(T,m)}$F(i,t);const M=l.indexOf(h),U=c.indexOf(m),I=F=>({width:l[F]||0,height:c[F]||0});return{first:I(0),last:I(t-1),widest:I(M),highest:I(U),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Wz(this._alignToPixels?zl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=WF(this.getContext(),e,s))}return this.$context||(this.$context=VF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ta(this.labelRotation),s=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,c=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*s>c*r?c/s:u/r:u*r<c*s?u/s:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,r=this.options,{grid:i,position:l,border:c}=r,u=i.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),b=ed(i),v=[],x=c.setContext(this.getContext()),S=x.display?x.width:0,E=S/2,N=function(j){return zl(s,j,S)};let A,R,T,D,M,U,I,F,Z,O,q,H;if(l==="top")A=N(this.bottom),U=this.bottom-b,F=A-E,O=N(e.top)+E,H=e.bottom;else if(l==="bottom")A=N(this.top),O=e.top,H=N(e.bottom)-E,U=A+E,F=this.top+b;else if(l==="left")A=N(this.right),M=this.right-b,I=A-E,Z=N(e.left)+E,q=e.right;else if(l==="right")A=N(this.left),Z=e.left,q=N(e.right)-E,M=A+E,I=this.left+b;else if(t==="x"){if(l==="center")A=N((e.top+e.bottom)/2+.5);else if(jt(l)){const j=Object.keys(l)[0],z=l[j];A=N(this.chart.scales[j].getPixelForValue(z))}O=e.top,H=e.bottom,U=A+E,F=U+b}else if(t==="y"){if(l==="center")A=N((e.left+e.right)/2);else if(jt(l)){const j=Object.keys(l)[0],z=l[j];A=N(this.chart.scales[j].getPixelForValue(z))}M=A-E,I=M-b,Z=e.left,q=e.right}const X=Tt(r.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/X));for(R=0;R<p;R+=V){const j=this.getContext(R),z=i.setContext(j),K=c.setContext(j),ne=z.lineWidth,L=z.color,G=K.dash||[],ie=K.dashOffset,se=z.tickWidth,pe=z.tickColor,he=z.tickBorderDash||[],_e=z.tickBorderDashOffset;T=FF(this,R,u),T!==void 0&&(D=zl(s,T,ne),h?M=I=Z=q=D:U=F=O=H=D,v.push({tx1:M,ty1:U,tx2:I,ty2:F,x1:Z,y1:O,x2:q,y2:H,width:ne,color:L,borderDash:G,borderDashOffset:ie,tickWidth:se,tickColor:pe,tickBorderDash:he,tickBorderDashOffset:_e}))}return this._ticksLength=p,this._borderValue=A,v}_computeLabelItems(e){const t=this.axis,s=this.options,{position:r,ticks:i}=s,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:m,mirror:p}=i,b=ed(s.grid),v=b+m,x=p?-m:v,S=-ta(this.labelRotation),E=[];let N,A,R,T,D,M,U,I,F,Z,O,q,H="middle";if(r==="top")M=this.bottom-x,U=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+x,U=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(b);U=V.textAlign,D=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(b);U=V.textAlign,D=V.x}else if(t==="x"){if(r==="center")M=(e.top+e.bottom)/2+v;else if(jt(r)){const V=Object.keys(r)[0],j=r[V];M=this.chart.scales[V].getPixelForValue(j)+v}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")D=(e.left+e.right)/2-v;else if(jt(r)){const V=Object.keys(r)[0],j=r[V];D=this.chart.scales[V].getPixelForValue(j)}U=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(u==="start"?H="top":u==="end"&&(H="bottom"));const X=this._getLabelSizes();for(N=0,A=c.length;N<A;++N){R=c[N],T=R.label;const V=i.setContext(this.getContext(N));I=this.getPixelForTick(N)+i.labelOffset,F=this._resolveTickFontOptions(N),Z=F.lineHeight,O=Fn(T)?T.length:1;const j=O/2,z=V.color,K=V.textStrokeColor,ne=V.textStrokeWidth;let L=U;l?(D=I,U==="inner"&&(N===A-1?L=this.options.reverse?"left":"right":N===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?h==="near"||S!==0?q=-O*Z+Z/2:h==="center"?q=-X.highest.height/2-j*Z+Z:q=-X.highest.height+Z/2:h==="near"||S!==0?q=Z/2:h==="center"?q=X.highest.height/2-j*Z:q=X.highest.height-O*Z,p&&(q*=-1),S!==0&&!V.showLabelBackdrop&&(D+=Z/2*Math.sin(S))):(M=I,q=(1-O)*Z/2);let G;if(V.showLabelBackdrop){const ie=Mr(V.backdropPadding),se=X.heights[N],pe=X.widths[N];let he=q-ie.top,_e=0-ie.left;switch(H){case"middle":he-=se/2;break;case"bottom":he-=se;break}switch(U){case"center":_e-=pe/2;break;case"right":_e-=pe;break;case"inner":N===A-1?_e-=pe:N>0&&(_e-=pe/2);break}G={left:_e,top:he,width:pe+ie.width,height:se+ie.height,color:V.backdropColor}}E.push({label:T,font:F,textOffset:q,options:{rotation:S,color:z,strokeColor:K,strokeWidth:ne,textAlign:L,textBaseline:H,translation:[D,M],backdrop:G}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ta(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,l=this._getLabelSizes(),c=e+i,u=l.widest.width;let h,m;return t==="left"?r?(m=this.right+i,s==="near"?h="left":s==="center"?(h="center",m+=u/2):(h="right",m+=u)):(m=this.right-c,s==="near"?h="right":s==="center"?(h="center",m-=u/2):(h="left",m=this.left)):t==="right"?r?(m=this.left+i,s==="near"?h="right":s==="center"?(h="center",m-=u/2):(h="left",m-=u)):(m=this.left+c,s==="near"?h="left":s==="center"?(h="center",m+=u/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:r,width:i,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,r,i,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const c=(u,h,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(t.display)for(i=0,l=r.length;i<l;++i){const u=r[i];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),l=s.display?i.width:0;if(!l)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,m,p,b;this.isHorizontal()?(h=zl(e,this.left,l)-l/2,m=zl(e,this.right,c)+c/2,p=b=u):(p=zl(e,this.top,l)-l/2,b=zl(e,this.bottom,c)+c/2,h=m=u),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(h,p),t.lineTo(m,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&_x(s,r);const i=this.getLabelItems(e);for(const l of i){const c=l.options,u=l.font,h=l.label,m=l.textOffset;Od(s,h,0,m,u,c)}r&&Nx(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:r}}=this;if(!s.display)return;const i=xs(s.font),l=Mr(s.padding),c=s.align;let u=i.lineHeight/2;t==="bottom"||t==="center"||jt(t)?(u+=l.bottom,Fn(s.text)&&(u+=i.lineHeight*(s.text.length-1))):u+=l.top;const{titleX:h,titleY:m,maxWidth:p,rotation:b}=YF(this,u,t,c);Od(e,s.text,0,0,i,{color:s.color,maxWidth:p,rotation:b,textAlign:GF(c,t,r),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Tt(e.grid&&e.grid.z,-1),r=Tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$c.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,l;for(i=0,l=t.length;i<l;++i){const c=t[i];c[s]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return xs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hh{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;QF(t)&&(s=this.register(t));const r=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,XF(e,l,s),this.override&&kn.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,r=this.scope;s in t&&delete t[s],r&&s in kn[r]&&(delete kn[r][s],this.override&&delete oo[s])}}function XF(n,e,t){const s=Dd(Object.create(null),[t?kn.get(t):{},kn.get(e),n.defaults]);kn.set(e,s),n.defaultRoutes&&ZF(e,n.defaultRoutes),n.descriptors&&kn.describe(e,n.descriptors)}function ZF(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),r=s.pop(),i=[n].concat(s).join("."),l=e[t].split("."),c=l.pop(),u=l.join(".");kn.route(i,r,u,c)})}function QF(n){return"id"in n&&"defaults"in n}class KF{constructor(){this.controllers=new Hh(kx,"datasets",!0),this.elements=new Hh(vo,"elements"),this.plugins=new Hh(Object,"plugins"),this.scales=new Hh($c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):qt(r,l=>{const c=s||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,s){const r=xx(e);an(s["before"+r],[],s),t[e](s),an(s["after"+r],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var pi=new KF;class JF{constructor(){this._init=void 0}notify(e,t,s,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(i,e,t,s);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,s,r){r=r||{};for(const i of e){const l=i.plugin,c=l[s],u=[t,r,i.options];if(an(c,u,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,r=Tt(s.options&&s.options.plugins,{}),i=e$(s);return r===!1&&!t?[]:n$(e,i,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,r=(i,l)=>i.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(r(t,s),e,"stop"),this._notify(r(s,t),e,"start")}}function e$(n){const e={},t=[],s=Object.keys(pi.plugins.items);for(let i=0;i<s.length;i++)t.push(pi.getPlugin(s[i]));const r=n.plugins||[];for(let i=0;i<r.length;i++){const l=r[i];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function t$(n,e){return!e&&n===!1?null:n===!0?{}:n}function n$(n,{plugins:e,localIds:t},s,r){const i=[],l=n.getContext();for(const c of e){const u=c.id,h=t$(s[u],r);h!==null&&i.push({plugin:c,options:s$(n.config,{plugin:c,local:t[u]},h,l)})}return i}function s$(n,{plugin:e,local:t},s,r){const i=n.pluginScopeKeys(e),l=n.getOptionScopes(s,i);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gv(n,e){const t=kn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function r$(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function i$(n,e){return n===e?"_index_":"_value_"}function DC(n){if(n==="x"||n==="y"||n==="r")return n}function a$(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function pv(n,...e){if(DC(n))return n;for(const t of e){const s=t.axis||a$(t.position)||n.length>1&&DC(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function kC(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function l$(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return kC(n,"x",t[0])||kC(n,"y",t[0])}return{}}function o$(n,e){const t=oo[n.type]||{scales:{}},s=e.scales||{},r=gv(n.type,e),i=Object.create(null);return Object.keys(s).forEach(l=>{const c=s[l];if(!jt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=pv(l,c,l$(l,n),kn.scales[c.type]),h=i$(u,r),m=t.scales||{};i[l]=fd(Object.create(null),[{axis:u},c,m[u],m[h]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,u=l.indexAxis||gv(c,e),m=(oo[c]||{}).scales||{};Object.keys(m).forEach(p=>{const b=r$(p,u),v=l[b+"AxisID"]||b;i[v]=i[v]||Object.create(null),fd(i[v],[{axis:b},s[v],m[p]])})}),Object.keys(i).forEach(l=>{const c=i[l];fd(c,[kn.scales[c.type],kn.scale])}),i}function tk(n){const e=n.options||(n.options={});e.plugins=Tt(e.plugins,{}),e.scales=o$(n,e)}function nk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function c$(n){return n=n||{},n.data=nk(n.data),tk(n),n}const OC=new Map,sk=new Set;function zh(n,e){let t=OC.get(n);return t||(t=e(),OC.set(n,t),sk.add(t)),t}const td=(n,e,t)=>{const s=lo(e,t);s!==void 0&&n.add(s)};class u${constructor(e){this._config=c$(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return zh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return zh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return zh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return zh(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let r=s.get(e);return(!r||t)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,t,s){const{options:r,type:i}=this,l=this._cachedScopes(e,s),c=l.get(t);if(c)return c;const u=new Set;t.forEach(m=>{e&&(u.add(e),m.forEach(p=>td(u,e,p))),m.forEach(p=>td(u,r,p)),m.forEach(p=>td(u,oo[i]||{},p)),m.forEach(p=>td(u,kn,p)),m.forEach(p=>td(u,mv,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),sk.has(t)&&l.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,oo[t]||{},kn.datasets[t]||{},{type:t},kn,mv]}resolveNamedOptions(e,t,s,r=[""]){const i={$shared:!0},{resolver:l,subPrefixes:c}=MC(this._resolverCache,e,r);let u=l;if(f$(l,t)){i.$shared=!1,s=ol(s)?s():s;const h=this.createResolver(e,s,c);u=jc(l,s,h)}for(const h of t)i[h]=u[h];return i}createResolver(e,t,s=[""],r){const{resolver:i}=MC(this._resolverCache,e,s);return jt(t)?jc(i,t,void 0,r):i}}function MC(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const r=t.join();let i=s.get(r);return i||(i={resolver:Cx(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},s.set(r,i)),i}const d$=n=>jt(n)&&Object.getOwnPropertyNames(n).some(e=>ol(n[e]));function f$(n,e){const{isScriptable:t,isIndexable:s}=HD(n);for(const r of e){const i=t(r),l=s(r),c=(l||i)&&n[r];if(i&&(ol(c)||d$(c))||l&&Fn(c))return!0}return!1}var h$="4.5.1";const m$=["top","bottom","left","right","chartArea"];function LC(n,e){return n==="top"||n==="bottom"||m$.indexOf(n)===-1&&e==="x"}function IC(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function BC(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),an(t&&t.onComplete,[n],e)}function g$(n){const e=n.chart,t=e.options.animation;an(t&&t.onProgress,[n],e)}function rk(n){return Rx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dm={},PC=n=>{const e=rk(n);return Object.values(dm).filter(t=>t.canvas===e).pop()};function p$(n,e,t){const s=Object.keys(n);for(const r of s){const i=+r;if(i>=e){const l=n[r];delete n[r],(t>0||i>e)&&(n[i+t]=l)}}}function b$(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}let xo=class{static defaults=kn;static instances=dm;static overrides=oo;static registry=pi;static version=h$;static getChart=PC;static register(...e){pi.add(...e),UC()}static unregister(...e){pi.remove(...e),UC()}constructor(e,t){const s=this.config=new u$(t),r=rk(e),i=PC(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||LF(r)),this.platform.updateConfig(s);const c=this.platform.acquireContext(r,l.aspectRatio),u=c&&c.canvas,h=u&&u.height,m=u&&u.width;if(this.id=kz(),this.ctx=c,this.canvas=u,this.width=m,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zz(p=>this.update(p),l.resizeDelay||0),this._dataChanges=[],dm[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Zi.listen(this,"complete",BC),Zi.listen(this,"progress",g$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:r,_aspectRatio:i}=this;return Qt(e)?t&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aC(this.canvas,this.ctx),this}stop(){return Zi.stop(this),this}resize(e,t){Zi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,i),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,uC(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),an(s.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qt(t,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,r=Object.keys(s).reduce((l,c)=>(l[c]=!1,l),{});let i=[];t&&(i=i.concat(Object.keys(t).map(l=>{const c=t[l],u=pv(l,c),h=u==="r",m=u==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),qt(i,l=>{const c=l.options,u=c.id,h=pv(u,c),m=Tt(c.type,l.dtype);(c.position===void 0||LC(c.position,h)!==LC(l.dposition))&&(c.position=l.dposition),r[u]=!0;let p=null;if(u in s&&s[u].type===m)p=s[u];else{const b=pi.getScale(m);p=new b({id:u,type:m,ctx:this.ctx,chart:this}),s[p.id]=p}p.init(c,e)}),qt(r,(l,c)=>{l||delete s[c]}),qt(s,l=>{Rr.configure(this,l,l.options),Rr.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>t){for(let r=t;r<s;++r)this._destroyDatasetMeta(r);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(IC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,r)=>{t.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=t.length;s<r;s++){const i=t[s];let l=this.getDatasetMeta(s);const c=i.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=c,l.indexAxis=i.indexAxis||gv(c,this.options),l.order=i.order||0,l.index=s,l.label=""+i.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const u=pi.getController(c),{datasetElementType:h,dataElementType:m}=kn.datasets[c];Object.assign(u,{dataElementType:pi.getElement(m),datasetElementType:h&&pi.getElement(h)}),l.controller=new u(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){qt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:p}=this.getDatasetMeta(h),b=!r&&i.indexOf(p)===-1;p.buildOrUpdateElements(b),l=Math.max(+p.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),r||qt(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(IC("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){qt(this.scales,e=>{Rr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!ZA(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of t){const l=s==="_removeElements"?-i:i;p$(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=i=>new Set(e.filter(l=>l[0]===i).map((l,c)=>c+","+l.splice(1).join(","))),r=s(0);for(let i=1;i<t;i++)if(!ZA(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rr.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],qt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,ol(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zi.has(this)?this.attached&&!Zi.running(this)&&Zi.start(this):(this.draw(),BC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let r,i;for(r=0,i=t.length;r<i;++r){const l=t[r];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Lq(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&_x(t,r),e.controller.draw(),r&&Nx(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return PD(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,r){const i=mF.modes[t];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Fc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,r);kd(t)?(i.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(i,{visible:s}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Zi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),aC(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete dm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(i,l)=>{t.addEventListener(this,i,l),e[i]=l},r=(i,l,c)=>{i.offsetX=l,i.offsetY=c,this._eventHandler(i)};qt(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(u,h)=>{t.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(t.removeEventListener(this,u,h),delete e[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let l;const c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",i),s("detach",l)};l=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){qt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const r=s?"set":"remove";let i,l,c,u;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){l=e[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:i,index:l})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[l],index:l}});!Tm(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const r=this.options.hover,i=(u,h)=>u.filter(m=>!h.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),l=i(t,e),c=s?e:i(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:r=[],options:i}=this,l=t,c=this._getActiveElements(e,r,s,l),u=Pz(e),h=b$(e,this._lastEvent,s,u);s&&(this._lastEvent=null,an(i.onHover,[e,c,this],this),u&&an(i.onClick,[e,c,this],this));const m=!Tm(c,r);return(m||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=h,m}_getActiveElements(e,t,s,r){if(e.type==="mouseout")return[];if(!s)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}};function UC(){return qt(xo.instances,n=>n._plugins.invalidate())}function y$(n,e,t){const{startAngle:s,x:r,y:i,outerRadius:l,innerRadius:c,options:u}=e,{borderWidth:h,borderJoinStyle:m}=u,p=Math.min(h/l,bi(s-t));if(n.beginPath(),n.arc(r,i,l-h/2,s+p/2,t-p/2),c>0){const b=Math.min(h/c,bi(s-t));n.arc(r,i,c+h/2,t-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*bi(s-t));if(m==="round")n.arc(r,i,b,t-Zt/2,s+Zt/2,!0);else if(m==="bevel"){const v=2*b*b,x=-v*Math.cos(t+Zt/2)+r,S=-v*Math.sin(t+Zt/2)+i,E=v*Math.cos(s+Zt/2)+r,N=v*Math.sin(s+Zt/2)+i;n.lineTo(x,S),n.lineTo(E,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function v$(n,e,t){const{startAngle:s,pixelMargin:r,x:i,y:l,outerRadius:c,innerRadius:u}=e;let h=r/c;n.beginPath(),n.arc(i,l,c,s-h,t+h),u>r?(h=r/u,n.arc(i,l,u,t+h,s-h,!0)):n.arc(i,l,r,t+$n,s-$n),n.closePath(),n.clip()}function x$(n){return Ax(n,["outerStart","outerEnd","innerStart","innerEnd"])}function w$(n,e,t,s){const r=x$(n.options.borderRadius),i=(t-e)/2,l=Math.min(i,s*e/2),c=u=>{const h=(t-Math.min(i,u))*s/2;return Fs(u,0,Math.min(i,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Fs(r.innerStart,0,l),innerEnd:Fs(r.innerEnd,0,l)}}function lc(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function Im(n,e,t,s,r,i){const{x:l,y:c,startAngle:u,pixelMargin:h,innerRadius:m}=e,p=Math.max(e.outerRadius+s+t-h,0),b=m>0?m+s+t+h:0;let v=0;const x=r-u;if(s){const V=m>0?m-s:0,j=p>0?p-s:0,z=(V+j)/2,K=z!==0?x*z/(z+s):x;v=(x-K)/2}const S=Math.max(.001,x*p-t/Zt)/p,E=(x-S)/2,N=u+E+v,A=r-E-v,{outerStart:R,outerEnd:T,innerStart:D,innerEnd:M}=w$(e,b,p,A-N),U=p-R,I=p-T,F=N+R/U,Z=A-T/I,O=b+D,q=b+M,H=N+D/O,X=A-M/q;if(n.beginPath(),i){const V=(F+Z)/2;if(n.arc(l,c,p,F,V),n.arc(l,c,p,V,Z),T>0){const ne=lc(I,Z,l,c);n.arc(ne.x,ne.y,T,Z,A+$n)}const j=lc(q,A,l,c);if(n.lineTo(j.x,j.y),M>0){const ne=lc(q,X,l,c);n.arc(ne.x,ne.y,M,A+$n,X+Math.PI)}const z=(A-M/b+(N+D/b))/2;if(n.arc(l,c,b,A-M/b,z,!0),n.arc(l,c,b,z,N+D/b,!0),D>0){const ne=lc(O,H,l,c);n.arc(ne.x,ne.y,D,H+Math.PI,N-$n)}const K=lc(U,N,l,c);if(n.lineTo(K.x,K.y),R>0){const ne=lc(U,F,l,c);n.arc(ne.x,ne.y,R,N-$n,F)}}else{n.moveTo(l,c);const V=Math.cos(F)*p+l,j=Math.sin(F)*p+c;n.lineTo(V,j);const z=Math.cos(Z)*p+l,K=Math.sin(Z)*p+c;n.lineTo(z,K)}n.closePath()}function E$(n,e,t,s,r){const{fullCircles:i,startAngle:l,circumference:c}=e;let u=e.endAngle;if(i){Im(n,e,t,s,u,r);for(let h=0;h<i;++h)n.fill();isNaN(c)||(u=l+(c%Pn||Pn))}return Im(n,e,t,s,u,r),n.fill(),u}function S$(n,e,t,s,r){const{fullCircles:i,startAngle:l,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:m,borderDash:p,borderDashOffset:b,borderRadius:v}=u,x=u.borderAlign==="inner";if(!h)return;n.setLineDash(p||[]),n.lineDashOffset=b,x?(n.lineWidth=h*2,n.lineJoin=m||"round"):(n.lineWidth=h,n.lineJoin=m||"bevel");let S=e.endAngle;if(i){Im(n,e,t,s,S,r);for(let E=0;E<i;++E)n.stroke();isNaN(c)||(S=l+(c%Pn||Pn))}x&&v$(n,e,S),u.selfJoin&&S-l>=Zt&&v===0&&m!=="miter"&&y$(n,e,S),i||(Im(n,e,t,s,S,r),n.stroke())}class ik extends vo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.getProps(["x","y"],s),{angle:i,distance:l}=RD(r,{x:e,y:t}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,v=Tt(p,u-c),x=km(i,c,u)&&c!==u,S=v>=Pn||x,E=Xl(l,h+b,m+b);return S&&E}getCenterPoint(e){const{x:t,y:s,startAngle:r,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,m=(r+i)/2,p=(l+c+h+u)/2;return{x:t+Math.cos(m)*p,y:s+Math.sin(m)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>Pn?Math.floor(s/Pn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(Zt,s||0)),h=r*u;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,E$(e,this,h,i,l),S$(e,this,h,i,l),e.restore()}}function ak(n,e){const{x:t,y:s,base:r,width:i,height:l}=n.getProps(["x","y","base","width","height"],e);let c,u,h,m,p;return n.horizontal?(p=l/2,c=Math.min(t,r),u=Math.max(t,r),h=s-p,m=s+p):(p=i/2,c=t-p,u=t+p,h=Math.min(s,r),m=Math.max(s,r)),{left:c,top:h,right:u,bottom:m}}function Qa(n,e,t,s){return n?0:Fs(e,t,s)}function _$(n,e,t){const s=n.options.borderWidth,r=n.borderSkipped,i=UD(s);return{t:Qa(r.top,i.top,0,t),r:Qa(r.right,i.right,0,e),b:Qa(r.bottom,i.bottom,0,t),l:Qa(r.left,i.left,0,e)}}function N$(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,i=xc(r),l=Math.min(e,t),c=n.borderSkipped,u=s||jt(r);return{topLeft:Qa(!u||c.top||c.left,i.topLeft,0,l),topRight:Qa(!u||c.top||c.right,i.topRight,0,l),bottomLeft:Qa(!u||c.bottom||c.left,i.bottomLeft,0,l),bottomRight:Qa(!u||c.bottom||c.right,i.bottomRight,0,l)}}function A$(n){const e=ak(n),t=e.right-e.left,s=e.bottom-e.top,r=_$(n,t/2,s/2),i=N$(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function gy(n,e,t,s){const r=e===null,i=t===null,c=n&&!(r&&i)&&ak(n,s);return c&&(r||Xl(e,c.left,c.right))&&(i||Xl(t,c.top,c.bottom))}function C$(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function T$(n,e){n.rect(e.x,e.y,e.w,e.h)}function py(n,e,t={}){const s=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,i=(n.x+n.w!==t.x+t.w?e:0)-s,l=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+s,y:n.y+r,w:n.w+i,h:n.h+l,radius:n.radius}}class lk extends vo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:l}=A$(this),c=C$(l.radius)?Om:T$;e.save(),(l.w!==i.w||l.h!==i.h)&&(e.beginPath(),c(e,py(l,t,i)),e.clip(),c(e,py(i,-t,l)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),c(e,py(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,s){return gy(this,e,t,s)}inXRange(e,t){return gy(this,e,null,t)}inYRange(e,t){return gy(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const HC=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},j$=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class zC extends vo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=an(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=xs(s.font),i=r.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=HC(s,i);let h,m;t.font=r.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(l,i,c,u)+10):(m=this.maxHeight,h=this._fitCols(l,r,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,r){const{ctx:i,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],m=r+c;let p=e;i.textAlign="left",i.textBaseline="middle";let b=-1,v=-m;return this.legendItems.forEach((x,S)=>{const E=s+t/2+i.measureText(x.text).width;(S===0||h[h.length-1]+E+2*c>l)&&(p+=m,h[h.length-(S>0?0:1)]=0,v+=m,b++),u[S]={left:0,top:v,row:b,width:E,height:r},h[h.length-1]+=E+c}),p}_fitCols(e,t,s,r){const{ctx:i,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],m=l-e;let p=c,b=0,v=0,x=0,S=0;return this.legendItems.forEach((E,N)=>{const{itemWidth:A,itemHeight:R}=R$(s,t,i,E,r);N>0&&v+R+2*c>m&&(p+=b+c,h.push({width:b,height:v}),x+=b+c,S++,b=v=0),u[N]={left:x,top:v,col:S,width:A,height:R},b=Math.max(b,A),v+=R+c}),p+=b,h.push({width:b,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:r},rtl:i}}=this,l=wc(i,this.left,this.width);if(this.isHorizontal()){let c=0,u=ps(s,this.left+r,this.right-this.lineWidths[c]);for(const h of t)c!==h.row&&(c=h.row,u=ps(s,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=l.leftForLtr(l.x(u),h.width),u+=h.width+r}else{let c=0,u=ps(s,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of t)h.col!==c&&(c=h.col,u=ps(s,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+r,h.left=l.leftForLtr(l.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_x(e,this),this._draw(),Nx(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:r}=this,{align:i,labels:l}=e,c=kn.color,u=wc(e.rtl,this.left,this.width),h=xs(l.font),{padding:m}=l,p=h.size,b=p/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:x,boxHeight:S,itemHeight:E}=HC(l,p),N=function(M,U,I){if(isNaN(x)||x<=0||isNaN(S)||S<0)return;r.save();const F=Tt(I.lineWidth,1);if(r.fillStyle=Tt(I.fillStyle,c),r.lineCap=Tt(I.lineCap,"butt"),r.lineDashOffset=Tt(I.lineDashOffset,0),r.lineJoin=Tt(I.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=Tt(I.strokeStyle,c),r.setLineDash(Tt(I.lineDash,[])),l.usePointStyle){const Z={radius:S*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:F},O=u.xPlus(M,x/2),q=U+b;BD(r,Z,O,q,l.pointStyleWidth&&x)}else{const Z=U+Math.max((p-S)/2,0),O=u.leftForLtr(M,x),q=xc(I.borderRadius);r.beginPath(),Object.values(q).some(H=>H!==0)?Om(r,{x:O,y:Z,w:x,h:S,radius:q}):r.rect(O,Z,x,S),r.fill(),F!==0&&r.stroke()}r.restore()},A=function(M,U,I){Od(r,I.text,M,U+E/2,h,{strikethrough:I.hidden,textAlign:u.textAlign(I.textAlign)})},R=this.isHorizontal(),T=this._computeTitleHeight();R?v={x:ps(i,this.left+m,this.right-s[0]),y:this.top+m+T,line:0}:v={x:this.left+m,y:ps(i,this.top+T+m,this.bottom-t[0].height),line:0},$D(this.ctx,e.textDirection);const D=E+m;this.legendItems.forEach((M,U)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const I=r.measureText(M.text).width,F=u.textAlign(M.textAlign||(M.textAlign=l.textAlign)),Z=x+b+I;let O=v.x,q=v.y;u.setWidth(this.width),R?U>0&&O+Z+m>this.right&&(q=v.y+=D,v.line++,O=v.x=ps(i,this.left+m,this.right-s[v.line])):U>0&&q+D>this.bottom&&(O=v.x=O+t[v.line].width+m,v.line++,q=v.y=ps(i,this.top+T+m,this.bottom-t[v.line].height));const H=u.x(O);if(N(H,q,M),O=Qz(F,O+x+b,R?O+Z:this.right,e.rtl),A(u.x(O),q,M),R)v.x+=Z+m;else if(typeof M.text!="string"){const X=h.lineHeight;v.y+=ok(M,X)+m}else v.y+=D}),VD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=xs(t.font),r=Mr(t.padding);if(!t.display)return;const i=wc(e.rtl,this.left,this.width),l=this.ctx,c=t.position,u=s.size/2,h=r.top+u;let m,p=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+h,p=ps(e.align,p,this.right-b);else{const x=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);m=h+ps(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const v=ps(c,p,p+b);l.textAlign=i.textAlign(Ex(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=s.string,Od(l,t.text,v,m,s)}_computeTitleHeight(){const e=this.options.title,t=xs(e.font),s=Mr(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,r,i;if(Xl(e,this.left,this.right)&&Xl(t,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],Xl(e,r.left,r.left+r.width)&&Xl(t,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!O$(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=j$(r,s);r&&!i&&an(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&an(t.onHover,[e,s,this],this)}else s&&an(t.onClick,[e,s,this],this)}}function R$(n,e,t,s,r){const i=D$(s,n,e,t),l=k$(r,s,e.lineHeight);return{itemWidth:i,itemHeight:l}}function D$(n,e,t,s){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((i,l)=>i.length>l.length?i:l)),e+t.size/2+s.measureText(r).width}function k$(n,e,t){let s=n;return typeof e.text!="string"&&(s=ok(e,t)),s}function ok(n,e){const t=n.text?n.text.length:0;return e*t}function O$(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var wg={id:"legend",_element:zC,start(n,e,t){const s=n.legend=new zC({ctx:n.ctx,options:t,chart:n});Rr.configure(n,s,t),Rr.addBox(n,s)},stop(n){Rr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;Rr.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,r=t.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:r,color:i,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(t?0:void 0),m=Mr(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:l&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ck extends vo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Fn(s.text)?s.text.length:1;this._padding=Mr(s.padding);const i=r*xs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:r,right:i,options:l}=this,c=l.align;let u=0,h,m,p;return this.isHorizontal()?(m=ps(c,s,i),p=t+e,h=i-s):(l.position==="left"?(m=s+e,p=ps(c,r,t),u=Zt*-.5):(m=i-e,p=ps(c,t,r),u=Zt*.5),h=r-t),{titleX:m,titleY:p,maxWidth:h,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=xs(t.font),i=s.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(i);Od(e,t.text,0,0,s,{color:t.color,maxWidth:u,rotation:h,textAlign:Ex(t.align),textBaseline:"middle",translation:[l,c]})}}function M$(n,e){const t=new ck({ctx:n.ctx,options:e,chart:n});Rr.configure(n,t,e),Rr.addBox(n,t),n.titleBlock=t}var uk={id:"title",_element:ck,start(n,e,t){M$(n,t)},stop(n){const e=n.titleBlock;Rr.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;Rr.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cd={average(n){if(!n.length)return!1;let e,t,s=new Set,r=0,i=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();s.add(u.x),r+=u.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((c,u)=>c+u)/s.size,y:r/i}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,l,c;for(i=0,l=n.length;i<l;++i){const u=n[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),m=Vz(e,h);m<r&&(r=m,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,s=u.y}return{x:t,y:s}}};function gi(n,e){return e&&(Fn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Qi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function L$(n,e){const{element:t,datasetIndex:s,index:r}=e,i=n.getDatasetMeta(s).controller,{label:l,value:c}=i.getLabelAndValue(r);return{chart:n,label:l,parsed:i.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:t}}function qC(n,e){const t=n.chart.ctx,{body:s,footer:r,title:i}=n,{boxWidth:l,boxHeight:c}=e,u=xs(e.bodyFont),h=xs(e.titleFont),m=xs(e.footerFont),p=i.length,b=r.length,v=s.length,x=Mr(e.padding);let S=x.height,E=0,N=s.reduce((T,D)=>T+D.before.length+D.lines.length+D.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,p&&(S+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),N){const T=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=v*T+(N-v)*u.lineHeight+(N-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*m.lineHeight+(b-1)*e.footerSpacing);let A=0;const R=function(T){E=Math.max(E,t.measureText(T).width+A)};return t.save(),t.font=h.string,qt(n.title,R),t.font=u.string,qt(n.beforeBody.concat(n.afterBody),R),A=e.displayColors?l+2+e.boxPadding:0,qt(s,T=>{qt(T.before,R),qt(T.lines,R),qt(T.after,R)}),A=0,t.font=m.string,qt(n.footer,R),t.restore(),E+=x.width,{width:E,height:S}}function I$(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function B$(n,e,t,s){const{x:r,width:i}=s,l=t.caretSize+t.caretPadding;if(n==="left"&&r+i+l>e.width||n==="right"&&r-i-l<0)return!0}function P$(n,e,t,s){const{x:r,width:i}=t,{width:l,chartArea:{left:c,right:u}}=n;let h="center";return s==="center"?h=r<=(c+u)/2?"left":"right":r<=i/2?h="left":r>=l-i/2&&(h="right"),B$(h,n,e,t)&&(h="center"),h}function FC(n,e,t){const s=t.yAlign||e.yAlign||I$(n,t);return{xAlign:t.xAlign||e.xAlign||P$(n,e,t,s),yAlign:s}}function U$(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function H$(n,e,t){let{y:s,height:r}=n;return e==="top"?s+=t:e==="bottom"?s-=r+t:s-=r/2,s}function $C(n,e,t,s){const{caretSize:r,caretPadding:i,cornerRadius:l}=n,{xAlign:c,yAlign:u}=t,h=r+i,{topLeft:m,topRight:p,bottomLeft:b,bottomRight:v}=xc(l);let x=U$(e,c);const S=H$(e,u,h);return u==="center"?c==="left"?x+=h:c==="right"&&(x-=h):c==="left"?x-=Math.max(m,b)+r:c==="right"&&(x+=Math.max(p,v)+r),{x:Fs(x,0,s.width-e.width),y:Fs(S,0,s.height-e.height)}}function qh(n,e,t){const s=Mr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function VC(n){return gi([],Qi(n))}function z$(n,e,t){return Fc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function WC(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const dk={beforeTitle:Yi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:Yi,beforeBody:Yi,beforeLabel:Yi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Qt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Yi,afterBody:Yi,beforeFooter:Yi,footer:Yi,afterFooter:Yi};function Hs(n,e,t,s){const r=n[e].call(t,s);return typeof r>"u"?dk[e].call(t,s):r}class GC extends vo{static positioners=cd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&t.options.animation&&s.animations,i=new WD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=z$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,r=Hs(s,"beforeTitle",this,e),i=Hs(s,"title",this,e),l=Hs(s,"afterTitle",this,e);let c=[];return c=gi(c,Qi(r)),c=gi(c,Qi(i)),c=gi(c,Qi(l)),c}getBeforeBody(e,t){return VC(Hs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,r=[];return qt(e,i=>{const l={before:[],lines:[],after:[]},c=WC(s,i);gi(l.before,Qi(Hs(c,"beforeLabel",this,i))),gi(l.lines,Hs(c,"label",this,i)),gi(l.after,Qi(Hs(c,"afterLabel",this,i))),r.push(l)}),r}getAfterBody(e,t){return VC(Hs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,r=Hs(s,"beforeFooter",this,e),i=Hs(s,"footer",this,e),l=Hs(s,"afterFooter",this,e);let c=[];return c=gi(c,Qi(r)),c=gi(c,Qi(i)),c=gi(c,Qi(l)),c}_createItems(e){const t=this._active,s=this.chart.data,r=[],i=[],l=[];let c=[],u,h;for(u=0,h=t.length;u<h;++u)c.push(L$(this.chart,t[u]));return e.filter&&(c=c.filter((m,p,b)=>e.filter(m,p,b,s))),e.itemSort&&(c=c.sort((m,p)=>e.itemSort(m,p,s))),qt(c,m=>{const p=WC(e.callbacks,m);r.push(Hs(p,"labelColor",this,m)),i.push(Hs(p,"labelPointStyle",this,m)),l.push(Hs(p,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const s=this.options.setContext(this.getContext()),r=this._active;let i,l=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=cd[s.position].call(this,r,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const u=this._size=qC(this,s),h=Object.assign({},c,u),m=FC(this.chart,s,h),p=$C(s,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,r){const i=this.getCaretPosition(e,s,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,s){const{xAlign:r,yAlign:i}=this,{caretSize:l,cornerRadius:c}=s,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:p}=xc(c),{x:b,y:v}=e,{width:x,height:S}=t;let E,N,A,R,T,D;return i==="center"?(T=v+S/2,r==="left"?(E=b,N=E-l,R=T+l,D=T-l):(E=b+x,N=E+l,R=T-l,D=T+l),A=E):(r==="left"?N=b+Math.max(u,m)+l:r==="right"?N=b+x-Math.max(h,p)-l:N=this.caretX,i==="top"?(R=v,T=R-l,E=N-l,A=N+l):(R=v+S,T=R+l,E=N+l,A=N-l),D=R),{x1:E,x2:N,x3:A,y1:R,y2:T,y3:D}}drawTitle(e,t,s){const r=this.title,i=r.length;let l,c,u;if(i){const h=wc(s.rtl,this.x,this.width);for(e.x=qh(this,s.titleAlign,s),t.textAlign=h.textAlign(s.titleAlign),t.textBaseline="middle",l=xs(s.titleFont),c=s.titleSpacing,t.fillStyle=s.titleColor,t.font=l.string,u=0;u<i;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,u+1===i&&(e.y+=s.titleMarginBottom-c)}}_drawColorBox(e,t,s,r,i){const l=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:u,boxWidth:h}=i,m=xs(i.bodyFont),p=qh(this,"left",i),b=r.x(p),v=u<m.lineHeight?(m.lineHeight-u)/2:0,x=t.y+v;if(i.usePointStyle){const S={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},E=r.leftForLtr(b,h)+h/2,N=x+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,lC(e,S,E,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,lC(e,S,E,N)}else{e.lineWidth=jt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=r.leftForLtr(b,h),E=r.leftForLtr(r.xPlus(b,1),h-2),N=xc(l.borderRadius);Object.values(N).some(A=>A!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Om(e,{x:S,y:x,w:h,h:u,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Om(e,{x:E,y:x+1,w:h-2,h:u-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(S,x,h,u),e.strokeRect(S,x,h,u),e.fillStyle=l.backgroundColor,e.fillRect(E,x+1,h-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:r}=this,{bodySpacing:i,bodyAlign:l,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:m}=s,p=xs(s.bodyFont);let b=p.lineHeight,v=0;const x=wc(s.rtl,this.x,this.width),S=function(I){t.fillText(I,x.x(e.x+v),e.y+b/2),e.y+=b+i},E=x.textAlign(l);let N,A,R,T,D,M,U;for(t.textAlign=l,t.textBaseline="middle",t.font=p.string,e.x=qh(this,E,s),t.fillStyle=s.bodyColor,qt(this.beforeBody,S),v=c&&E!=="right"?l==="center"?h/2+m:h+2+m:0,T=0,M=r.length;T<M;++T){for(N=r[T],A=this.labelTextColors[T],t.fillStyle=A,qt(N.before,S),R=N.lines,c&&R.length&&(this._drawColorBox(t,e,T,x,s),b=Math.max(p.lineHeight,u)),D=0,U=R.length;D<U;++D)S(R[D]),b=p.lineHeight;qt(N.after,S)}v=0,b=p.lineHeight,qt(this.afterBody,S),e.y-=i}drawFooter(e,t,s){const r=this.footer,i=r.length;let l,c;if(i){const u=wc(s.rtl,this.x,this.width);for(e.x=qh(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=u.textAlign(s.footerAlign),t.textBaseline="middle",l=xs(s.footerFont),t.fillStyle=s.footerColor,t.font=l.string,c=0;c<i;++c)t.fillText(r[c],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,t,s,r){const{xAlign:i,yAlign:l}=this,{x:c,y:u}=e,{width:h,height:m}=s,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:x}=xc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+p,u),l==="top"&&this.drawCaret(e,t,s,r),t.lineTo(c+h-b,u),t.quadraticCurveTo(c+h,u,c+h,u+b),l==="center"&&i==="right"&&this.drawCaret(e,t,s,r),t.lineTo(c+h,u+m-x),t.quadraticCurveTo(c+h,u+m,c+h-x,u+m),l==="bottom"&&this.drawCaret(e,t,s,r),t.lineTo(c+v,u+m),t.quadraticCurveTo(c,u+m,c,u+m-v),l==="center"&&i==="left"&&this.drawCaret(e,t,s,r),t.lineTo(c,u+p),t.quadraticCurveTo(c,u,c+p,u),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const l=cd[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=qC(this,e),u=Object.assign({},l,this._size),h=FC(t,e,u),m=$C(e,u,h,t);(r._to!==m.x||i._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Mr(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,t),$D(e,t.textDirection),i.y+=l.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),VD(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,r=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),i=!Tm(s,r),l=this._positionChanged(r,t);(i||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],l=this._getActiveElements(e,i,t,s),c=this._positionChanged(l,e),u=t||!Tm(l,i)||c;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:s,caretY:r,options:i}=this,l=cd[i.position].call(this,e,t);return l!==!1&&(s!==l.x||r!==l.y)}}var Eg={id:"tooltip",_element:GC,positioners:cd,afterInit(n,e,t){t&&(n.tooltip=new GC({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const q$=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function F$(n,e,t,s){const r=n.indexOf(e);if(r===-1)return q$(n,e,t,s);const i=n.lastIndexOf(e);return r!==i?t:r}const $$=(n,e)=>n===null?null:Fs(Math.round(n),0,e);function YC(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class fk extends $c{static id="category";static defaults={ticks:{callback:YC}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:r,label:i}of t)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qt(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:F$(s,e,Tt(t,e),this._addedLabels),$$(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){return YC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function V$(n,e){const t=[],{bounds:r,step:i,min:l,max:c,precision:u,count:h,maxTicks:m,maxDigits:p,includeBounds:b}=n,v=i||1,x=m-1,{min:S,max:E}=e,N=!Qt(l),A=!Qt(c),R=!Qt(h),T=(E-S)/(p+1);let D=KA((E-S)/x/v)*v,M,U,I,F;if(D<1e-14&&!N&&!A)return[{value:S},{value:E}];F=Math.ceil(E/D)-Math.floor(S/D),F>x&&(D=KA(F*D/x/v)*v),Qt(u)||(M=Math.pow(10,u),D=Math.ceil(D*M)/M),r==="ticks"?(U=Math.floor(S/D)*D,I=Math.ceil(E/D)*D):(U=S,I=E),N&&A&&i&&qz((c-l)/i,D/1e3)?(F=Math.round(Math.min((c-l)/D,m)),D=(c-l)/F,U=l,I=c):R?(U=N?l:U,I=A?c:I,F=h-1,D=(I-U)/F):(F=(I-U)/D,cm(F,Math.round(F),D/1e3)?F=Math.round(F):F=Math.ceil(F));const Z=Math.max(JA(D),JA(U));M=Math.pow(10,Qt(u)?Z:u),U=Math.round(U*M)/M,I=Math.round(I*M)/M;let O=0;for(N&&(b&&U!==l?(t.push({value:l}),U<l&&O++,cm(Math.round((U+O*D)*M)/M,l,XC(l,T,n))&&O++):U<l&&O++);O<F;++O){const q=Math.round((U+O*D)*M)/M;if(A&&q>c)break;t.push({value:q})}return A&&b&&I!==c?t.length&&cm(t[t.length-1].value,c,XC(c,T,n))?t[t.length-1].value=c:t.push({value:c}):(!A||I===c)&&t.push({value:I}),t}function XC(n,e,{horizontal:t,minRotation:s}){const r=ta(s),i=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+n).length;return Math.min(e/i,l)}class W$ extends $c{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const l=u=>r=t?r:u,c=u=>i=s?i:u;if(e){const u=rl(r),h=rl(i);u<0&&h<0?c(0):u>0&&h>0&&l(0)}if(r===i){let u=i===0?1:Math.abs(i*.05);c(i+u),e||l(r-u)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,l=V$(r,i);return e.bounds==="ticks"&&Fz(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-t)/Math.max(e.length-1,1)/2;t-=r,s+=r}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Sx(e,this.chart.options.locale,this.options.ticks.format)}}class hk extends W${static id="linear";static defaults={ticks:{callback:ID.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Or(e)?e:0,this.max=Or(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=ta(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Sg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qs=Object.keys(Sg);function ZC(n,e){return n-e}function QC(n,e){if(Qt(e))return null;const t=n._adapter,{parser:s,round:r,isoWeekday:i}=n._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),Or(l)||(l=typeof s=="string"?t.parse(l,s):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Dm(i)||i===!0)?t.startOf(l,"isoWeek",i):t.startOf(l,r)),+l)}function KC(n,e,t,s){const r=qs.length;for(let i=qs.indexOf(n);i<r-1;++i){const l=Sg[qs[i]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=s)return qs[i]}return qs[r-1]}function G$(n,e,t,s,r){for(let i=qs.length-1;i>=qs.indexOf(t);i--){const l=qs[i];if(Sg[l].common&&n._adapter.diff(r,s,l)>=e-1)return l}return qs[t?qs.indexOf(t):0]}function Y$(n){for(let e=qs.indexOf(n)+1,t=qs.length;e<t;++e)if(Sg[qs[e]].common)return qs[e]}function JC(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:r}=wx(t,e),i=t[s]>=e?t[s]:t[r];n[i]=!0}}function X$(n,e,t,s){const r=n._adapter,i=+r.startOf(e[0].value,s),l=e[e.length-1].value;let c,u;for(c=i;c<=l;c=+r.add(c,1,s))u=t[c],u>=0&&(e[u].major=!0);return e}function eT(n,e,t){const s=[],r={},i=e.length;let l,c;for(l=0;l<i;++l)c=e[l],r[c]=l,s.push({value:c,major:!1});return i===0||!t?s:X$(n,s,r,t)}class tT extends $c{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),r=this._adapter=new cF._date(e.adapters.date);r.init(t),fd(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:QC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:l,maxDefined:c}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Or(r)&&!isNaN(r)?r:+t.startOf(Date.now(),s),i=Or(i)&&!isNaN(i)?i:+t.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,l=this.max,c=Yz(r,i,l);return this._unit=t.unit||(s.autoSkip?KC(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):G$(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Y$(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),eT(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Fs(t,0,l),s=Fs(s,0,l),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,r=this.options,i=r.time,l=i.unit||KC(i.minUnit,t,s,this._getLabelCapacity(t)),c=Tt(r.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,h=Dm(u)||u===!0,m={};let p=t,b,v;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":l),e.diff(s,t,l)>1e5*c)throw new Error(t+" and "+s+" are too far apart with stepSize of "+c+" "+l);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(b=p,v=0;b<s;b=+e.add(b,c,l),v++)JC(m,b,x);return(b===s||r.bounds==="ticks"||v===1)&&JC(m,b,x),Object.keys(m).sort(ZC).map(S=>+S)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,i=this._unit,l=t||r[i];return this._adapter.format(e,l)}_tickFormatFunction(e,t,s,r){const i=this.options,l=i.ticks.callback;if(l)return an(l,[e,t,s],this);const c=i.time.displayFormats,u=this._unit,h=this._majorUnit,m=u&&c[u],p=h&&c[h],b=s[t],v=h&&p&&b&&b.major;return this._adapter.format(e,r||(v?p:m))}generateTickLabels(e){let t,s,r;for(t=0,s=e.length;t<s;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,r=ta(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),l=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:s*i+c*l,h:s*l+c*i}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,r=s[t.unit]||s.millisecond,i=this._tickFormatFunction(e,0,eT(this,[e],this._majorUnit),r),l=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,s=r.length;t<s;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const r=this.getLabels();for(t=0,s=r.length;t<s;++t)e.push(QC(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kD(e.sort(ZC))}}function Fh(n,e,t){let s=0,r=n.length-1,i,l,c,u;t?(e>=n[s].pos&&e<=n[r].pos&&({lo:s,hi:r}=hv(n,"pos",e)),{pos:i,time:c}=n[s],{pos:l,time:u}=n[r]):(e>=n[s].time&&e<=n[r].time&&({lo:s,hi:r}=hv(n,"time",e)),{time:i,pos:c}=n[s],{time:l,pos:u}=n[r]);const h=l-i;return h?c+(u-c)*(e-i)/h:c}class OK extends tT{static id="timeseries";static defaults=tT.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fh(t,this.min),this._tableRange=Fh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,r=[],i=[];let l,c,u,h,m;for(l=0,c=e.length;l<c;++l)h=e[l],h>=t&&h<=s&&r.push(h);if(r.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(l=0,c=r.length;l<c;++l)m=r[l+1],u=r[l-1],h=r[l],Math.round((m+u)/2)!==h&&i.push({time:h,pos:l/(c-1)});return i}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Fh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Fh(this._table,s*this._tableRange+this._minPos,!0)}}const mk="label";function nT(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Z$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function gk(n,e){n.labels=e}function pk(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mk;const s=[];n.datasets=e.map(r=>{const i=n.datasets.find(l=>l[t]===r[t]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function Q$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mk;const t={labels:[],datasets:[]};return gk(t,n.labels),pk(t,n.datasets,e),t}function K$(n,e){const{height:t=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:l,data:c,options:u,plugins:h=[],fallbackContent:m,updateMode:p,...b}=n,v=_.useRef(null),x=_.useRef(null),S=()=>{v.current&&(x.current=new xo(v.current,{type:l,data:Q$(c,i),options:u&&{...u},plugins:h}),nT(e,x.current))},E=()=>{nT(e,null),x.current&&(x.current.destroy(),x.current=null)};return _.useEffect(()=>{!r&&x.current&&u&&Z$(x.current,u)},[r,u]),_.useEffect(()=>{!r&&x.current&&gk(x.current.config.data,c.labels)},[r,c.labels]),_.useEffect(()=>{!r&&x.current&&c.datasets&&pk(x.current.config.data,c.datasets,i)},[r,c.datasets]),_.useEffect(()=>{x.current&&(r?(E(),setTimeout(S)):x.current.update(p))},[r,u,c.labels,c.datasets,p]),_.useEffect(()=>{x.current&&(E(),setTimeout(S))},[l]),_.useEffect(()=>(S(),()=>E()),[]),qn.createElement("canvas",{ref:v,role:"img",height:t,width:s,...b},m)}const J$=_.forwardRef(K$);function Mx(n,e){return xo.register(e),_.forwardRef((t,s)=>qn.createElement(J$,{...t,ref:s,type:n}))}const bk=Mx("bar",aF),eV=Mx("doughnut",XD),tV=Mx("pie",oF);xo.register(fk,hk,lk,uk,Eg,wg);const nV=({clubId:n})=>{const[e,t]=_.useState([]),[s,r]=_.useState(!0);if(_.useEffect(()=>{(async()=>{try{const u=await St.getMonthlyAttendance(n);t(u)}catch(u){console.error("월별 참여율 조회 실패:",u)}finally{r(!1)}})()},[n]),s)return f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})});const i={labels:e.map(c=>c.nickname),datasets:[{label:"참여율",data:e.map(c=>c.avgAttendanceRate),backgroundColor:["#6366F1","#14B8A6","#F59E0B","#8B5CF6","#EC4899"],borderWidth:0}]},l={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0,max:100,ticks:{callback:c=>c+"%"}},y:{ticks:{font:{size:12}}}}};return f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"동호회 회원별 참여율"}),f.jsx("span",{className:"text-sm text-gray-500",children:"(최근 6개월 기준)"})]}),f.jsx("div",{style:{height:"250px"},children:f.jsx(bk,{data:i,options:l})})]})};xo.register(ik,Eg,wg);const sV=({clubId:n})=>{const[e,t]=_.useState([]),[s,r]=_.useState(!0);if(_.useEffect(()=>{(async()=>{try{const u=await St.getAgeDistribution(n);t(u)}catch(u){console.error("나이대 분포 조회 실패:",u)}finally{r(!1)}})()},[n]),s)return f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})});const i={labels:e.map(c=>c.ageGroup),datasets:[{data:e.map(c=>c.count),backgroundColor:["#4CA8FF","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],borderWidth:0}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};return f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"동호회 나이대"}),f.jsx("div",{style:{height:"250px"},children:f.jsx(tV,{data:i,options:l})})]})};xo.register(ik,Eg,wg);const rV=({clubId:n})=>{const[e,t]=_.useState(null),[s,r]=_.useState(!0);if(_.useEffect(()=>{(async()=>{try{const u=await St.getGenderRatio(n);t(u)}catch(u){console.error("성비 조회 실패:",u)}finally{r(!1)}})()},[n]),s)return f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})});const i={labels:["남성","여성"],datasets:[{data:[e?.maleCount||0,e?.femaleCount||0],backgroundColor:["#4CA8FF","#EC4899"],borderWidth:0}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};return f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"동호회 회원 성비"}),f.jsx("div",{style:{height:"250px"},children:f.jsx(eV,{data:i,options:l})})]})};xo.register(fk,hk,lk,uk,Eg,wg);const iV=({clubId:n})=>{const[e,t]=_.useState([]),[s,r]=_.useState(!0);if(_.useEffect(()=>{(async()=>{try{const u=await St.getQuarterlyJoinStats(n);t(u)}catch(u){console.error("분기별 가입자 수 조회 실패:",u)}finally{r(!1)}})()},[n]),s)return f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})});const i={labels:e.map(c=>c.label),datasets:[{label:"가입자 수",data:e.map(c=>c.count),backgroundColor:"#4CA8FF"}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"동호회 기간별 가입자 수"}),f.jsx("span",{className:"text-sm text-gray-500",children:"(최근 18개월 기준)"})]}),f.jsx("div",{style:{height:"250px"},children:f.jsx(bk,{data:i,options:l})})]})},aV=({clubId:n,onDataLoad:e})=>{const[t,s]=_.useState(null),[r,i]=_.useState(0),[l,c]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const[h,m]=await Promise.all([St.getClubDetail(n),St.getClubMemberCount(n)]);s(h),i(m),e&&e(h)}catch(h){console.error("동호회 정보 조회 실패:",h)}finally{c(!1)}})()},[n,e]),l?f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):t?f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"동호회 정보"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:"동호회명"}),f.jsx("span",{className:"font-medium text-gray-900",children:t.clubName})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:"카테고리"}),f.jsx("span",{className:"font-medium text-gray-900",children:t.categoryName})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:"지역"}),f.jsx("span",{className:"font-medium text-gray-900",children:t.region})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:"회원 수"}),f.jsxs("span",{className:"font-medium text-gray-900",children:[r,"명 / ",t.maxMembers,"명"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:"개설일"}),f.jsx("span",{className:"font-medium text-gray-900",children:t.openedAt?new Date(t.openedAt).toLocaleDateString():"-"})]})]})]}):f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"동호회 정보를 불러올 수 없습니다"})})},lV=({clubId:n})=>{const e=_t(),[t,s]=_.useState([]),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const m=await xi.getNoticesByClubId(n);s(m.slice(0,5))}catch(m){console.error("공지사항 조회 실패:",m)}finally{i(!1)}})()},[n]);const l=h=>{if(!h)return"";const m=new Date(h),p=String(m.getMonth()+1).padStart(2,"0"),b=String(m.getDate()).padStart(2,"0");return`${p}.${b}`},c=()=>{e(`/clubs/${n}/notice`)},u=h=>{e(`/clubs/${n}/notice/${h}`)};return r?f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"공지사항"}),f.jsx("button",{onClick:c,className:"text-sm text-primary hover:underline",children:"전체 보기"})]}),t.length===0?f.jsx("div",{className:"text-center text-gray-500",children:"등록된 공지사항이 없습니다"}):f.jsx("div",{className:"space-y-2",children:t.map(h=>f.jsxs("div",{onClick:()=>u(h.postId),className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0 cursor-pointer hover:bg-gray-50",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[h.isPinned==="Y"&&f.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded text-xs font-medium flex-shrink-0",children:"공지"}),f.jsx("span",{className:"text-gray-900 truncate",children:h.title})]}),f.jsx("span",{className:"text-sm text-gray-500 ml-2 flex-shrink-0",children:l(h.createdAt)})]},h.postId))})]})},cl={getSchedulesByClubId:async n=>await dt(`/schedules/club/${n}`),getSchedule:async n=>await dt(`/schedules/${n}`),createSchedule:async n=>(await Dn("/schedules",n)).data,cancelSchedule:async n=>{await na(`/schedules/${n}`)},updateAttendanceStatus:async(n,e)=>{await ar(`/schedules/${n}/attendance?status=${e}`)},getClubMemberCount:async n=>await dt(`/clubs/${n}/member-count`)},oV=({clubId:n})=>{const e=_t(),[t,s]=_.useState([]),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const m=await cl.getSchedulesByClubId(n),p=new Date,b=m.filter(v=>new Date(v.scheduleStartDate)>=p).sort((v,x)=>new Date(v.scheduleStartDate)-new Date(x.scheduleStartDate)).slice(0,3);s(b)}catch(m){console.error("일정 조회 실패:",m)}finally{i(!1)}})()},[n]);const l=h=>{if(!h)return"";const m=new Date(h),p=m.getFullYear(),b=String(m.getMonth()+1).padStart(2,"0"),v=String(m.getDate()).padStart(2,"0"),x=["일","월","화","수","목","금","토"][m.getDay()];return`${p}년 ${b}월 ${v}일 (${x})`},c=h=>{if(!h)return"";const m=new Date(h),p=String(m.getHours()).padStart(2,"0"),b=String(m.getMinutes()).padStart(2,"0");return`오후 ${p}:${b}`},u=()=>{e(`/clubs/${n}/schedule`)};return r?f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"다가오는 일정"}),f.jsx("button",{onClick:u,className:"text-sm text-primary hover:underline",children:"전체 보기"})]}),f.jsx("div",{className:"space-y-4",children:t.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500",children:"다가오는 일정이 없습니다"}):t.map(h=>f.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:h.title}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ig,{className:"w-4 h-4"}),f.jsx("span",{children:l(h.scheduleStartDate)})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ag,{className:"w-4 h-4"}),f.jsxs("span",{children:[c(h.scheduleStartDate)," ~"," ",c(h.scheduleEndDate)]})]}),h.address&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sa,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:h.address})]})]})]},h.scheduleId))})]})},cV=({clubId:n})=>{const e=_t(),[t,s]=_.useState([]),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const u=await Bc.getClubMembers(n);s(u.slice(0,6))}catch(u){console.error("회원 목록 조회 실패:",u)}finally{i(!1)}})()},[n]);const l=()=>{e(`/clubs/${n}/members`)};return r?f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"동호회 회원"}),f.jsx("button",{onClick:l,className:"text-sm text-primary hover:underline",children:"전체 보기"})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.length===0?f.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"회원이 없습니다"}):t.map(c=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center overflow-hidden flex-shrink-0 ml-3",children:c.fileLink?f.jsx("img",{src:c.fileLink,alt:c.nickname,className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-lg text-white font-medium",children:c.nickname?.[0]||"?"})}),f.jsx("p",{className:"text-sm font-medium text-gray-900 ml-5",children:c.nickname})]},c.memberId))})]})},uV=({isOpen:n,onClose:e,onConfirm:t,clubName:s})=>n?f.jsx("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"동호회 탈퇴"}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("p",{className:"text-gray-700 mb-3",children:[f.jsx("span",{className:"font-semibold text-gray-900",children:s})," 동호회를 탈퇴하시겠습니까?"]}),f.jsx("p",{className:"text-sm text-gray-500",children:"탈퇴 시 동호회의 모든 활동 내역이 삭제되며, 복구할 수 없습니다."})]}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"탈퇴하기"})]})]})}):null,dV=()=>{const{clubId:n}=cr(),e=_t(),{currentClubRole:t,setCurrentClub:s}=ws(),[r,i]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null}),[m,p]=_.useState(!0),b=t==="LEADER"||t==="MANAGER",[v,x]=_.useState(""),S=t!=="LEADER";_.useEffect(()=>{n&&(async()=>{try{if(await St.getMyMemberStatus(n)!=="APPROVED"){p(!1),h({isOpen:!0,message:"동호회 회원이 아니거나 접근 권한이 없습니다.",redirectOnclose:!0,nextUrl:`/clubs/${n}/detail`});return}}catch{p(!1),h({isOpen:!0,message:"동호회 접근 권한이 없습니다.",redirectOnClose:!0,nextUrl:`/clubs/${n}/detail`})}})()},[n,e]);const E=()=>{i(!1),c(!0)},N=async()=>{try{await St.withdrawFromClub(n),c(!1),window.dispatchEvent(new Event("clubUpdated")),s(null,null),h({isOpen:!0,message:"동호회에서 탈퇴되었습니다.",redirectOnClose:!0,nextUrl:"/"});return}catch(T){c(!1);const D=T.response?.data?.message||"탈퇴 처리 중 오류가 발생했습니다.";h({isOpen:!0,message:D,redirectOnClose:!0,nextUrl:null})}},A=T=>{T&&T.clubName&&x(T.clubName)},R=()=>{const{redirectOnClose:T,nextUrl:D}=u;h({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null}),T&&D&&e(D)};return m?f.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"대시보드"}),S&&f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>i(!r),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"메뉴 열기",children:f.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),r&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),f.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:f.jsx("button",{onClick:E,className:"w-full text-left px-4 py-3 hover:bg-gray-50 text-red-500 font-medium rounded-lg",children:"동호회 탈퇴"})})]})]})]}),b&&f.jsxs("div",{className:"space-y-6 mb-8",children:[f.jsx(nV,{clubId:n}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsx(sV,{clubId:n}),f.jsx(rV,{clubId:n})]}),f.jsx(iV,{clubId:n})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[f.jsx(aV,{clubId:n,onDataLoad:A}),f.jsx("div",{className:"col-span-2",children:f.jsx(lV,{clubId:n})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[f.jsx("div",{className:"col-span-2",children:f.jsx(oV,{clubId:n})}),f.jsx(cV,{clubId:n})]})]}),f.jsx(uV,{isOpen:l,onClose:()=>c(!1),onConfirm:N,clubName:v}),f.jsx(sn,{isOpen:u.isOpen,message:u.message,onClose:R})]}):f.jsx("div",{className:"max-w-7xl mx-auto p-6",children:f.jsx(sn,{isOpen:u.isOpen,message:u.message,onClose:R})})};var _g,Ge,yk,vk,Rc,Wl,sT,xk,wk,Bm={},Ek=[],fV=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ka(n,e){for(var t in e)n[t]=e[t];return n}function Sk(n){var e=n.parentNode;e&&e.removeChild(n)}function fe(n,e,t){var s,r,i,l={};for(i in e)i=="key"?s=e[i]:i=="ref"?r=e[i]:l[i]=e[i];if(arguments.length>2&&(l.children=arguments.length>3?_g.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(i in n.defaultProps)l[i]===void 0&&(l[i]=n.defaultProps[i]);return fm(n,l,s,r,null)}function fm(n,e,t,s,r){var i={type:n,props:e,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++yk};return r==null&&Ge.vnode!=null&&Ge.vnode(i),i}function aa(){return{current:null}}function _n(n){return n.children}function hV(n,e,t,s,r){var i;for(i in t)i==="children"||i==="key"||i in e||Pm(n,i,null,t[i],s);for(i in e)r&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||t[i]===e[i]||Pm(n,i,e[i],t[i],s)}function rT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||fV.test(e)?t:t+"px"}function Pm(n,e,t,s,r){var i;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof s=="string"&&(n.style.cssText=s=""),s)for(e in s)t&&e in t||rT(n.style,e,"");if(t)for(e in t)s&&t[e]===s[e]||rT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+i]=t,t?s||n.addEventListener(e,i?aT:iT,i):n.removeEventListener(e,i?aT:iT,i);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function iT(n){Rc=!0;try{return this.l[n.type+!1](Ge.event?Ge.event(n):n)}finally{Rc=!1}}function aT(n){Rc=!0;try{return this.l[n.type+!0](Ge.event?Ge.event(n):n)}finally{Rc=!1}}function lr(n,e){this.props=n,this.context=e}function Ld(n,e){if(e==null)return n.__?Ld(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ld(n):null}function _k(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return _k(n)}}function mV(n){Rc?setTimeout(n):xk(n)}function bv(n){(!n.__d&&(n.__d=!0)&&Wl.push(n)&&!Um.__r++||sT!==Ge.debounceRendering)&&((sT=Ge.debounceRendering)||mV)(Um)}function Um(){var n,e,t,s,r,i,l,c;for(Wl.sort(function(u,h){return u.__v.__b-h.__v.__b});n=Wl.shift();)n.__d&&(e=Wl.length,s=void 0,r=void 0,l=(i=(t=n).__v).__e,(c=t.__P)&&(s=[],(r=Ka({},i)).__v=i.__v+1,Lx(c,i,r,t.__n,c.ownerSVGElement!==void 0,i.__h!=null?[l]:null,s,l??Ld(i),i.__h),jk(s,i),i.__e!=l&&_k(i)),Wl.length>e&&Wl.sort(function(u,h){return u.__v.__b-h.__v.__b}));Um.__r=0}function Nk(n,e,t,s,r,i,l,c,u,h){var m,p,b,v,x,S,E,N=s&&s.__k||Ek,A=N.length;for(t.__k=[],m=0;m<e.length;m++)if((v=t.__k[m]=(v=e[m])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?fm(null,v,null,null,v):Array.isArray(v)?fm(_n,{children:v},null,null,null):v.__b>0?fm(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=t,v.__b=t.__b+1,(b=N[m])===null||b&&v.key==b.key&&v.type===b.type)N[m]=void 0;else for(p=0;p<A;p++){if((b=N[p])&&v.key==b.key&&v.type===b.type){N[p]=void 0;break}b=null}Lx(n,v,b=b||Bm,r,i,l,c,u,h),x=v.__e,(p=v.ref)&&b.ref!=p&&(E||(E=[]),b.ref&&E.push(b.ref,null,v),E.push(p,v.__c||x,v)),x!=null?(S==null&&(S=x),typeof v.type=="function"&&v.__k===b.__k?v.__d=u=Ak(v,u,n):u=Ck(n,v,b,N,x,u),typeof t.type=="function"&&(t.__d=u)):u&&b.__e==u&&u.parentNode!=n&&(u=Ld(b))}for(t.__e=S,m=A;m--;)N[m]!=null&&(typeof t.type=="function"&&N[m].__e!=null&&N[m].__e==t.__d&&(t.__d=Tk(s).nextSibling),Dk(N[m],N[m]));if(E)for(m=0;m<E.length;m++)Rk(E[m],E[++m],E[++m])}function Ak(n,e,t){for(var s,r=n.__k,i=0;r&&i<r.length;i++)(s=r[i])&&(s.__=n,e=typeof s.type=="function"?Ak(s,e,t):Ck(t,s,s,r,s.__e,e));return e}function Hm(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Hm(t,e)}):e.push(n)),e}function Ck(n,e,t,s,r,i){var l,c,u;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||r!=i||r.parentNode==null)e:if(i==null||i.parentNode!==n)n.appendChild(r),l=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<s.length;u+=1)if(c==r)break e;n.insertBefore(r,i),l=i}return l!==void 0?l:r.nextSibling}function Tk(n){var e,t,s;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(s=Tk(t)))return s}return null}function Lx(n,e,t,s,r,i,l,c,u){var h,m,p,b,v,x,S,E,N,A,R,T,D,M,U,I=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,c=e.__e=t.__e,e.__h=null,i=[c]),(h=Ge.__b)&&h(e);try{e:if(typeof I=="function"){if(E=e.props,N=(h=I.contextType)&&s[h.__c],A=h?N?N.props.value:h.__:s,t.__c?S=(m=e.__c=t.__c).__=m.__E:("prototype"in I&&I.prototype.render?e.__c=m=new I(E,A):(e.__c=m=new lr(E,A),m.constructor=I,m.render=pV),N&&N.sub(m),m.props=E,m.state||(m.state={}),m.context=A,m.__n=s,p=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),I.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Ka({},m.__s)),Ka(m.__s,I.getDerivedStateFromProps(E,m.__s))),b=m.props,v=m.state,m.__v=e,p)I.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(I.getDerivedStateFromProps==null&&E!==b&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(E,A),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(E,m.__s,A)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(m.props=E,m.state=m.__s,m.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(F){F&&(F.__=e)}),R=0;R<m._sb.length;R++)m.__h.push(m._sb[R]);m._sb=[],m.__h.length&&l.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(E,m.__s,A),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(b,v,x)})}if(m.context=A,m.props=E,m.__P=n,T=Ge.__r,D=0,"prototype"in I&&I.prototype.render){for(m.state=m.__s,m.__d=!1,T&&T(e),h=m.render(m.props,m.state,m.context),M=0;M<m._sb.length;M++)m.__h.push(m._sb[M]);m._sb=[]}else do m.__d=!1,T&&T(e),h=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++D<25);m.state=m.__s,m.getChildContext!=null&&(s=Ka(Ka({},s),m.getChildContext())),p||m.getSnapshotBeforeUpdate==null||(x=m.getSnapshotBeforeUpdate(b,v)),U=h!=null&&h.type===_n&&h.key==null?h.props.children:h,Nk(n,Array.isArray(U)?U:[U],e,t,s,r,i,l,c,u),m.base=e.__e,e.__h=null,m.__h.length&&l.push(m),S&&(m.__E=m.__=null),m.__e=!1}else i==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=gV(t.__e,e,t,s,r,i,l,u);(h=Ge.diffed)&&h(e)}catch(F){e.__v=null,(u||i!=null)&&(e.__e=c,e.__h=!!u,i[i.indexOf(c)]=null),Ge.__e(F,e,t)}}function jk(n,e){Ge.__c&&Ge.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(s){s.call(t)})}catch(s){Ge.__e(s,t.__v)}})}function gV(n,e,t,s,r,i,l,c){var u,h,m,p=t.props,b=e.props,v=e.type,x=0;if(v==="svg"&&(r=!0),i!=null){for(;x<i.length;x++)if((u=i[x])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){n=u,i[x]=null;break}}if(n==null){if(v===null)return document.createTextNode(b);n=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,b.is&&b),i=null,c=!1}if(v===null)p===b||c&&n.data===b||(n.data=b);else{if(i=i&&_g.call(n.childNodes),h=(p=t.props||Bm).dangerouslySetInnerHTML,m=b.dangerouslySetInnerHTML,!c){if(i!=null)for(p={},x=0;x<n.attributes.length;x++)p[n.attributes[x].name]=n.attributes[x].value;(m||h)&&(m&&(h&&m.__html==h.__html||m.__html===n.innerHTML)||(n.innerHTML=m&&m.__html||""))}if(hV(n,b,p,r,c),m)e.__k=[];else if(x=e.props.children,Nk(n,Array.isArray(x)?x:[x],e,t,s,r&&v!=="foreignObject",i,l,i?i[0]:t.__k&&Ld(t,0),c),i!=null)for(x=i.length;x--;)i[x]!=null&&Sk(i[x]);c||("value"in b&&(x=b.value)!==void 0&&(x!==n.value||v==="progress"&&!x||v==="option"&&x!==p.value)&&Pm(n,"value",x,p.value,!1),"checked"in b&&(x=b.checked)!==void 0&&x!==n.checked&&Pm(n,"checked",x,p.checked,!1))}return n}function Rk(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(s){Ge.__e(s,t)}}function Dk(n,e,t){var s,r;if(Ge.unmount&&Ge.unmount(n),(s=n.ref)&&(s.current&&s.current!==n.__e||Rk(s,null,e)),(s=n.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(i){Ge.__e(i,e)}s.base=s.__P=null,n.__c=void 0}if(s=n.__k)for(r=0;r<s.length;r++)s[r]&&Dk(s[r],e,t||typeof n.type!="function");t||n.__e==null||Sk(n.__e),n.__=n.__e=n.__d=void 0}function pV(n,e,t){return this.constructor(n,t)}function Id(n,e,t){var s,r,i;Ge.__&&Ge.__(n,e),r=(s=!1)?null:e.__k,i=[],Lx(e,n=e.__k=fe(_n,null,[n]),r||Bm,Bm,e.ownerSVGElement!==void 0,r?null:e.firstChild?_g.call(e.childNodes):null,i,r?r.__e:e.firstChild,s),jk(i,n)}function bV(n,e){var t={__c:e="__cC"+wk++,__:n,Consumer:function(s,r){return s.children(r)},Provider:function(s){var r,i;return this.getChildContext||(r=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(c){c.__e=!0,bv(c)})},this.sub=function(l){r.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),c&&c.call(l)}}),s.children}};return t.Provider.__=t.Consumer.contextType=t}_g=Ek.slice,Ge={__e:function(n,e,t,s){for(var r,i,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,s||{}),l=r.__d),l)return r.__E=r}catch(c){n=c}throw n}},yk=0,vk=function(n){return n!=null&&n.constructor===void 0},Rc=!1,lr.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ka({},this.state),typeof n=="function"&&(n=n(Ka({},t),this.props)),n&&Ka(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),bv(this))},lr.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),bv(this))},lr.prototype.render=_n,Wl=[],xk=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Um.__r=0,wk=0;var yi,by,lT,kk=[],yy=[],oT=Ge.__b,cT=Ge.__r,uT=Ge.diffed,dT=Ge.__c,fT=Ge.unmount;function yV(){for(var n;n=kk.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hm),n.__H.__h.forEach(yv),n.__H.__h=[]}catch(e){n.__H.__h=[],Ge.__e(e,n.__v)}}Ge.__b=function(n){yi=null,oT&&oT(n)},Ge.__r=function(n){cT&&cT(n);var e=(yi=n.__c).__H;e&&(by===yi?(e.__h=[],yi.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=yy,t.__N=t.i=void 0})):(e.__h.forEach(hm),e.__h.forEach(yv),e.__h=[])),by=yi},Ge.diffed=function(n){uT&&uT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(kk.push(e)!==1&&lT===Ge.requestAnimationFrame||((lT=Ge.requestAnimationFrame)||vV)(yV)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==yy&&(t.__=t.__V),t.i=void 0,t.__V=yy})),by=yi=null},Ge.__c=function(n,e){e.some(function(t){try{t.__h.forEach(hm),t.__h=t.__h.filter(function(s){return!s.__||yv(s)})}catch(s){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Ge.__e(s,t.__v)}}),dT&&dT(n,e)},Ge.unmount=function(n){fT&&fT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(s){try{hm(s)}catch(r){e=r}}),t.__H=void 0,e&&Ge.__e(e,t.__v))};var hT=typeof requestAnimationFrame=="function";function vV(n){var e,t=function(){clearTimeout(s),hT&&cancelAnimationFrame(e),setTimeout(n)},s=setTimeout(t,100);hT&&(e=requestAnimationFrame(t))}function hm(n){var e=yi,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),yi=e}function yv(n){var e=yi;n.__c=n.__(),yi=e}function xV(n,e){for(var t in e)n[t]=e[t];return n}function mT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var s in e)if(s!=="__source"&&n[s]!==e[s])return!0;return!1}function gT(n){this.props=n}(gT.prototype=new lr).isPureReactComponent=!0,gT.prototype.shouldComponentUpdate=function(n,e){return mT(this.props,n)||mT(this.state,e)};var pT=Ge.__b;Ge.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),pT&&pT(n)};var wV=Ge.__e;Ge.__e=function(n,e,t,s){if(n.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}wV(n,e,t,s)};var bT=Ge.unmount;function Ok(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),n.__c.__H=null),(n=xV({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(s){return Ok(s,e,t)})),n}function Mk(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(s){return Mk(s,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function vy(){this.__u=0,this.t=null,this.__b=null}function Lk(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function $h(){this.u=null,this.o=null}Ge.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),bT&&bT(n)},(vy.prototype=new lr).__c=function(n,e){var t=e.__c,s=this;s.t==null&&(s.t=[]),s.t.push(t);var r=Lk(s.__v),i=!1,l=function(){i||(i=!0,t.__R=null,r?r(c):c())};t.__R=l;var c=function(){if(!--s.__u){if(s.state.__a){var h=s.state.__a;s.__v.__k[0]=Mk(h,h.__c.__P,h.__c.__O)}var m;for(s.setState({__a:s.__b=null});m=s.t.pop();)m.forceUpdate()}},u=e.__h===!0;s.__u++||u||s.setState({__a:s.__b=s.__v.__k[0]}),n.then(l,l)},vy.prototype.componentWillUnmount=function(){this.t=[]},vy.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=Ok(this.__b,t,s.__O=s.__P)}this.__b=null}var r=e.__a&&fe(_n,null,n.fallback);return r&&(r.__h=null),[fe(_n,null,e.__a?null:n.children),r]};var yT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function EV(n){return this.getChildContext=function(){return n.context},n.children}function SV(n){var e=this,t=n.i;e.componentWillUnmount=function(){Id(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(s){this.childNodes.push(s),e.i.appendChild(s)},insertBefore:function(s,r){this.childNodes.push(s),e.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),e.i.removeChild(s)}}),Id(fe(EV,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function _V(n,e){var t=fe(SV,{__v:n,i:e});return t.containerInfo=e,t}($h.prototype=new lr).__a=function(n){var e=this,t=Lk(e.__v),s=e.o.get(n);return s[0]++,function(r){var i=function(){e.props.revealOrder?(s.push(r),yT(e,n,s)):r()};t?t(i):i()}},$h.prototype.render=function(n){this.u=null,this.o=new Map;var e=Hm(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},$h.prototype.componentDidUpdate=$h.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){yT(n,t,e)})};var NV=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,AV=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,CV=typeof document<"u",TV=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};lr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(lr.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var vT=Ge.event;function jV(){}function RV(){return this.cancelBubble}function DV(){return this.defaultPrevented}Ge.event=function(n){return vT&&(n=vT(n)),n.persist=jV,n.isPropagationStopped=RV,n.isDefaultPrevented=DV,n.nativeEvent=n};var xT={configurable:!0,get:function(){return this.class}},wT=Ge.vnode;Ge.vnode=function(n){var e=n.type,t=n.props,s=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var i in s={},t){var l=t[i];CV&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in t&&l==null||(i==="defaultValue"&&"value"in t&&t.value==null?i="value":i==="download"&&l===!0?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!TV(t.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():r&&AV.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),s[i]&&(i="oninputCapture")),s[i]=l)}e=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Hm(t.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),e=="select"&&s.defaultValue!=null&&(s.value=Hm(t.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),n.props=s,t.class!=t.className&&(xT.enumerable="className"in t,t.className!=null&&(s.class=t.className),Object.defineProperty(s,"className",xT))}n.$$typeof=NV,wT&&wT(n)};var ET=Ge.__r;Ge.__r=function(n){ET&&ET(n),n.__c};const Ik=[],vv=new Map;function Bk(n){Ik.push(n),vv.forEach(e=>{Uk(e,n)})}function kV(n){n.isConnected&&n.getRootNode&&Pk(n.getRootNode())}function Pk(n){let e=vv.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=MV();t&&(e.nonce=t);const s=n===document?document.head:n,r=n===document?s.querySelector("script,link[rel=stylesheet],link[as=style],style"):s.firstChild;s.insertBefore(e,r)}vv.set(n,e),OV(e)}}function OV(n){for(const e of Ik)Uk(n,e)}function Uk(n,e){const{sheet:t}=n,s=t.cssRules.length;e.split("}").forEach((r,i)=>{r=r.trim(),r&&t.insertRule(r+"}",s+i)})}let xy;function MV(){return xy===void 0&&(xy=LV()),xy}function LV(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Pk(document);var IV=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Bk(IV);class Ix{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:s}=this;e in s&&(t?delete s[e]:(s[e]-=1,s[e]<=0&&delete s[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Bx(n){n.parentNode&&n.parentNode.removeChild(n)}function vs(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(BV(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function BV(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function PV(n,e){let t=n instanceof HTMLElement?[n]:n,s=[];for(let r=0;r<t.length;r+=1){let i=t[r].querySelectorAll(e);for(let l=0;l<i.length;l+=1)s.push(i[l])}return s}const UV=/(top|left|right|bottom|width|height)$/i;function gd(n,e){for(let t in e)Hk(n,t,e[t])}function Hk(n,e,t){t==null?n.style[e]="":typeof t=="number"&&UV.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function zk(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let ST=0;function Ng(){return ST+=1,"fc-dom-"+ST}function Ag(n){n.preventDefault()}function HV(n,e){return t=>{let s=vs(t.target,n);s&&e.call(s,t,s)}}function qk(n,e,t,s){let r=HV(t,s);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function zV(n,e,t,s){let r;return qk(n,"mouseover",e,(i,l)=>{if(l!==r){r=l,t(i,l);let c=u=>{r=null,s(u,l),l.removeEventListener("mouseleave",c)};l.addEventListener("mouseleave",c)}})}const _T=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function qV(n,e){let t=s=>{e(s),_T.forEach(r=>{n.removeEventListener(r,t)})};_T.forEach(s=>{n.addEventListener(s,t)})}function Fk(n){return Object.assign({onClick:n},$k(n))}function $k(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let NT=0;function wo(){return NT+=1,String(NT)}function Px(){document.body.classList.add("fc-not-allowed")}function Ux(){document.body.classList.remove("fc-not-allowed")}function FV(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Ag)}function $V(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Ag)}function VV(n){n.addEventListener("contextmenu",Ag)}function WV(n){n.removeEventListener("contextmenu",Ag)}function GV(n){let e=[],t=[],s,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),s=0;s<t.length;s+=1)r=t[s],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function YV(n,e,t){let s,r;for(s=0;s<t.length;s+=1)if(r=XV(n,e,t[s]),r)return r;return 0}function XV(n,e,t){return t.func?t.func(n,e):ZV(n[t.field],e[t.field])*(t.order||1)}function ZV(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function wy(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function pd(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((s,r,i)=>s.replace("$"+i,r||""),n):t}function QV(n,e){return n-e}function Ey(n){return n%1===0}function KV(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const JV=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Lt(n,e){return typeof n=="string"?eW(n):typeof n=="object"&&n?AT(n):typeof n=="number"?AT({[e||"milliseconds"]:n}):null}function eW(n){let e=JV.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function AT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function tW(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function nW(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function sW(n){return Ec(n)/365}function rW(n){return Ec(n)/30}function Ec(n){return Bd(n)/864e5}function Bd(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function xv(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function ul(n,e,t){if(n===e)return!0;let s=n.length,r;if(s!==e.length)return!1;for(r=0;r<s;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const iW=["sun","mon","tue","wed","thu","fri","sat"];function CT(n,e){let t=Ja(n);return t[2]+=e*7,$s(t)}function ts(n,e){let t=Ja(n);return t[2]+=e,$s(t)}function dl(n,e){let t=Ja(n);return t[6]+=e,$s(t)}function aW(n,e){return Vc(n,e)/7}function Vc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function lW(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function oW(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function cW(n,e){return(e.valueOf()-n.valueOf())/1e3}function uW(n,e){let t=on(n),s=on(e);return{years:0,months:0,days:Math.round(Vc(t,s)),milliseconds:e.valueOf()-s.valueOf()-(n.valueOf()-t.valueOf())}}function dW(n,e){let t=zm(n,e);return t!==null&&t%7===0?t/7:null}function zm(n,e){return el(n)===el(e)?Math.round(Vc(n,e)):null}function on(n){return $s([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function fW(n){return $s([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function hW(n){return $s([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function mW(n){return $s([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function gW(n,e,t){let s=n.getUTCFullYear(),r=Sy(n,s,e,t);if(r<1)return Sy(n,s-1,e,t);let i=Sy(n,s+1,e,t);return i>=1?Math.min(r,i):r}function Sy(n,e,t,s){let r=$s([e,0,1+pW(e,t,s)]),i=on(n),l=Math.round(Vc(r,i));return Math.floor(l/7)+1}function pW(n,e,t){let s=7+e-t;return-((7+$s([n,0,s]).getUTCDay()-e)%7)+s-1}function TT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function jT(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Ja(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function $s(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Vk(n){return!isNaN(n.valueOf())}function el(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function bW(n,e,t=!1){let s=n.toISOString();return s=s.replace(".000",""),t&&(s=s.replace("T00:00:00Z","")),s.length>10&&(e==null?s=s.replace("Z",""):e!==0&&(s=s.replace("Z",zx(e,!0)))),s}function Hx(n){return n.toISOString().replace(/T.*$/,"")}function yW(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function zx(n,e=!1){let t=n<0?"-":"+",s=Math.abs(n),r=Math.floor(s/60),i=Math.round(s%60);return e?`${t+wy(r,2)}:${wy(i,2)}`:`GMT${t}${r}${i?`:${wy(i,2)}`:""}`}function kt(n,e,t){let s,r;return function(...i){if(!s)r=n.apply(this,i);else if(!ul(s,i)){let l=n.apply(this,i);(!e||!e(l,r))&&(r=l)}return s=i,r}}function mm(n,e,t){let s,r;return i=>(s?Jr(s,i)||(r=n.call(this,i)):r=n.call(this,i),s=i,r)}const _y={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},qm={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Vh=/\s*([ap])\.?m\.?/i,vW=/,/g,xW=/\s+/g,wW=/\u200e/g,EW=/UTC|GMT/;class SW{constructor(e){let t={},s={},r=9;for(let i in e)i in _y?(s[i]=e[i],_y[i]<9&&(r=Math.min(_y[i],r))):(t[i]=e[i],i in qm&&(r=Math.min(qm[i],r)));this.standardDateProps=t,this.extendedSettings=s,this.smallestUnitNum=r,this.buildFormattingFunc=kt(RT)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,s,r){let{standardDateProps:i,extendedSettings:l}=this,c=jW(e.marker,t.marker,s.calendarSystem);if(!c)return this.format(e,s);let u=c;u>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(u=1);let h=this.format(e,s),m=this.format(t,s);if(h===m)return h;let p=RW(i,u),b=RT(p,l,s),v=b(e),x=b(t),S=DW(h,v,m,x),E=l.separator||r||s.defaultSeparator||"";return S?S.before+v+E+x+S.after:h+E+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function RT(n,e,t){let s=Object.keys(n).length;return s===1&&n.timeZoneName==="short"?r=>zx(r.timeZoneOffset):s===0&&e.week?r=>TW(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):_W(n,e,t)}function _W(n,e,t){n=Object.assign({},n),e=Object.assign({},e),NW(n,e),n.timeZone="UTC";let s=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let i=Object.assign({},n);delete i.minute,r=new Intl.DateTimeFormat(t.locale.codes,i)}return i=>{let{marker:l}=i,c;r&&!l.getUTCMinutes()?c=r:c=s;let u=c.format(l);return AW(u,i,n,e,t)}}function NW(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function AW(n,e,t,s,r){return n=n.replace(wW,""),t.timeZoneName==="short"&&(n=CW(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":zx(e.timeZoneOffset))),s.omitCommas&&(n=n.replace(vW,"").trim()),s.omitZeroMinute&&(n=n.replace(":00","")),s.meridiem===!1?n=n.replace(Vh,"").trim():s.meridiem==="narrow"?n=n.replace(Vh,(i,l)=>l.toLocaleLowerCase()):s.meridiem==="short"?n=n.replace(Vh,(i,l)=>`${l.toLocaleLowerCase()}m`):s.meridiem==="lowercase"&&(n=n.replace(Vh,i=>i.toLocaleLowerCase())),n=n.replace(xW," "),n=n.trim(),n}function CW(n,e){let t=!1;return n=n.replace(EW,()=>(t=!0,e)),t||(n+=` ${e}`),n}function TW(n,e,t,s,r){let i=[];return r==="long"?i.push(t):(r==="short"||r==="narrow")&&i.push(e),(r==="long"||r==="short")&&i.push(" "),i.push(s.simpleNumberFormat.format(n)),s.options.direction==="rtl"&&i.reverse(),i.join("")}function jW(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:el(n)!==el(e)?1:0}function RW(n,e){let t={};for(let s in n)(!(s in qm)||qm[s]<=e)&&(t[s]=n[s]);return t}function DW(n,e,t,s){let r=0;for(;r<n.length;){let i=n.indexOf(e,r);if(i===-1)break;let l=n.substr(0,i);r=i+e.length;let c=n.substr(r),u=0;for(;u<t.length;){let h=t.indexOf(s,u);if(h===-1)break;let m=t.substr(0,h);u=h+s.length;let p=t.substr(u);if(l===m&&c===p)return{before:l,after:c}}}return null}function DT(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Fm(n,e,t,s){let r=DT(n,t.calendarSystem),i=e?DT(e,t.calendarSystem):null;return{date:r,start:r,end:i,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:s||t.defaultSeparator}}class kW{constructor(e){this.cmdStr=e}format(e,t,s){return t.cmdFormatter(this.cmdStr,Fm(e,null,t,s))}formatRange(e,t,s,r){return s.cmdFormatter(this.cmdStr,Fm(e,t,s,r))}}class OW{constructor(e){this.func=e}format(e,t,s){return this.func(Fm(e,null,t,s))}formatRange(e,t,s,r){return this.func(Fm(e,t,s,r))}}function es(n){return typeof n=="object"&&n?new SW(n):typeof n=="string"?new kW(n):typeof n=="function"?new OW(n):null}const kT={navLinkDayClick:ue,navLinkWeekClick:ue,duration:Lt,bootstrapFontAwesome:ue,buttonIcons:ue,customButtons:ue,defaultAllDayEventDuration:Lt,defaultTimedEventDuration:Lt,nextDayThreshold:Lt,scrollTime:Lt,scrollTimeReset:Boolean,slotMinTime:Lt,slotMaxTime:Lt,dayPopoverFormat:es,slotDuration:Lt,snapDuration:Lt,headerToolbar:ue,footerToolbar:ue,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:es,dayHeaderClassNames:ue,dayHeaderContent:ue,dayHeaderDidMount:ue,dayHeaderWillUnmount:ue,dayCellClassNames:ue,dayCellContent:ue,dayCellDidMount:ue,dayCellWillUnmount:ue,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ue,weekNumbers:Boolean,weekNumberClassNames:ue,weekNumberContent:ue,weekNumberDidMount:ue,weekNumberWillUnmount:ue,editable:Boolean,viewClassNames:ue,viewDidMount:ue,viewWillUnmount:ue,nowIndicator:Boolean,nowIndicatorSnap:ue,nowIndicatorClassNames:ue,nowIndicatorContent:ue,nowIndicatorDidMount:ue,nowIndicatorWillUnmount:ue,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ue,locale:ue,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ue,eventOrder:GV,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ue,contentHeight:ue,direction:String,weekNumberFormat:es,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ue,initialDate:ue,now:ue,eventDataTransform:ue,stickyHeaderDates:ue,stickyFooterScrollbar:ue,viewHeight:ue,defaultAllDay:Boolean,eventSourceFailure:ue,eventSourceSuccess:ue,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ue,eventConstraint:ue,eventAllow:ue,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ue,eventContent:ue,eventDidMount:ue,eventWillUnmount:ue,selectConstraint:ue,selectOverlap:ue,selectAllow:ue,droppable:Boolean,unselectCancel:String,slotLabelFormat:ue,slotLaneClassNames:ue,slotLaneContent:ue,slotLaneDidMount:ue,slotLaneWillUnmount:ue,slotLabelClassNames:ue,slotLabelContent:ue,slotLabelDidMount:ue,slotLabelWillUnmount:ue,dayMaxEvents:ue,dayMaxEventRows:ue,dayMinWidth:Number,slotLabelInterval:Lt,allDayText:String,allDayClassNames:ue,allDayContent:ue,allDayDidMount:ue,allDayWillUnmount:ue,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:es,rerenderDelay:Number,moreLinkText:ue,moreLinkHint:ue,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ue,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Lt,hiddenDays:ue,fixedWeekCount:Boolean,validRange:ue,visibleRange:ue,titleFormat:ue,eventInteractive:Boolean,noEventsText:String,viewHint:ue,navLinkHint:ue,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ue,moreLinkClassNames:ue,moreLinkContent:ue,moreLinkDidMount:ue,moreLinkWillUnmount:ue,monthStartFormat:es,handleCustomRendering:ue,customRenderingMetaMap:ue,customRenderingReplaces:Boolean},bd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},OT={datesSet:ue,eventsSet:ue,eventAdd:ue,eventChange:ue,eventRemove:ue,windowResize:ue,eventClick:ue,eventMouseEnter:ue,eventMouseLeave:ue,select:ue,unselect:ue,loading:ue,_unmount:ue,_beforeprint:ue,_afterprint:ue,_noEventDrop:ue,_noEventResize:ue,_resize:ue,_scrollRequest:ue},MT={buttonText:ue,buttonHints:ue,views:ue,plugins:ue,initialEvents:ue,events:ue,eventSources:ue},$l={headerToolbar:Vl,footerToolbar:Vl,buttonText:Vl,buttonHints:Vl,buttonIcons:Vl,dateIncrement:Vl,plugins:Wh,events:Wh,eventSources:Wh,resources:Wh};function Vl(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Jr(n,e):n===e}function Wh(n,e){return Array.isArray(n)&&Array.isArray(e)?ul(n,e):n===e}const MW={type:String,component:ue,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ue,usesMinMaxTime:Boolean,classNames:ue,content:ue,didMount:ue,willUnmount:ue};function Ny(n){return Fx(n,$l)}function qx(n,e){let t={},s={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(s[r]=n[r]);return{refined:t,extra:s}}function ue(n){return n}const{hasOwnProperty:$m}=Object.prototype;function Fx(n,e){let t={};if(e){for(let s in e)if(e[s]===Vl){let r=[];for(let i=n.length-1;i>=0;i-=1){let l=n[i][s];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[s]=l;break}}r.length&&(t[s]=Fx(r))}}for(let s=n.length-1;s>=0;s-=1){let r=n[s];for(let i in r)i in t||(t[i]=r[i])}return t}function co(n,e){let t={};for(let s in n)e(n[s],s)&&(t[s]=n[s]);return t}function Eo(n,e){let t={};for(let s in n)t[s]=e(n[s],s);return t}function Wk(n){let e={};for(let t of n)e[t]=!0;return e}function $x(n){let e=[];for(let t in n)e.push(n[t]);return e}function Jr(n,e){if(n===e)return!0;for(let t in n)if($m.call(n,t)&&!(t in e))return!1;for(let t in e)if($m.call(e,t)&&n[t]!==e[t])return!1;return!0}const LW=/^on[A-Z]/;function IW(n,e){const t=BW(n,e);for(let s of t)if(!LW.test(s))return!1;return!0}function BW(n,e){let t=[];for(let s in n)$m.call(n,s)&&(s in e||t.push(s));for(let s in e)$m.call(e,s)&&n[s]!==e[s]&&t.push(s);return t}function Ay(n,e,t={}){if(n===e)return!0;for(let s in e)if(!(s in n&&PW(n[s],e[s],t[s])))return!1;for(let s in n)if(!(s in e))return!1;return!0}function PW(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function UW(n,e=0,t,s=1){let r=[];t==null&&(t=Object.keys(n).length);for(let i=e;i<t;i+=s){let l=n[i];l!==void 0&&r.push(l)}return r}let Gk={};function HW(n,e){Gk[n]=e}function zW(n){return new Gk[n]}class qW{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return $s(e)}markerToArray(e){return Ja(e)}}HW("gregory",qW);const FW=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function $W(n){let e=FW.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Vk(t)){let s=null;return e[13]&&(s=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:s}}}return null}class VW{constructor(e){let t=this.timeZone=e.timeZone,s=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&s&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!s||this.namedTimeZoneImpl),this.calendarSystem=zW(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):$s(TT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=$s(e)),t===null||!Vk(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=$W(e);if(t===null)return null;let{marker:s}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?s=this.timestampToMarker(s.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:s,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let s=this.calendarSystem.markerToArray(e);return s[0]+=t.years,s[1]+=t.months,s[2]+=t.days,s[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(s)}subtract(e,t){let s=this.calendarSystem.markerToArray(e);return s[0]-=t.years,s[1]-=t.months,s[2]-=t.days,s[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(s)}addYears(e,t){let s=this.calendarSystem.markerToArray(e);return s[0]+=t,this.calendarSystem.arrayToMarker(s)}addMonths(e,t){let s=this.calendarSystem.markerToArray(e);return s[1]+=t,this.calendarSystem.arrayToMarker(s)}diffWholeYears(e,t){let{calendarSystem:s}=this;return el(e)===el(t)&&s.getMarkerDay(e)===s.getMarkerDay(t)&&s.getMarkerMonth(e)===s.getMarkerMonth(t)?s.getMarkerYear(t)-s.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:s}=this;return el(e)===el(t)&&s.getMarkerDay(e)===s.getMarkerDay(t)?s.getMarkerMonth(t)-s.getMarkerMonth(e)+(s.getMarkerYear(t)-s.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let s=this.diffWholeYears(e,t);return s!==null?{unit:"year",value:s}:(s=this.diffWholeMonths(e,t),s!==null?{unit:"month",value:s}:(s=dW(e,t),s!==null?{unit:"week",value:s}:(s=zm(e,t),s!==null?{unit:"day",value:s}:(s=lW(e,t),Ey(s)?{unit:"hour",value:s}:(s=oW(e,t),Ey(s)?{unit:"minute",value:s}:(s=cW(e,t),Ey(s)?{unit:"second",value:s}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,s){let r;return s.years&&(r=this.diffWholeYears(e,t),r!==null)?r/sW(s):s.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/rW(s):s.days&&(r=zm(e,t),r!==null)?r/Ec(s):(t.valueOf()-e.valueOf())/Bd(s)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?on(e):t==="hour"?fW(e):t==="minute"?hW(e):t==="second"?mW(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):gW(e,this.weekDow,this.weekDoy)}format(e,t,s={}){return t.format({marker:e,timeZoneOffset:s.forcedTzo!=null?s.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,s,r={}){return r.isEndExclusive&&(t=dl(t,-1)),s.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let s=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?s=t.forcedTzo:s=this.offsetForMarker(e)),bW(e,s,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?$s(TT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):$s(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-jT(Ja(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ja(e)):null}toDate(e,t){return this.timeZone==="local"?jT(Ja(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ja(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class nf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,s;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(s in e)t[s]=this.applyIconOverridePrefix(e[s]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let s;return t&&this.rtlIconClasses?s=this.rtlIconClasses[e]||this.iconClasses[e]:s=this.iconClasses[e],s?`${this.baseIconClass} ${s}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}nf.prototype.classes={};nf.prototype.iconClasses={};nf.prototype.baseIconClass="";nf.prototype.iconOverridePrefix="";function Vm(n){n();let e=Ge.debounceRendering,t=[];function s(r){t.push(r)}for(Ge.debounceRendering=s,Id(fe(WW,{}),document.createElement("div"));t.length;)t.shift()();Ge.debounceRendering=e}class WW extends lr{render(){return fe("div",{})}componentDidMount(){this.setState({})}}function Yk(n){let e=bV(n),t=e.Provider;return e.Provider=function(){let s=!this.getChildContext,r=t.apply(this,arguments);if(s){let i=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&i.forEach(c=>{c.context=l.value,c.forceUpdate()})},this.sub=l=>{i.push(l);let c=l.componentWillUnmount;l.componentWillUnmount=()=>{i.splice(i.indexOf(l),1),c&&c.call(l)}}}return r},e}class GW{constructor(e,t,s,r){this.execFunc=e,this.emitter=t,this.scrollTime=s,this.scrollTimeReset=r,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const So=Yk({});function YW(n,e,t,s,r,i,l,c,u,h,m,p,b,v){return{dateEnv:r,nowManager:i,options:t,pluginHooks:c,emitter:m,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:n,viewApi:e,dateProfileGenerator:s,theme:l,isRtl:t.direction==="rtl",addResizeHandler(x){m.on("_resize",x)},removeResizeHandler(x){m.off("_resize",x)},createScrollResponder(x){return new GW(x,m,Lt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:b,unregisterInteractiveComponent:v}}class _o extends lr{shouldComponentUpdate(e,t){return!Ay(this.props,e,this.propEquality)||!Ay(this.state,t,this.stateEquality)}safeSetState(e){Ay(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}_o.addPropsEquality=XW;_o.addStateEquality=ZW;_o.contextType=So;_o.prototype.propEquality={};_o.prototype.stateEquality={};class xn extends _o{}xn.contextType=So;function XW(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function ZW(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function _i(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class Vx extends xn{constructor(){super(...arguments),this.id=wo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:s}=this.props;(!t.customRenderingReplaces||!wv(s,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&_i(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:s}=t,{customGenerator:r,defaultGenerator:i,renderProps:l}=e,c=Xk(e,[],this.handleEl);let u=!1,h,m=[],p;if(r!=null){const b=typeof r=="function"?r(l,fe):r;if(b===!0)u=!0;else{const v=b&&typeof b=="object";v&&"html"in b?c.dangerouslySetInnerHTML={__html:b.html}:v&&"domNodes"in b?m=Array.prototype.slice.call(b.domNodes):(v?vk(b):typeof b!="function")?h=b:p=b}}else u=!wv(e.generatorName,s);return u&&i&&(h=i(l)),this.queuedDomNodes=m,this.currentGeneratorMeta=p,fe(e.elTag,c,h)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:s,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:l}=r.options;if(i){const c=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l?.[s.generatorName];c&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},s),{elClasses:(s.elClasses||[]).filter(QW)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,s=this.base;if(!ul(e,t)){t.forEach(Bx);for(let r of e)s.appendChild(r);this.currentDomNodes=e}}}Vx.addPropsEquality({elClasses:ul,elStyle:Jr,elAttrs:IW,renderProps:Jr});function wv(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function Xk(n,e,t){const s=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(s.className=(n.elClasses||[]).concat(e||[]).concat(s.className||[]).filter(Boolean).join(" ")),n.elStyle&&(s.style=n.elStyle),s}function QW(n){return!!n}const Zk=Yk(0);class ca extends lr{constructor(){super(...arguments),this.InnerContent=KW.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(_i(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=JW(e.classNameGenerator,e.renderProps);if(e.children){const s=Xk(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,s);return e.elTag?fe(e.elTag,s,r):r}else return fe(Vx,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ca.contextType=Zk;function KW(n,e){const t=n.props;return fe(Vx,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function JW(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class LT extends xn{render(){let{props:e,context:t}=this,{options:s}=t,r={view:t.viewApi};return fe(ca,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Qk(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:s.viewClassNames,generatorName:void 0,didMount:s.viewDidMount,willUnmount:s.viewWillUnmount},()=>e.children)}}function Qk(n){return[`fc-${n.type}-view`,"fc-view"]}function eG(n,e){let t=null,s=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(s=e.createMarker(n.end)),!t&&!s||t&&s&&s<t?null:{start:t,end:s}}function IT(n,e){let t=[],{start:s}=e,r,i;for(n.sort(tG),r=0;r<n.length;r+=1)i=n[r],i.start>s&&t.push({start:s,end:i.start}),i.end>s&&(s=i.end);return s<e.end&&t.push({start:s,end:e.end}),t}function tG(n,e){return n.start.valueOf()-e.start.valueOf()}function Dc(n,e){let{start:t,end:s}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(s===null?s=e.end:s=new Date(Math.min(s.valueOf(),e.end.valueOf()))),(t===null||s===null||t<s)&&(r={start:t,end:s}),r}function nG(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Wx(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Cg(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function il(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function sG(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function Kk(n){let e=Math.floor(Vc(n.start,n.end))||1,t=on(n.start),s=ts(t,e);return{start:t,end:s}}function Jk(n,e=Lt(0)){let t=null,s=null;if(n.end){s=on(n.end);let r=n.end.valueOf()-s.valueOf();r&&r>=Bd(e)&&(s=ts(s,1))}return n.start&&(t=on(n.start),s&&s<=t&&(s=ts(t,1))),{start:t,end:s}}function gc(n,e,t,s){return s==="year"?Lt(t.diffWholeYears(n,e),"year"):s==="month"?Lt(t.diffWholeMonths(n,e),"month"):uW(n,e)}class eO{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,s){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,s)}buildNext(e,t,s){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,s)}build(e,t,s=!0){let{props:r}=this,i,l,c,u,h,m;return i=this.buildValidRange(),i=this.trimHiddenDays(i),s&&(e=sG(e,i)),l=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(l.unit),u=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,c),u=this.trimHiddenDays(u),h=u,r.showNonCurrentDates||(h=Dc(h,l.range)),h=this.adjustActiveRange(h),h=Dc(h,i),m=Wx(l.range,i),il(u,e)||(e=u.start),{currentDate:e,validRange:i,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:c,activeRange:h,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:s}=this,r=null,i=null,l=null,c;return s.duration?(r=s.duration,i=s.durationUnit,l=this.buildRangeFromDuration(e,t,r,i)):(c=this.props.dayCount)?(i="day",l=this.buildRangeFromDayCount(e,t,c)):(l=this.buildCustomVisibleRange(e))?i=s.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),i=xv(r).unit,l=this.buildRangeFromDuration(e,t,r,i)),{duration:r,unit:i,range:l}}getFallbackDuration(){return Lt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:s,slotMinTime:r,slotMaxTime:i}=this.props,{start:l,end:c}=e;return s&&(Ec(r)<0&&(l=on(l),l=t.add(l,r)),Ec(i)>1&&(c=on(c),c=ts(c,-1),c=t.add(c,i))),{start:l,end:c}}buildRangeFromDuration(e,t,s,r){let{dateEnv:i,dateAlignment:l}=this.props,c,u,h;if(!l){let{dateIncrement:p}=this.props;p&&Bd(p)<Bd(s)?l=xv(p).unit:l=r}Ec(s)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,t),c=on(c));function m(){c=i.startOf(e,l),u=i.add(c,s),h={start:c,end:u}}return m(),this.trimHiddenDays(h)||(e=this.skipHiddenDays(e,t),m()),h}buildRangeFromDayCount(e,t,s){let{dateEnv:r,dateAlignment:i}=this.props,l=0,c=e,u;i&&(c=r.startOf(c,i)),c=on(c),c=this.skipHiddenDays(c,t),u=c;do u=ts(u,1),this.isHiddenDay(u)||(l+=1);while(l<s);return{start:c,end:u}}buildCustomVisibleRange(e){let{props:t}=this,s=t.visibleRangeInput,r=typeof s=="function"?s.call(t.calendarApi,t.dateEnv.toDate(e)):s,i=this.refineRange(r);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,t,s){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,s;return t||((s=this.props.dateAlignment)?Lt(1,s):e||Lt({days:1}))}refineRange(e){if(e){let t=eG(e,this.props.dateEnv);return t&&(t=Jk(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],s=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(s+=1);if(!s)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:s}=e;return t&&(t=this.skipHiddenDays(t)),s&&(s=this.skipHiddenDays(s,-1,!0)),t==null||s==null||t<s?{start:t,end:s}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,s=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(s?t:0)+7)%7];)e=ts(e,t);return e}}function Gx(n,e,t,s){return{instanceId:wo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:s??null}}function rG(n,e,t,s){for(let r=0;r<s.length;r+=1){let i=s[r].parse(n,t);if(i){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=i.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:i.duration,typeData:i.typeData,typeId:r}}}return null}function uo(n,e,t){let{dateEnv:s,pluginHooks:r,options:i}=t,{defs:l,instances:c}=n;c=co(c,u=>!l[u.defId].recurringDef);for(let u in l){let h=l[u];if(h.recurringDef){let{duration:m}=h.recurringDef;m||(m=h.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let p=iG(h,m,e,s,r.recurringTypes);for(let b of p){let v=Gx(u,{start:b,end:s.add(b,m)});c[v.instanceId]=v}}}return{defs:l,instances:c}}function iG(n,e,t,s,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:s.subtract(t.start,e),end:t.end},s);return n.allDay&&(l=l.map(on)),l}const gm={id:String,groupId:String,title:String,url:String,interactive:Boolean},tO={start:ue,end:ue,date:ue,allDay:Boolean},aG=Object.assign(Object.assign(Object.assign({},gm),tO),{extendedProps:ue});function nO(n,e,t,s,r=Yx(t),i,l){let{refined:c,extra:u}=sO(n,t,r),h=oG(e,t),m=rG(c,h,t.dateEnv,t.pluginHooks.recurringTypes);if(m){let b=Ev(c,u,e?e.sourceId:"",m.allDay,!!m.duration,t,i);return b.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:b,instance:null}}let p=lG(c,h,t,s);if(p){let b=Ev(c,u,e?e.sourceId:"",p.allDay,p.hasEnd,t,i),v=Gx(b.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return l&&b.publicId&&l[b.publicId]&&(v.instanceId=l[b.publicId]),{def:b,instance:v}}return null}function sO(n,e,t=Yx(e)){return qx(n,t)}function Yx(n){return Object.assign(Object.assign(Object.assign({},Wm),aG),n.pluginHooks.eventRefiners)}function Ev(n,e,t,s,r,i,l){let c={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||wo(),sourceId:t,allDay:s,hasEnd:r,interactive:n.interactive,ui:Gm(n,i),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let u of i.pluginHooks.eventDefMemberAdders)Object.assign(c,u(n));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function lG(n,e,t,s){let{allDay:r}=n,i,l=null,c=!1,u,h=null,m=n.start!=null?n.start:n.date;if(i=t.dateEnv.createMarkerMeta(m),i)l=i.marker;else if(!s)return null;return n.end!=null&&(u=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!i||i.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&l&&(l=on(l)),u&&(h=u.marker,r&&(h=on(h)),l&&h<=l&&(h=null)),h?c=!0:s||(c=t.options.forceEventDuration||!1,h=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:c,range:{start:l,end:h},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function oG(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Pd(n,e,t,s,r,i){let l=Qr(),c=Yx(t);for(let u of n){let h=nO(u,e,t,s,c,r,i);h&&Sv(h,l)}return l}function Sv(n,e=Qr()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Xx(n,e){let t=n.instances[e];if(t){let s=n.defs[t.defId],r=Tg(n,i=>cG(s,i));return r.defs[s.defId]=s,r.instances[t.instanceId]=t,r}return Qr()}function cG(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Qr(){return{defs:{},instances:{}}}function Zx(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Tg(n,e){let t=co(n.defs,e),s=co(n.instances,r=>t[r.defId]);return{defs:t,instances:s}}function uG(n,e){let{defs:t,instances:s}=n,r={},i={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in s)!e.instances[l]&&r[s[l].defId]&&(i[l]=s[l]);return{defs:r,instances:i}}function dG(n,e){return Array.isArray(n)?Pd(n,null,e,!0):typeof n=="object"&&n?Pd([n],null,e,!0):n!=null?String(n):null}function BT(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Wm={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ue,overlap:ue,allow:ue,className:BT,classNames:BT,color:String,backgroundColor:String,borderColor:String,textColor:String},fG={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Gm(n,e){let t=dG(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function hG(n){return n.reduce(mG,fG)}function mG(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const gG={id:String,defaultAllDay:Boolean,url:String,format:String,events:ue,eventDataTransform:ue,success:ue,failure:ue};function rO(n,e,t=iO(e)){let s;if(typeof n=="string"?s={url:n}:typeof n=="function"||Array.isArray(n)?s={events:n}:typeof n=="object"&&n&&(s=n),s){let{refined:r,extra:i}=qx(s,t),l=pG(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:wo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Gm(r,e),extendedProps:i}}return null}function iO(n){return Object.assign(Object.assign(Object.assign({},Wm),gG),n.pluginHooks.eventSourceRefiners)}function pG(n,e){let t=e.pluginHooks.eventSourceDefs;for(let s=t.length-1;s>=0;s-=1){let i=t[s].parseMeta(n);if(i)return{sourceDefId:s,meta:i}}return null}function bG(n,e,t,s,r){switch(e.type){case"RECEIVE_EVENTS":return yG(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return vG(n,t[e.sourceId],e.rawEvents,s.activeRange,r);case"ADD_EVENTS":return xG(n,e.eventStore,s?s.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Zx(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return s?uo(n,s.activeRange,r):n;case"REMOVE_EVENTS":return uG(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return lO(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Tg(n,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Qr();default:return n}}function yG(n,e,t,s,r,i){if(e&&t===e.latestFetchId){let l=Pd(aO(r,e,i),e,i);return s&&(l=uo(l,s,i)),Zx(lO(n,e.sourceId),l)}return n}function vG(n,e,t,s,r){const{defIdMap:i,instanceIdMap:l}=EG(n);let c=Pd(aO(t,e,r),e,r,!1,i,l);return uo(c,s,r)}function aO(n,e,t){let s=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=PT(n,r)),s&&(n=PT(n,s)),n}function PT(n,e){let t;if(!e)t=n;else{t=[];for(let s of n){let r=e(s);r?t.push(r):r==null&&t.push(s)}}return t}function xG(n,e,t,s){return t&&(e=uo(e,t,s)),Zx(n,e)}function UT(n,e,t){let{defs:s}=n,r=Eo(n.instances,i=>s[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:t.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:t.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:i.forcedEndTzo}));return{defs:s,instances:r}}function lO(n,e){return Tg(n,t=>t.sourceId!==e)}function wG(n,e){return{defs:n.defs,instances:co(n.instances,t=>!e[t.instanceId])}}function EG(n){const{defs:e,instances:t}=n,s={},r={};for(let i in e){const l=e[i],{publicId:c}=l;c&&(s[c]=i)}for(let i in t){const l=t[i],c=e[l.defId],{publicId:u}=c;u&&(r[u]=i)}return{defIdMap:s,instanceIdMap:r}}class jg{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){SG(this.handlers,e,t)}off(e,t){_G(this.handlers,e,t)}trigger(e,...t){let s=this.handlers[e]||[],r=this.options&&this.options[e],i=[].concat(r||[],s);for(let l of i)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function SG(n,e,t){(n[e]||(n[e]=[])).push(t)}function _G(n,e,t){t?n[e]&&(n[e]=n[e].filter(s=>s!==t)):delete n[e]}const NG={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function AG(n,e){return Pd(CG(n),null,e)}function CG(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},NG),t)),e}function oO(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Qx(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function TG(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Qx(n,e){let t={};for(let s of e.pluginHooks.dateSpanTransforms)Object.assign(t,s(n,e));return Object.assign(t,FG(n,e.dateEnv)),t}function HT(n,e,t){let{dateEnv:s,options:r}=t,i=e;return n?(i=on(i),i=s.add(i,r.defaultAllDayEventDuration)):i=s.add(i,r.defaultTimedEventDuration),i}function Kx(n,e,t,s){let r=Ym(n.defs,e),i=Qr();for(let l in n.defs){let c=n.defs[l];i.defs[l]=jG(c,r[l],t,s)}for(let l in n.instances){let c=n.instances[l],u=i.defs[c.defId];i.instances[l]=RG(c,u,r[c.defId],t,s)}return i}function jG(n,e,t,s){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),t.extendedProps));for(let l of s.pluginHooks.eventDefMutationAppliers)l(i,t,s);return!i.hasEnd&&s.options.forceEventDuration&&(i.hasEnd=!0),i}function RG(n,e,t,s,r){let{dateEnv:i}=r,l=s.standardProps&&s.standardProps.allDay===!0,c=s.standardProps&&s.standardProps.hasEnd===!1,u=Object.assign({},n);return l&&(u.range=Kk(u.range)),s.datesDelta&&t.startEditable&&(u.range={start:i.add(u.range.start,s.datesDelta),end:i.add(u.range.end,s.datesDelta)}),s.startDelta&&t.durationEditable&&(u.range={start:i.add(u.range.start,s.startDelta),end:u.range.end}),s.endDelta&&t.durationEditable&&(u.range={start:u.range.start,end:i.add(u.range.end,s.endDelta)}),c&&(u.range={start:u.range.start,end:HT(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:on(u.range.start),end:on(u.range.end)}),u.range.end<u.range.start&&(u.range.end=HT(e.allDay,u.range.start,r)),u}class mc{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class cn{constructor(e,t,s){this._context=e,this._def=t,this._instance=s||null}setProp(e,t){if(e in tO)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=gm[e](t),this.mutate({standardProps:{publicId:t}});else if(e in gm)t=gm[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Wm){let s=Wm[e](t);e==="color"?s={backgroundColor:t,borderColor:t}:e==="editable"?s={startEditable:t,durationEditable:t}:s={[e]:t},this.mutate({standardProps:{ui:s}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:s}=this._context,r=s.createMarker(e);if(r&&this._instance){let i=this._instance.range,l=gc(i.start,r,s,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:s}=this._context,r;if(!(e!=null&&(r=s.createMarker(e),!r))&&this._instance)if(r){let i=gc(this._instance.range.end,r,s,t.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,s={}){let{dateEnv:r}=this._context,i={allDay:s.allDay},l=r.createMarker(e),c;if(l&&!(t!=null&&(c=r.createMarker(t),!c))&&this._instance){let u=this._instance.range;s.allDay===!0&&(u=Kk(u));let h=gc(u.start,l,r,s.granularity);if(c){let m=gc(u.end,c,r,s.granularity);tW(h,m)?this.mutate({datesDelta:h,standardProps:i}):this.mutate({startDelta:h,endDelta:m,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:h,standardProps:i})}}moveStart(e){let t=Lt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Lt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Lt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let s={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(s.hasEnd=r),this.mutate({standardProps:s})}formatRange(e){let{dateEnv:t}=this._context,s=this._instance,r=es(e);return this._def.hasEnd?t.formatRange(s.range.start,s.range.end,r,{forcedStartTzo:s.forcedStartTzo,forcedEndTzo:s.forcedEndTzo}):t.format(s.range.start,r,{forcedTzo:s.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let s=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),l=Xx(i,t.instanceId);l=Kx(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new cn(r,s,t);this._def=l.defs[s.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Jl(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=cO(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new mc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:s}=t,{startStr:r,endStr:i}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),i&&(l.end=i),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),s.display&&s.display!=="auto"&&(l.display=s.display),e.collapseColor&&s.backgroundColor&&s.backgroundColor===s.borderColor?l.color=s.backgroundColor:(s.backgroundColor&&(l.backgroundColor=s.backgroundColor),s.borderColor&&(l.borderColor=s.borderColor)),s.textColor&&(l.textColor=s.textColor),s.classNames.length&&(l.classNames=s.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function cO(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Jl(n,e,t){let{defs:s,instances:r}=n,i=[],l=t?t.instanceId:"";for(let c in r){let u=r[c],h=s[u.defId];u.instanceId!==l&&i.push(new cn(e,h,u))}return i}function zT(n,e,t,s){let r={},i={},l={},c=[],u=[],h=Ym(n.defs,e);for(let m in n.defs){let p=n.defs[m];h[p.defId].display==="inverse-background"&&(p.groupId?(r[p.groupId]=[],l[p.groupId]||(l[p.groupId]=p)):i[m]=[])}for(let m in n.instances){let p=n.instances[m],b=n.defs[p.defId],v=h[b.defId],x=p.range,S=!b.allDay&&s?Jk(x,s):x,E=Dc(S,t);E&&(v.display==="inverse-background"?b.groupId?r[b.groupId].push(E):i[p.defId].push(E):v.display!=="none"&&(v.display==="background"?c:u).push({def:b,ui:v,instance:p,range:E,isStart:S.start&&S.start.valueOf()===E.start.valueOf(),isEnd:S.end&&S.end.valueOf()===E.end.valueOf()}))}for(let m in r){let p=r[m],b=IT(p,t);for(let v of b){let x=l[m],S=h[x.defId];c.push({def:x,ui:S,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let m in i){let p=i[m],b=IT(p,t);for(let v of b)c.push({def:n.defs[m],ui:h[m],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:c,fg:u}}function qT(n,e){n.fcSeg=e}function kc(n){return n.fcSeg||n.parentNode.fcSeg||null}function Ym(n,e){return Eo(n,t=>uO(t,e))}function uO(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),hG(t)}function DG(n,e){let t=n.map(kG);return t.sort((s,r)=>YV(s,r,e)),t.map(s=>s._seg)}function kG(n){let{eventRange:e}=n,t=e.def,s=e.instance?e.instance.range:e.range,r=s.start?s.start.valueOf():0,i=s.end?s.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:i,duration:i-r,allDay:Number(t.allDay),_seg:n})}function OG(n,e){let{pluginHooks:t}=e,s=t.isDraggableTransformers,{def:r,ui:i}=n.eventRange,l=i.startEditable;for(let c of s)l=c(l,r,i,e);return l}function MG(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function LG(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function dO(n,e,t,s,r,i,l){let{dateEnv:c,options:u}=t,{displayEventTime:h,displayEventEnd:m}=u,p=n.eventRange.def,b=n.eventRange.instance;h==null&&(h=s!==!1),m==null&&(m=r!==!1);let v=b.range.start,x=b.range.end,S=n.start||n.eventRange.range.start,E=n.end||n.eventRange.range.end,N=on(v).valueOf()===on(S).valueOf(),A=on(dl(x,-1)).valueOf()===on(dl(E,-1)).valueOf();return h&&!p.allDay&&(N||A)?(S=N?v:S,E=A?x:E,m&&p.hasEnd?c.formatRange(S,E,e,{forcedStartTzo:b.forcedStartTzo,forcedEndTzo:b.forcedEndTzo}):c.format(S,e,{forcedTzo:b.forcedStartTzo})):""}function yd(n,e,t){let s=n.eventRange.range;return{isPast:s.end<=e.start,isFuture:s.start>=e.end,isToday:e&&il(e,s.start)}}function IG(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function BG(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function fO(n,e){let{def:t,instance:s}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:i,options:l}=e,{eventInteractive:c}=l;return c==null&&(c=t.interactive,c==null&&(c=!!i.hasHandlers("eventClick"))),c?$k(u=>{i.trigger("eventClick",{el:u.target,event:new cn(e,t,s),jsEvent:u,view:e.viewApi})}):{}}const PG={start:ue,end:ue,allDay:Boolean};function UG(n,e,t){let s=HG(n,e),{range:r}=s;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return s}function HG(n,e){let{refined:t,extra:s}=qx(n,PG),r=t.start?e.createMarkerMeta(t.start):null,i=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:i?i.marker:null},allDay:l},s)}function zG(n,e){return nG(n.range,e.range)&&n.allDay===e.allDay&&qG(n,e)}function qG(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function FG(n,e){return Object.assign(Object.assign({},mO(n.range,e,n.allDay)),{allDay:n.allDay})}function hO(n,e,t){return Object.assign(Object.assign({},mO(n,e,t)),{timeZone:e.timeZone})}function mO(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function $G(n,e,t){let s=sO({editable:!1},t),r=Ev(s.refined,s.extra,"",n.allDay,!0,t);return{def:r,ui:uO(r,e),instance:Gx(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function VG(n,e,t){let s=!1,r=function(c){s||(s=!0,e(c))},i=function(c){s||(s=!0,t(c))},l=n(r,i);l&&typeof l.then=="function"&&l.then(r,i)}class FT extends Error{constructor(e,t){super(e),this.response=t}}function WG(n,e,t){n=n.toUpperCase();const s={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(s.body=new URLSearchParams(t),s.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,s).then(r=>{if(r.ok)return r.json().then(i=>[i,r],()=>{throw new FT("Failure parsing JSON",r)});throw new FT("Request failed",r)})}let Cy;function gO(){return Cy==null&&(Cy=GG()),Cy}function GG(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class YG extends xn{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vm(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vm(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:s}=this.state,r=s||t.height==="auto"||t.contentHeight==="auto",i=!r&&t.height!=null?t.height:"",l=["fc",s?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return gO()||l.push("fc-liquid-hack"),e.children(l,i,r,s)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Wc{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function XG(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Jx(n){return{[n.component.uid]:n}}const _v={};class Rg extends lr{constructor(e,t){super(e,t),this.handleRefresh=()=>{let s=this.computeTiming();s.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(s.state),this.clearTimeout(),this.setTimeout(s.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,s=t.nowManager.getDateMarker(),{nowIndicatorSnap:r}=t.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let i,l;return r?(i=t.dateEnv.startOf(s,e.unit),l=t.dateEnv.add(i,Lt(1,e.unit)).valueOf()-s.valueOf()):(i=s,l=1e3*60),l=Math.min(1e3*60*60*24,l),{state:{nowDate:i,todayRange:ZG(i)},waitMs:l}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Rg.contextType=So;function ZG(n){let e=on(n),t=ts(e,1);return{start:e,end:t}}class QG{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:s}=this;s.currentCalendarOptionsRefiners[e]?s.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:s}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:s.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let s=this.getCurrentData(),r;t=t||"day",r=s.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:s}=this.getCurrentData(),r=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]),i,l;for(let c in t)r.push(c);for(i=0;i<r.length;i+=1)if(l=t[r[i]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),s=Lt(e);s&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,s)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:s}=this.getCurrentData();return s.format(s.createMarker(e),es(t))}formatRange(e,t,s){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),es(s),s)}formatIso(e,t){let{dateEnv:s}=this.getCurrentData();return s.formatIso(s.createMarker(e),{omitTime:t})}select(e,t){let s;t==null?e.start!=null?s=e:s={start:e,end:null}:s={start:e,end:t};let r=this.getCurrentData(),i=UG(s,r.dateEnv,Lt({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),oO(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),TG(e,t))}addEvent(e,t){if(e instanceof cn){let l=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Sv({def:l,instance:c})}),this.triggerEventAdd(e)),e}let s=this.getCurrentData(),r;if(t instanceof mc)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=$x(s.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let i=nO(e,r,s,!1);if(i){let l=new cn(s,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Sv(i)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:cO(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:s,instances:r}=t.eventStore;e=String(e);for(let i in s){let l=s[i];if(l.publicId===e){if(l.recurringDef)return new cn(t,l,null);for(let c in r){let u=r[c];if(u.defId===l.defId)return new cn(t,l,u)}}}return null}getEvents(){let e=this.getCurrentData();return Jl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,s=[];for(let r in t)s.push(new mc(e,t[r]));return s}getEventSourceById(e){let t=this.getCurrentData(),s=t.eventSources;e=String(e);for(let r in s)if(s[r].publicId===e)return new mc(t,s[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof mc)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let s=rO(e,t);return s?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[s]}),new mc(t,s)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Lt(e);t&&this.trigger("_scrollRequest",{time:t})}}function KG(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function pO(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function JG(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function eY(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function tY(n,e){return{left:n.left-e.left,top:n.top-e.top}}function bO(n,e,t,s){return{dow:n.getUTCDay(),isDisabled:!!(s&&(!s.activeRange||!il(s.activeRange,n))),isOther:!!(s&&!il(s.currentRange,n)),isToday:!!(e&&il(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function e1(n,e){let t=["fc-day",`fc-day-${iW[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const nY=es({year:"numeric",month:"long",day:"numeric"}),sY=es({week:"long"});function Nv(n,e,t="day",s=!0){const{dateEnv:r,options:i,calendarApi:l}=n;let c=r.format(e,t==="week"?sY:nY);if(i.navLinks){let u=r.toDate(e);const h=m=>{let p=t==="day"?i.navLinkDayClick:t==="week"?i.navLinkWeekClick:null;typeof p=="function"?p.call(l,r.toDate(e),m):(typeof p=="string"&&(t=p),l.zoomTo(e,t))};return Object.assign({title:pd(i.navLinkHint,[c,u],c),"data-navlink":""},s?Fk(h):{onClick:h})}return{"aria-label":c}}let Ty=null;function rY(){return Ty===null&&(Ty=iY()),Ty}function iY(){let n=document.createElement("div");gd(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Bx(n),t}let jy;function aY(){return jy||(jy=lY()),jy}function lY(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=yO(n);return document.body.removeChild(n),e}function yO(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function oY(n,e=!1){let t=window.getComputedStyle(n),s=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,i=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,c=yO(n),u=c.y-s-r,h=c.x-i-l,m={borderLeft:s,borderRight:r,borderTop:i,borderBottom:l,scrollbarBottom:h,scrollbarLeft:0,scrollbarRight:0};return rY()&&t.direction==="rtl"?m.scrollbarLeft=u:m.scrollbarRight=u,e&&(m.paddingLeft=parseInt(t.paddingLeft,10)||0,m.paddingRight=parseInt(t.paddingRight,10)||0,m.paddingTop=parseInt(t.paddingTop,10)||0,m.paddingBottom=parseInt(t.paddingBottom,10)||0),m}function cY(n,e=!1,t){let s=t1(n),r=oY(n,e),i={left:s.left+r.borderLeft+r.scrollbarLeft,right:s.right-r.borderRight-r.scrollbarRight,top:s.top+r.borderTop,bottom:s.bottom-r.borderBottom-r.scrollbarBottom};return e&&(i.left+=r.paddingLeft,i.right-=r.paddingRight,i.top+=r.paddingTop,i.bottom-=r.paddingBottom),i}function t1(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function uY(n){let e=vO(n),t=n.getBoundingClientRect();for(let s of e){let r=pO(t,s.getBoundingClientRect());if(r)t=r;else return null}return t}function vO(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Xm{constructor(e,t,s,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();s&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],s=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),s.push(i.right-e)}this.lefts=t,this.rights=s}buildElVerticals(e){let t=[],s=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),s.push(i.bottom-e)}this.tops=t,this.bottoms=s}leftToIndex(e){let{lefts:t,rights:s}=this,r=t.length,i;for(i=0;i<r;i+=1)if(e>=t[i]&&e<s[i])return i}topToIndex(e){let{tops:t,bottoms:s}=this,r=t.length,i;for(i=0;i<r;i+=1)if(e>=t[i]&&e<s[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Gh(this.tops||[],e.tops||[])&&Gh(this.bottoms||[],e.bottoms||[])&&Gh(this.lefts||[],e.lefts||[])&&Gh(this.rights||[],e.rights||[])}}function Gh(n,e){const t=n.length;if(t!==e.length)return!1;for(let s=0;s<t;s++)if(Math.round(n[s])!==Math.round(e[s]))return!1;return!0}class n1{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class dY extends n1{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class fY extends n1{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class No extends xn{constructor(){super(...arguments),this.uid=wo()}prepareHits(){}queryHit(e,t,s,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!vs(e,".fc-event-mirror")}isValidDateDownEl(e){return!vs(e,".fc-event:not(.fc-bg-event)")&&!vs(e,".fc-more-link")&&!vs(e,"a[data-navlink]")&&!vs(e,".fc-popover")}}class hY{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let s of e)this.insertEntry(s,t);return t}insertEntry(e,t){let s=this.findInsertion(e);this.isInsertionValid(s,e)?this.insertEntryAt(e,s):this.handleInvalidInsertion(s,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,s){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:xO(t.span,e.touchingEntry.span)});s.push(r),this.splitEntry(t,e.touchingEntry,s)}else s.push(t)}splitEntry(e,t,s){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},s),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},s)}insertEntryAt(e,t){let{entriesByLevel:s,levelCoords:r}=this;t.lateral===-1?(Ry(r,t.level,t.levelCoord),Ry(s,t.level,[e])):Ry(s[t.level],t.lateral,e),this.stackCnts[vd(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:s,strictOrder:r,stackCnts:i}=this,l=t.length,c=0,u=-1,h=-1,m=null,p=0;for(let x=0;x<l;x+=1){const S=t[x];if(!r&&S>=c+this.getEntryThickness(e))break;let E=s[x],N,A=VT(E,e.span.start,$T),R=A[0]+A[1];for(;(N=E[R])&&N.span.start<e.span.end;){let T=S+this.getEntryThickness(N);T>c&&(c=T,m=N,u=x,h=R),T===c&&(p=Math.max(p,i[vd(N)]+1)),R+=1}}let b=0;if(m)for(b=u+1;b<l&&t[b]<c;)b+=1;let v=-1;return b<l&&t[b]===c&&(v=VT(s[b],e.span.end,$T)[0]),{touchingLevel:u,touchingLateral:h,touchingEntry:m,stackCnt:p,levelCoord:c,level:b,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,s=e.length,r=[];for(let i=0;i<s;i+=1){let l=e[i],c=t[i];for(let u of l)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:c}))}return r}}function $T(n){return n.span.end}function vd(n){return n.index+":"+n.span.start}function xO(n,e){let t=Math.max(n.start,e.start),s=Math.min(n.end,e.end);return t<s?{start:t,end:s}:null}function Ry(n,e,t){n.splice(e,0,t)}function VT(n,e,t){let s=0,r=n.length;if(!r||e<t(n[s]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;s<r;){let i=Math.floor(s+(r-s)/2),l=t(n[i]);if(e<l)r=i;else if(e>l)s=i+1;else return[i,1]}return[s,0]}class mY{constructor(e,t){this.emitter=new jg}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const s1={};function gY(n,e){return!n||e>10?es({weekday:"short"}):e>1?es({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):es({weekday:"long"})}const wO="fc-col-header-cell";function EO(n){return n.text}class pY extends xn{render(){let{dateEnv:e,options:t,theme:s,viewApi:r}=this.context,{props:i}=this,{date:l,dateProfile:c}=i,u=bO(l,i.todayRange,null,c),h=[wO].concat(e1(u,s)),m=e.format(l,i.dayHeaderFormat),p=!u.isDisabled&&i.colCnt>1?Nv(this.context,l):{},b=e.toDate(l);e.namedTimeZoneImpl&&(b=dl(b,36e5));let v=Object.assign(Object.assign(Object.assign({date:b,view:r},i.extraRenderProps),{text:m}),u);return fe(ca,{elTag:"th",elClasses:h,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":u.isDisabled?void 0:Hx(l)},i.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:EO,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},x=>fe("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&fe(x,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const bY=es({weekday:"long"});class yY extends xn{render(){let{props:e}=this,{dateEnv:t,theme:s,viewApi:r,options:i}=this.context,l=ts(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=t.format(l,e.dayHeaderFormat),h=Object.assign(Object.assign(Object.assign(Object.assign({date:l},c),{view:r}),e.extraRenderProps),{text:u});return fe(ca,{elTag:"th",elClasses:[wO,...e1(c,s),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:EO,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},m=>fe("div",{className:"fc-scrollgrid-sync-inner"},fe(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,bY)}})))}}class vY extends xn{constructor(){super(...arguments),this.createDayHeaderFormatter=kt(xY)}render(){let{context:e}=this,{dates:t,dateProfile:s,datesRepDistinctDays:r,renderIntro:i}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return fe(Rg,{unit:"day"},(c,u)=>fe("tr",{role:"row"},i&&i("day"),t.map(h=>r?fe(pY,{key:h.toISOString(),date:h,dateProfile:s,todayRange:u,colCnt:t.length,dayHeaderFormat:l}):fe(yY,{key:h.getUTCDay(),dow:h.getUTCDay(),dayHeaderFormat:l}))))}}function xY(n,e,t){return n||gY(e,t)}class wY{constructor(e,t){let s=e.start,{end:r}=e,i=[],l=[],c=-1;for(;s<r;)t.isHiddenDay(s)?i.push(c+.5):(c+=1,i.push(c),l.push(s)),s=ts(s,1);this.dates=l,this.indices=i,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),s=this.getDateDayIndex(ts(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,s);return r=Math.ceil(r),i=Math.floor(i),r<=i?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:s===i}:null}getDateDayIndex(e){let{indices:t}=this,s=Math.floor(Vc(this.dates[0],e));return s<0?t[0]-1:s>=t.length?t[t.length-1]+1:t[s]}}class EY{constructor(e,t){let{dates:s}=e,r,i,l;if(t){for(i=s[0].getUTCDay(),r=1;r<s.length&&s[r].getUTCDay()!==i;r+=1);l=Math.ceil(s.length/r)}else l=1,r=s.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let s=[];for(let r=0;r<this.colCnt;r+=1)s.push(this.buildCell(t,r));e.push(s)}return e}buildCell(e,t){let s=this.daySeries.dates[e*this.colCnt+t];return{key:s.toISOString(),date:s}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,s=this.daySeries.sliceRange(e),r=[];if(s){let{firstIndex:i,lastIndex:l}=s,c=i;for(;c<=l;){let u=Math.floor(c/t),h=Math.min((u+1)*t,l+1);r.push({row:u,firstCol:c%t,lastCol:(h-1)%t,isStart:s.isStart&&c===i,isEnd:s.isEnd&&h-1===l}),c=h}}return r}}class SY{constructor(){this.sliceBusinessHours=kt(this._sliceBusinessHours),this.sliceDateSelection=kt(this._sliceDateSpan),this.sliceEventStore=kt(this._sliceEventStore),this.sliceEventDrag=kt(this._sliceInteraction),this.sliceEventResize=kt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,s,r,...i){let{eventUiBases:l}=e,c=this.sliceEventStore(e.eventStore,l,t,s,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,s,l,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,s,r,...i),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,s,...i),eventResize:this.sliceEventResize(e.eventResize,l,t,s,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,s,r,...i){return this._sliceDateSpan({range:{start:e,end:dl(e,1)},allDay:!1},t,s,{},r,...i)}_sliceBusinessHours(e,t,s,r,...i){return e?this._sliceEventStore(uo(e,Yh(t,!!s),r),{},t,s,...i).bg:[]}_sliceEventStore(e,t,s,r,...i){if(e){let l=zT(e,t,Yh(s,!!r),r);return{bg:this.sliceEventRanges(l.bg,i),fg:this.sliceEventRanges(l.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,s,r,...i){if(!e)return null;let l=zT(e.mutatedEvents,t,Yh(s,!!r),r);return{segs:this.sliceEventRanges(l.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,s,r,i,...l){if(!e)return[];let c=Yh(t,!!s),u=Dc(e.range,c);if(u){e=Object.assign(Object.assign({},e),{range:u});let h=$G(e,r,i),m=this.sliceRange(e.range,...l);for(let p of m)p.eventRange=h;return m}return[]}sliceEventRanges(e,t){let s=[];for(let r of e)s.push(...this.sliceEventRange(r,t));return s}sliceEventRange(e,t){let s=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(s={start:s.start,end:ts(s.start,1)});let r=this.sliceRange(s,...t);for(let i of r)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return r}}function Yh(n,e){let t=n.activeRange;return e?t:{start:dl(t.start,n.slotMinTime.milliseconds),end:dl(t.end,n.slotMaxTime.milliseconds-864e5)}}function SO(n,e,t){let{instances:s}=n.mutatedEvents;for(let r in s)if(!Cg(e.validRange,s[r].range))return!1;return _O({eventDrag:n},t)}function _Y(n,e,t){return Cg(e.validRange,n.range)?_O({dateSelection:n},t):!1}function _O(n,e){let t=e.getCurrentData(),s=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||NY)(s,e)}function NY(n,e,t={},s){return!(n.eventDrag&&!AY(n,e,t,s)||n.dateSelection&&!CY(n,e,t,s))}function AY(n,e,t,s){let r=e.getCurrentData(),i=n.eventDrag,l=i.mutatedEvents,c=l.defs,u=l.instances,h=Ym(c,i.isEvent?n.eventUiBases:{"":r.selectionConfig});s&&(h=Eo(h,s));let m=wG(n.eventStore,i.affectedEvents.instances),p=m.defs,b=m.instances,v=Ym(p,n.eventUiBases);for(let x in u){let S=u[x],E=S.range,N=h[S.defId],A=c[S.defId];if(!NO(N.constraints,E,m,n.businessHours,e))return!1;let{eventOverlap:R}=e.options,T=typeof R=="function"?R:null;for(let M in b){let U=b[M];if(Wx(E,U.range)&&(v[U.defId].overlap===!1&&i.isEvent||N.overlap===!1||T&&!T(new cn(e,p[U.defId],U),new cn(e,A,S))))return!1}let D=r.eventStore;for(let M of N.allows){let U=Object.assign(Object.assign({},t),{range:S.range,allDay:A.allDay}),I=D.defs[A.defId],F=D.instances[x],Z;if(I?Z=new cn(e,I,F):Z=new cn(e,A),!M(Qx(U,e),Z))return!1}}return!0}function CY(n,e,t,s){let r=n.eventStore,i=r.defs,l=r.instances,c=n.dateSelection,u=c.range,{selectionConfig:h}=e.getCurrentData();if(s&&(h=s(h)),!NO(h.constraints,u,r,n.businessHours,e))return!1;let{selectOverlap:m}=e.options,p=typeof m=="function"?m:null;for(let b in l){let v=l[b];if(Wx(u,v.range)&&(h.overlap===!1||p&&!p(new cn(e,i[v.defId],v),null)))return!1}for(let b of h.allows){let v=Object.assign(Object.assign({},t),c);if(!b(Qx(v,e),null))return!1}return!0}function NO(n,e,t,s,r){for(let i of n)if(!jY(TY(i,e,t,s,r),e))return!1;return!0}function TY(n,e,t,s,r){return n==="businessHours"?Dy(uo(s,e,r)):typeof n=="string"?Dy(Tg(t,i=>i.groupId===n)):typeof n=="object"&&n?Dy(uo(n,e,r)):[]}function Dy(n){let{instances:e}=n,t=[];for(let s in e)t.push(e[s].range);return t}function jY(n,e){for(let t of n)if(Cg(t,e))return!0;return!1}const Xh=/^(visible|hidden)$/;class RY extends xn{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,_i(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:s}=e,r=t&&s,i=["fc-scroller"];return t&&(s?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),fe("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Xh.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:s}=e;for(let r=0;r<s.length;r+=1)if(s[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Xh.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:s}=e;for(let r=0;r<s.length;r+=1)if(s[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Xh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Xh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Zl{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,s)=>{let{depths:r,currentMap:i}=this,l=!1,c=!1;t!==null?(l=s in i,i[s]=t,r[s]=(r[s]||0)+1,c=!0):(r[s]-=1,r[s]||(delete i[s],delete this.callbackMap[s],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(s)),c&&this.masterCallback(t,String(s)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=s=>{this.handleValue(s,String(e))}),t}collect(e,t,s){return UW(this.currentMap,e,t,s)}getAll(){return $x(this.currentMap)}}function DY(n){let e=PV(n,".fc-scrollgrid-shrink"),t=0;for(let s of e)t=Math.max(t,KV(s));return Math.ceil(t)}function AO(n,e){return n.liquid&&e.liquid}function kY(n,e){return e.maxHeight!=null||AO(n,e)}function OY(n,e,t,s){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):fe("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,fe(s?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function MY(n,e){return ul(n,e,Jr)}function LY(n,e){let t=[];for(let s of n){let r=s.span||1;for(let i=0;i<r;i+=1)t.push(fe("col",{style:{width:s.width==="shrink"?IY(e):s.width||"",minWidth:s.minWidth||""}}))}return fe("colgroup",{},...t)}function IY(n){return n??4}function BY(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function PY(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function UY(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function HY(n){return fe("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function WT(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function zY(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class CO extends xn{constructor(){super(...arguments),this.processCols=kt(e=>e,MY),this.renderMicroColGroup=kt(LY),this.scrollerRefs=new Zl,this.scrollerElRefs=new Zl(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:s}=this,r=e.sections||[],i=this.processCols(e.cols),l=this.renderMicroColGroup(i,t.shrinkWidth),c=PY(e.liquid,s);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let u=r.length,h=0,m,p=[],b=[],v=[];for(;h<u&&(m=r[h]).type==="header";)p.push(this.renderSection(m,l,!0)),h+=1;for(;h<u&&(m=r[h]).type==="body";)b.push(this.renderSection(m,l,!1)),h+=1;for(;h<u&&(m=r[h]).type==="footer";)v.push(this.renderSection(m,l,!0)),h+=1;let x=!gO();const S={role:"rowgroup"};return fe("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!x&&p.length)&&fe("thead",S,...p),!!(!x&&b.length)&&fe("tbody",S,...b),!!(!x&&v.length)&&fe("tfoot",S,...v),x&&fe("tbody",S,...p,...b,...v))}renderSection(e,t,s){return"outerContent"in e?fe(_n,{key:e.key},e.outerContent):fe("tr",{key:e.key,role:"presentation",className:UY(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,s))}renderChunkTd(e,t,s,r){if("outerContent"in s)return s.outerContent;let{props:i}=this,{forceYScrollbars:l,scrollerClientWidths:c,scrollerClientHeights:u}=this.state,h=kY(i,e),m=AO(i,e),p=i.liquid?l?"scroll":h?"auto":"hidden":"visible",b=e.key,v=OY(e,s,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&c[b]!==void 0?c[b]:null,clientHeight:u[b]!==void 0?u[b]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return fe(r?"th":"td",{ref:s.elRef,role:"presentation"},fe("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},fe(RY,{ref:this.scrollerRefs.createRef(b),elRef:this.scrollerElRefs.createRef(b),overflowY:p,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:m,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,t){let s=qY(this.props.sections,t);s&&_i(s.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return BY(this.props.cols)?DY(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=aY(),{scrollerRefs:t,scrollerElRefs:s}=this,r=!1,i={},l={};for(let c in t.currentMap){let u=t.currentMap[c];if(u&&u.needsYScrolling()){r=!0;break}}for(let c of this.props.sections){let u=c.key,h=s.currentMap[u];if(h){let m=h.parentNode;i[u]=Math.floor(m.getBoundingClientRect().width-(r?e.y:0)),l[u]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:i,scrollerClientHeights:l}}}CO.addStateEquality({scrollerClientWidths:Jr,scrollerClientHeights:Jr});function qY(n,e){for(let t of n)if(t.key===e)return t;return null}class r1 extends xn{constructor(){super(...arguments),this.buildPublicEvent=kt((e,t,s)=>new cn(e,t,s)),this.handleEl=e=>{this.el=e,_i(this.props.elRef,e),e&&qT(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:s}=t,{seg:r}=e,{eventRange:i}=r,{ui:l}=i,c={event:this.buildPublicEvent(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&OG(r,t),isStartResizable:!e.disableResizing&&MG(r,t),isEndResizable:!e.disableResizing&&LG(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return fe(ca,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...IG(c),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:c,generatorName:"eventContent",customGenerator:s.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.eventClassNames,didMount:s.eventDidMount,willUnmount:s.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&qT(this.el,this.props.seg)}}class TO extends xn{render(){let{props:e,context:t}=this,{options:s}=t,{seg:r}=e,{ui:i}=r.eventRange,l=s.eventTimeFormat||e.defaultTimeFormat,c=dO(r,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return fe(r1,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:fO(r,t),defaultGenerator:FY,timeText:c}),(u,h)=>fe(_n,null,fe(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:h.textColor}}),!!h.isStartResizable&&fe("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!h.isEndResizable&&fe("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}TO.addPropsEquality({seg:Jr});function FY(n){return fe("div",{className:"fc-event-main-frame"},n.timeText&&fe("div",{className:"fc-event-time"},n.timeText),fe("div",{className:"fc-event-title-container"},fe("div",{className:"fc-event-title fc-sticky"},n.event.title||fe(_n,null," "))))}const $Y=es({day:"numeric"});class jO extends xn{constructor(){super(...arguments),this.refineRenderProps=mm(VY)}render(){let{props:e,context:t}=this,{options:s}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:s.monthStartFormat});return fe(ca,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Hx(e.date)}),elClasses:[...e1(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:s.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:s.dayCellClassNames,didMount:s.dayCellDidMount,willUnmount:s.dayCellWillUnmount},e.children)}}function RO(n){return!!(n.dayCellContent||wv("dayCellContent",n))}function VY(n){let{date:e,dateEnv:t,dateProfile:s,isMonthStart:r}=n,i=bO(e,n.todayRange,null,s),l=n.showDayNumber?t.format(e,r?n.monthStartFormat:$Y):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},i),{isMonthStart:r,dayNumberText:l}),n.extraRenderProps)}class WY extends xn{render(){let{props:e}=this,{seg:t}=e;return fe(r1,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:GY,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function GY(n){let{title:e}=n.event;return e&&fe("div",{className:"fc-event-title"},n.event.title)}function YY(n){return fe("div",{className:`fc-${n}`})}const XY=n=>fe(So.Consumer,null,e=>{let{dateEnv:t,options:s}=e,{date:r}=n,i=s.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),c=t.format(r,i),u={num:l,text:c,date:r};return fe(ca,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:s.weekNumberContent,defaultGenerator:ZY,classNameGenerator:s.weekNumberClassNames,didMount:s.weekNumberDidMount,willUnmount:s.weekNumberWillUnmount},n.children)});function ZY(n){return n.text}const ky=10;class QY extends xn{constructor(){super(...arguments),this.state={titleId:Ng()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&_i(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=zk(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:s,state:r}=this,i=["fc-popover",e.getClass("popover")].concat(s.extraClassNames||[]);return _V(fe("div",Object.assign({},s.extraAttrs,{id:s.id,className:i.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),fe("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},fe("span",{className:"fc-popover-title",id:r.titleId},s.title),fe("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),fe("div",{className:"fc-popover-body "+e.getClass("popoverContent")},s.children)),s.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:s}=this.props,{rootEl:r}=this,i=uY(t);if(i){let l=r.getBoundingClientRect(),c=s?vs(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,u=e?i.right-l.width:i.left;c=Math.max(c,ky),u=Math.min(u,document.documentElement.clientWidth-ky-l.width),u=Math.max(u,ky);let h=r.offsetParent.getBoundingClientRect();gd(r,{top:c-h.top,left:u-h.left})}}}class KY extends No{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:s}=this,{startDate:r,todayRange:i,dateProfile:l}=s,c=t.format(r,e.dayPopoverFormat);return fe(jO,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:i},(u,h,m)=>fe(QY,{elRef:m.ref,id:s.id,title:c,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:s.parentEl,alignmentEl:s.alignmentEl,alignGridTop:s.alignGridTop,onClose:s.onClose},RO(e)&&fe(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),s.children))}queryHit(e,t,s,r){let{rootEl:i,props:l}=this;return e>=0&&e<s&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:s,bottom:r},layer:1}:null}}class JY extends xn{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ng()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&_i(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:s}=this,{moreLinkClick:r}=s.options,i=GT(t).start;function l(c){let{def:u,instance:h,range:m}=c.eventRange;return{event:new cn(s,u,h),start:s.dateEnv.toDate(m.start),end:s.dateEnv.toDate(m.end),isStart:c.isStart,isEnd:c.isEnd}}typeof r=="function"&&(r=r({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:s.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&s.calendarApi.zoomTo(i,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return fe(So.Consumer,null,s=>{let{viewApi:r,options:i,calendarApi:l}=s,{moreLinkText:c}=i,{moreCnt:u}=e,h=GT(e),m=typeof c=="function"?c.call(l,u):`+${u} ${c}`,p=pd(i.moreLinkHint,[u],m),b={num:u,shortText:`+${u}`,text:m,view:r};return fe(_n,null,!!e.moreCnt&&fe(ca,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Fk(this.handleClick)),{title:p,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:b,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||eX,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&fe(KY,{id:t.popoverId,startDate:h.start,endDate:h.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=vs(this.linkEl,".fc-view-harness"))}}function eX(n){return n.text}function GT(n){if(n.allDayDate)return{start:n.allDayDate,end:ts(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:tX(e),end:sX(e)}}function tX(n){return n.reduce(nX).eventRange.range.start}function nX(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function sX(n){return n.reduce(rX).eventRange.range.end}function rX(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class iX{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class aX extends iX{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let s=!1;e.isActive?(t.set(e.id,e),s=!0):t.has(e.id)&&(t.delete(e.id),s=!0),s&&this.set(t)}}const lX=[],DO={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},kO=Object.assign(Object.assign({},DO),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function oX(n){let e=n.length>0?n[0].code:"en",t=lX.concat(n),s={en:kO};for(let r of t)s[r.code]=r;return{map:s,defaultCode:e}}function OO(n,e){return typeof n=="object"&&!Array.isArray(n)?MO(n.code,[n.code],n):cX(n,e)}function cX(n,e){let t=[].concat(n||[]),s=uX(t,e)||kO;return MO(n,t,s)}function uX(n,e){for(let t=0;t<n.length;t+=1){let s=n[t].toLocaleLowerCase().split("-");for(let r=s.length;r>0;r-=1){let i=s.slice(0,r).join("-");if(e[i])return e[i]}}return null}function MO(n,e,t){let s=Fx([DO,t],["buttonText"]);delete s.code;let{week:r}=s;return delete s.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:s}}function bl(n){return{id:wo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function dX(n,e){let t={},s={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(i){for(let l of i){const c=l.name,u=t[c];u===void 0?(t[c]=l.id,r(l.deps),s=hX(s,l)):u!==l.id&&console.warn(`Duplicate plugin '${c}'`)}}return n&&r(n),r(e),s}function fX(){let n=[],e=[],t;return(s,r)=>((!t||!ul(s,n)||!ul(r,e))&&(t=dX(s,r)),n=s,e=r,t)}function hX(n,e){return{premiumReleaseDate:mX(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function mX(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class yl extends nf{}yl.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};yl.prototype.baseIconClass="fc-icon";yl.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};yl.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};yl.prototype.iconOverrideOption="buttonIcons";yl.prototype.iconOverrideCustomButtonOption="icon";yl.prototype.iconOverridePrefix="fc-icon-";function gX(n,e){let t={},s;for(s in n)Av(s,t,n,e);for(s in e)Av(s,t,n,e);return t}function Av(n,e,t,s){if(e[n])return e[n];let r=pX(n,e,t,s);return r&&(e[n]=r),r}function pX(n,e,t,s){let r=t[n],i=s[n],l=m=>r&&r[m]!==null?r[m]:i&&i[m]!==null?i[m]:null,c=l("component"),u=l("superType"),h=null;if(u){if(u===n)throw new Error("Can't have a custom view type that references itself");h=Av(u,e,t,s)}return!c&&h&&(c=h.component),c?{type:n,component:c,defaults:Object.assign(Object.assign({},h?h.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},h?h.overrides:{}),i?i.rawOptions:{})}:null}function YT(n){return Eo(n,bX)}function bX(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=XT(e):t&&!(t.prototype instanceof xn)&&(t=XT(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function XT(n){return e=>fe(So.Consumer,null,t=>fe(ca,{elTag:"div",elClasses:Qk(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function yX(n,e,t,s){let r=YT(n),i=YT(e.views),l=gX(r,i);return Eo(l,c=>vX(c,i,e,t,s))}function vX(n,e,t,s,r){let i=n.overrides.duration||n.defaults.duration||s.duration||t.duration,l=null,c="",u="",h={};if(i&&(l=xX(i),l)){let b=xv(l);c=b.unit,b.value===1&&(u=c,h=e[c]?e[c].rawOptions:{})}let m=b=>{let v=b.buttonText||{},x=n.defaults.buttonTextKey;return x!=null&&v[x]!=null?v[x]:v[n.type]!=null?v[n.type]:v[u]!=null?v[u]:null},p=b=>{let v=b.buttonHints||{},x=n.defaults.buttonTextKey;return x!=null&&v[x]!=null?v[x]:v[n.type]!=null?v[n.type]:v[u]!=null?v[u]:null};return{type:n.type,component:n.component,duration:l,durationUnit:c,singleUnit:u,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},h),n.overrides),buttonTextOverride:m(s)||m(t)||n.overrides.buttonText,buttonTextDefault:m(r)||n.defaults.buttonText||m(bd)||n.type,buttonTitleOverride:p(s)||p(t)||n.overrides.buttonHint,buttonTitleDefault:p(r)||n.defaults.buttonHint||p(bd)}}let ZT={};function xX(n){let e=JSON.stringify(n),t=ZT[e];return t===void 0&&(t=Lt(n),ZT[e]=t),t}function wX(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function EX(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function SX(n,e,t){let s=n.initialDate;return s!=null?e.createMarker(s):t.getDateMarker()}function _X(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function NX(n,e,t,s){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return s.build(e.dateMarker||t);case"CHANGE_DATE":return s.build(e.dateMarker);case"PREV":if(r=s.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=s.buildNext(n,t),r.isValid)return r;break}return n}function AX(n,e,t){let s=e?e.activeRange:null;return IO({},OX(n,t),s,t)}function CX(n,e,t,s){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return IO(n,e.sources,r,s);case"REMOVE_EVENT_SOURCE":return jX(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?BO(n,r,s):n;case"FETCH_EVENT_SOURCES":return i1(n,e.sourceIds?Wk(e.sourceIds):PO(n,s),r,e.isRefetch||!1,s);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return kX(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function TX(n,e,t){let s=e?e.activeRange:null;return i1(n,PO(n,t),s,!0,t)}function LO(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function IO(n,e,t,s){let r={};for(let i of e)r[i.sourceId]=i;return t&&(r=BO(r,t,s)),Object.assign(Object.assign({},n),r)}function jX(n,e){return co(n,t=>t.sourceId!==e)}function BO(n,e,t){return i1(n,co(n,s=>RX(s,e,t)),e,!1,t)}function RX(n,e,t){return UO(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function i1(n,e,t,s,r){let i={};for(let l in n){let c=n[l];e[l]?i[l]=DX(c,t,s,r):i[l]=c}return i}function DX(n,e,t,s){let{options:r,calendarApi:i}=s,l=s.pluginHooks.eventSourceDefs[n.sourceDefId],c=wo();return l.fetch({eventSource:n,range:e,isRefetch:t,context:s},u=>{let{rawEvents:h}=u;r.eventSourceSuccess&&(h=r.eventSourceSuccess.call(i,h,u.response)||h),n.success&&(h=n.success.call(i,h,u.response)||h),s.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:c,fetchRange:e,rawEvents:h})},u=>{let h=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(i,u),h=!0),n.failure&&(n.failure(u),h=!0),h||console.warn(u.message,u),s.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:c,fetchRange:e,error:u})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:c})}function kX(n,e,t,s){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:s})}):n}function PO(n,e){return co(n,t=>UO(t,e))}function OX(n,e){let t=iO(e),s=[].concat(n.eventSources||[]),r=[];n.initialEvents&&s.unshift(n.initialEvents),n.events&&s.unshift(n.events);for(let i of s){let l=rO(i,e,t);l&&r.push(l)}return r}function UO(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function MX(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function LX(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function IX(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function BX(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function PX(n,e,t,s,r){let i=n.headerToolbar?QT(n.headerToolbar,n,e,t,s,r):null,l=n.footerToolbar?QT(n.footerToolbar,n,e,t,s,r):null;return{header:i,footer:l}}function QT(n,e,t,s,r,i){let l={},c=[],u=!1;for(let h in n){let m=n[h],p=UX(m,e,t,s,r,i);l[h]=p.widgets,c.push(...p.viewsWithButtons),u=u||p.hasTitle}return{sectionWidgets:l,viewsWithButtons:c,hasTitle:u}}function UX(n,e,t,s,r,i){let l=e.direction==="rtl",c=e.customButtons||{},u=t.buttonText||{},h=e.buttonText||{},m=t.buttonHints||{},p=e.buttonHints||{},b=n?n.split(" "):[],v=[],x=!1;return{widgets:b.map(E=>E.split(",").map(N=>{if(N==="title")return x=!0,{buttonName:N};let A,R,T,D,M,U;if(A=c[N])T=I=>{A.click&&A.click.call(I.target,I,I.target)},(D=s.getCustomButtonIconClass(A))||(D=s.getIconClass(N,l))||(M=A.text),U=A.hint||A.text;else if(R=r[N]){v.push(N),T=()=>{i.changeView(N)},(M=R.buttonTextOverride)||(D=s.getIconClass(N,l))||(M=R.buttonTextDefault);let I=R.buttonTextOverride||R.buttonTextDefault;U=pd(R.buttonTitleOverride||R.buttonTitleDefault||e.viewHint,[I,N],I)}else if(i[N])if(T=()=>{i[N]()},(M=u[N])||(D=s.getIconClass(N,l))||(M=h[N]),N==="prevYear"||N==="nextYear"){let I=N==="prevYear"?"prev":"next";U=pd(m[I]||p[I],[h.year||"year","year"],h[N])}else U=I=>pd(m[N]||p[N],[h[I]||I,I],h[N]);return{buttonName:N,buttonClick:T,buttonIcon:D,buttonText:M,buttonHint:U}})),viewsWithButtons:v,hasTitle:x}}class HX{constructor(e,t,s){this.type=e,this.getCurrentData=t,this.dateEnv=s}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let zX={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const qX=bl({name:"array-event-source",eventSourceDefs:[zX]});let FX={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:s}=n.context,r=n.eventSource.meta;VG(r.bind(null,hO(n.range,s)),i=>e({rawEvents:i}),t)}};const $X=bl({name:"func-event-source",eventSourceDefs:[FX]}),VX={method:String,extraParams:ue,startParam:String,endParam:String,timeZoneParam:String};let WX={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:s}=n.eventSource,r=YX(s,n.range,n.context);WG(s.method,s.url,r).then(([i,l])=>{e({rawEvents:i,response:l})},t)}};const GX=bl({name:"json-event-source",eventSourceRefiners:VX,eventSourceDefs:[WX]});function YX(n,e,t){let{dateEnv:s,options:r}=t,i,l,c,u,h={};return i=n.startParam,i==null&&(i=r.startParam),l=n.endParam,l==null&&(l=r.endParam),c=n.timeZoneParam,c==null&&(c=r.timeZoneParam),typeof n.extraParams=="function"?u=n.extraParams():u=n.extraParams||{},Object.assign(h,u),h[i]=s.formatIso(e.start),h[l]=s.formatIso(e.end),s.timeZone!=="local"&&(h[c]=s.timeZone),h}const XX={daysOfWeek:ue,startTime:Lt,endTime:Lt,duration:Lt,startRecur:ue,endRecur:ue};let ZX={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},s;return n.duration&&(s=n.duration),!s&&n.startTime&&n.endTime&&(s=nW(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:s,typeData:t}}return null},expand(n,e,t){let s=Dc(e,{start:n.startRecur,end:n.endRecur});return s?KX(n.daysOfWeek,n.startTime,n.dateEnv,t,s):[]}};const QX=bl({name:"simple-recurring-event",recurringTypes:[ZX],eventRefiners:XX});function KX(n,e,t,s,r){let i=n?Wk(n):null,l=on(r.start),c=r.end,u=[];for(e&&(e.milliseconds<0?c=ts(c,1):e.milliseconds>=1e3*60*60*24&&(l=ts(l,-1)));l<c;){let h;(!i||i[l.getUTCDay()])&&(e?h=s.add(l,e):h=l,u.push(s.createMarker(t.toDate(h)))),l=ts(l,1)}return u}const JX=bl({name:"change-handler",optionChangeHandlers:{events(n,e){KT([n],e)},eventSources:KT}});function KT(n,e){let t=$x(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let s=[];for(let r of n){let i=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),i=!0;break}i||s.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of s)e.calendarApi.addEventSource(r)}function eZ(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},hO(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function tZ(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Jl(n,e))}const nZ=[qX,$X,GX,QX,JX,bl({name:"misc",isLoadingFuncs:[n=>LO(n.eventSources)],propSetHandlers:{dateProfile:eZ,eventStore:tZ}})];class sZ{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ix(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],s;for(;s=e.shift();)this.runTask(s),t.push(s);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function rZ(n,e,t){let s;return/^(year|month)$/.test(n.currentRangeUnit)?s=n.currentRange:s=n.activeRange,t.formatRange(s.start,s.end,es(e.titleFormat||iZ(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function iZ(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=zm(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class JT{constructor(){this.resetListeners=new Set}handleInput(e,t){const s=this.dateEnv;if(e!==s&&(typeof t=="function"?this.nowFn=t:s||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,s))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class aZ{constructor(e){this.computeCurrentViewData=kt(this._computeCurrentViewData),this.organizeRawLocales=kt(oX),this.buildLocale=kt(OO),this.buildPluginHooks=fX(),this.buildDateEnv=kt(lZ),this.buildTheme=kt(oZ),this.parseToolbars=kt(PX),this.buildViewSpecs=kt(yX),this.buildDateProfileGenerator=mm(cZ),this.buildViewApi=kt(uZ),this.buildViewUiProps=mm(hZ),this.buildEventUiBySource=kt(dZ,Jr),this.buildEventUiBases=kt(fZ),this.parseContextBusinessHours=mm(mZ),this.buildTitle=kt(rZ),this.nowManager=new JT,this.emitter=new jg,this.actionRunner=new sZ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=b=>{this.actionRunner.request(b)},this.props=e,this.actionRunner.pause(),this.nowManager=new JT;let t={},s=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=s.calendarOptions.initialView||s.pluginHooks.initialView,i=this.computeCurrentViewData(r,s,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let l={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=SX(s.calendarOptions,s.dateEnv,this.nowManager),u=i.dateProfileGenerator.build(c);il(u.activeRange,c)||(c=u.currentRange.start);for(let b of s.pluginHooks.contextInit)b(l);let h=AX(s.calendarOptions,u,l),m={dynamicOptionOverrides:t,currentViewType:r,currentDate:c,dateProfile:u,businessHours:this.parseContextBusinessHours(l),eventSources:h,eventUiBases:{},eventStore:Qr(),renderableEventStore:Qr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},p=Object.assign(Object.assign({},l),m);for(let b of s.pluginHooks.reducers)Object.assign(m,b(null,null,p));Oy(m,l)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:s}=this;t===void 0?s.optionOverrides=e:(s.optionOverrides=Object.assign(Object.assign({},s.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:s,emitter:r}=this,i=_X(s.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),c=wX(s.currentViewType,e),u=this.computeCurrentViewData(c,l,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(u.options);let h={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:p}=s;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(m)),m=EX(m,e),p=NX(p,e,m,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!il(p.currentRange,m))&&(m=p.currentRange.start);let b=CX(s.eventSources,e,p,h),v=bG(s.eventStore,e,b,p,h),S=LO(b)&&!u.options.progressiveEventRendering&&s.renderableEventStore||v,{eventUiSingleBase:E,selectionConfig:N}=this.buildViewUiProps(h),A=this.buildEventUiBySource(b),R=this.buildEventUiBases(S.defs,E,A),T={dynamicOptionOverrides:i,currentViewType:c,currentDate:m,dateProfile:p,eventSources:b,eventStore:v,renderableEventStore:S,selectionConfig:N,eventUiBases:R,businessHours:this.parseContextBusinessHours(h),dateSelection:MX(s.dateSelection,e),eventSelection:LX(s.eventSelection,e),eventDrag:IX(s.eventDrag,e),eventResize:BX(s.eventResize,e)},D=Object.assign(Object.assign({},h),T);for(let I of l.pluginHooks.reducers)Object.assign(T,I(s,e,D));let M=Oy(s,h),U=Oy(T,h);!M&&U?r.trigger("loading",!0):M&&!U&&r.trigger("loading",!1),this.state=T,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,s=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),c=r.pluginHooks.optionChangeHandlers,u=s&&s.calendarOptions,h=r.calendarOptions;if(u&&u!==h){u.timeZone!==h.timeZone&&(t.eventSources=l.eventSources=TX(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=UT(l.eventStore,s.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=UT(l.renderableEventStore,s.dateEnv,l.dateEnv));for(let m in c)(this.optionsForHandling.indexOf(m)!==-1||u[m]!==h[m])&&c[m](h[m],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,s){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:l,availableLocaleData:c,extra:u}=this.processRawCalendarOptions(e,t);ej(u);let h=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,c,r.defaultRangeSeparator),m=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),p=this.buildTheme(r,i),b=this.parseToolbars(r,this.stableOptionOverrides,p,m,s);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:h,viewSpecs:m,theme:p,toolbarConfig:b,localeDefaults:l,availableRawLocales:c.map}}processRawCalendarOptions(e,t){let{locales:s,locale:r}=Ny([bd,e,t]),i=this.organizeRawLocales(s),l=i.map,c=this.buildLocale(r||i.defaultCode,l).options,u=this.buildPluginHooks(e.plugins||[],nZ),h=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},kT),OT),MT),u.listenerRefiners),u.optionRefiners),m={},p=Ny([bd,c,e,t]),b={},v=this.currentCalendarOptionsInput,x=this.currentCalendarOptionsRefined,S=!1;for(let E in p)this.optionsForRefining.indexOf(E)===-1&&(p[E]===v[E]||$l[E]&&E in v&&$l[E](v[E],p[E]))?b[E]=x[E]:h[E]?(b[E]=h[E](p[E]),S=!0):m[E]=v[E];return S&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=b,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:i,localeDefaults:c,extra:m}}_computeCurrentViewData(e,t,s,r){let i=t.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:c}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,s,r);ej(c),this.nowManager.handleInput(t.dateEnv,l.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),h=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:i,options:l,dateProfileGenerator:u,viewApi:h}}processRawViewOptions(e,t,s,r,i){let l=Ny([bd,e.optionDefaults,s,r,e.optionOverrides,i]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},kT),OT),MT),MW),t.listenerRefiners),t.optionRefiners),u={},h=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,p=!1,b={};for(let v in l)l[v]===h[v]||$l[v]&&$l[v](l[v],h[v])?u[v]=m[v]:(l[v]===this.currentCalendarOptionsInput[v]||$l[v]&&$l[v](l[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):c[v]?u[v]=c[v](l[v]):b[v]=l[v],p=!0);return p&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:b}}}function lZ(n,e,t,s,r,i,l,c){let u=OO(e||l.defaultCode,l.map);return new VW({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:u,weekNumberCalculation:t,firstDay:s,weekText:r,cmdFormatter:i.cmdFormatter,defaultSeparator:c})}function oZ(n,e){let t=e.themeClasses[n.themeSystem]||yl;return new t(n)}function cZ(n){let e=n.dateProfileGeneratorClass||eO;return new e(n)}function uZ(n,e,t){return new HX(n,e,t)}function dZ(n){return Eo(n,e=>e.ui)}function fZ(n,e,t){let s={"":e};for(let r in n){let i=n[r];i.sourceId&&t[i.sourceId]&&(s[r]=t[i.sourceId])}return s}function hZ(n){let{options:e}=n;return{eventUiSingleBase:Gm({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Gm({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Oy(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function mZ(n){return AG(n.options.businessHours,n)}function ej(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class gZ extends xn{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return fe("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:s}=this.context,r=[],i=!0;for(let l of e){let{buttonName:c,buttonClick:u,buttonText:h,buttonIcon:m,buttonHint:p}=l;if(c==="title")i=!1,r.push(fe("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let b=c===t.activeButton,v=!t.isTodayEnabled&&c==="today"||!t.isPrevEnabled&&c==="prev"||!t.isNextEnabled&&c==="next",x=[`fc-${c}-button`,s.getClass("button")];b&&x.push(s.getClass("buttonActive")),r.push(fe("button",{type:"button",title:typeof p=="function"?p(t.navUnit):p,disabled:v,"aria-pressed":b,className:x.join(" "),onClick:u},h||(m?fe("span",{className:m,role:"img"}):"")))}}if(r.length>1){let l=i&&s.getClass("buttonGroup")||"";return fe("div",{className:l},...r)}return r[0]}}class tj extends xn{render(){let{model:e,extraClassName:t}=this.props,s=!1,r,i,l=e.sectionWidgets,c=l.center;return l.left?(s=!0,r=l.left):r=l.start,l.right?(s=!0,i=l.right):i=l.end,fe("div",{className:[t||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",c||[]),this.renderSection("end",i||[]))}renderSection(e,t){let{props:s}=this;return fe(gZ,{key:e,widgetGroups:t,title:s.title,navUnit:s.navUnit,activeButton:s.activeButton,isTodayEnabled:s.isTodayEnabled,isPrevEnabled:s.isPrevEnabled,isNextEnabled:s.isNextEnabled,titleId:s.titleId})}}class pZ extends xn{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,_i(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:s}=e,r=["fc-view-harness",s||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",l="";return s?t.availableWidth!==null?i=t.availableWidth/s:l=`${1/s*100}%`:i=e.height||"",fe("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class bZ extends Wc{constructor(e){super(e),this.handleSegClick=(t,s)=>{let{component:r}=this,{context:i}=r,l=kc(s);if(l&&r.isValidSegDownEl(t.target)){let c=vs(t.target,".fc-event-forced-url"),u=c?c.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:s,event:new cn(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:i.viewApi}),u&&!t.defaultPrevented&&(window.location.href=u)}},this.destroy=qk(e.el,"click",".fc-event",this.handleSegClick)}}class yZ extends Wc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,s)=>{kc(s)&&(this.currentSegEl=s,this.triggerEvent("eventMouseEnter",t,s))},this.handleSegLeave=(t,s)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,s))},this.removeHoverListeners=zV(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,s){let{component:r}=this,{context:i}=r,l=kc(s);(!t||r.isValidSegDownEl(t.target))&&i.emitter.trigger(e,{el:s,event:new cn(i,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:i.viewApi})}}class vZ extends _o{constructor(){super(...arguments),this.buildViewContext=kt(YW),this.buildViewPropTransformers=kt(wZ),this.buildToolbarProps=kt(xZ),this.headerRef=aa(),this.footerRef=aa(),this.interactionsStore={},this.state={viewLabelId:Ng()},this.registerInteractiveComponent=(e,t)=>{let s=XG(e,t),l=[bZ,yZ].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(s));this.interactionsStore[e.uid]=l,_v[e.uid]=s},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let s of t)s.destroy();delete this.interactionsStore[e.uid]}delete _v[e.uid]},this.resizeRunner=new Ix(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:s}=e,r=!1,i="",l;e.isHeightAuto||e.forPrint?i="":s.height!=null?r=!0:s.contentHeight!=null?i=s.contentHeight:l=Math.max(s.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return fe(So.Provider,{value:c},fe(Rg,{unit:"day"},h=>{let m=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,h,e.viewTitle);return fe(_n,null,t.header&&fe(tj,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:u},m)),fe(pZ,{liquid:r,height:i,aspectRatio:l,labeledById:u},this.renderView(e),this.buildAppendContent()),t.footer&&fe(tj,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},m)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(s=>new s(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let s in t)t[s](e[s],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:s}=t.pluginHooks;for(let r in s)t[r]!==e[r]&&s[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(s=>s(e));return fe(_n,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:s}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let c of i)Object.assign(r,c.transform(r,e));let l=s.component;return fe(l,Object.assign({},r))}}function xZ(n,e,t,s,r,i){let l=t.build(r,void 0,!1),c=t.buildPrev(e,s,!1),u=t.buildNext(e,s,!1);return{title:i,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!il(e.currentRange,r),isPrevEnabled:c.isValid,isNextEnabled:u.isValid}}function wZ(n){return n.map(e=>new e)}class EZ extends QG{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=s=>{switch(s.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=s=>{this.currentData=s,this.renderRunner.request(s.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:s}=this;Vm(()=>{Id(fe(YG,{options:s.calendarOptions,theme:s.theme,emitter:s.emitter},(r,i,l,c)=>(this.setClassNames(r),this.setHeight(i),fe(Zk.Provider,{value:this.customContentRenderId},fe(vZ,Object.assign({isHeightAuto:l,forPrint:c},s))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Id(null,this.el),this.setClassNames([]),this.setHeight(""))},kV(e),this.el=e,this.renderRunner=new Ix(this.handleRenderRequest),new aZ({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vm(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ul(e,this.currentClassNames)){let{classList:t}=this.el;for(let s of this.currentClassNames)t.remove(s);for(let s of e)t.add(s);this.currentClassNames=e}}setHeight(e){Hk(this.el,"height",e)}}const SZ=parseInt(String(qn.version).split(".")[0]),_Z=SZ<18;class HO extends _.Component{constructor(){super(...arguments),this.elRef=_.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(qn.createElement(NZ,{key:t.id,customRendering:t}));return qn.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new aX;this.handleCustomRendering=e.handle.bind(e),this.calendar=new EZ(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{_c.flushSync(()=>{})});let t;e.subscribe(s=>{const r=Date.now(),i=!t;(_Z||i||this.isUpdating||this.isUnmounting||r-t<100?zO:_c.flushSync)(()=>{this.setState({customRenderingMap:s},()=>{t=r,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}HO.act=zO;class NZ extends _.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,s=typeof t=="function"?t(e.renderProps):t;return _c.createPortal(s,e.containerEl)}}function zO(n){n()}class AZ extends No{constructor(){super(...arguments),this.headerElRef=aa()}renderSimpleLayout(e,t){let{props:s,context:r}=this,i=[],l=WT(r.options);return e&&i.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),fe(LT,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},fe(CO,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,s,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:l,context:c}=this,u=!l.forPrint&&WT(c.options),h=!l.forPrint&&zY(c.options),m=[];return e&&m.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),h&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:HY}]}),fe(LT,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},fe(i,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:s,minWidth:r}]}],sections:m}))}}function pm(n,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of n)t[s.row].push(s);return t}function Zh(n,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of n)t[s.firstCol].push(s);return t}function nj(n,e){let t=[];if(n){for(let s=0;s<e;s+=1)t[s]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let s of n.segs)t[s.row].segs.push(s)}else for(let s=0;s<e;s+=1)t[s]=null;return t}const qO=es({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function FO(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class $O extends xn{render(){let{props:e}=this;return fe(TO,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:qO,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class VO extends xn{render(){let{props:e,context:t}=this,{options:s}=t,{seg:r}=e,i=s.eventTimeFormat||qO,l=dO(r,i,t,!0,e.defaultDisplayEventEnd);return fe(r1,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:fO(e.seg,t),defaultGenerator:CZ,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function CZ(n){return fe(_n,null,fe("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&fe("div",{className:"fc-event-time"},n.timeText),fe("div",{className:"fc-event-title"},n.event.title||fe(_n,null," ")))}class TZ extends xn{constructor(){super(...arguments),this.compileSegs=kt(jZ)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return fe(JY,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return fe(_n,null,t.map(i=>{let l=i.eventRange.instance.instanceId;return fe("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},FO(i)?fe(VO,Object.assign({seg:i,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},yd(i,e.todayRange))):fe($O,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},yd(i,e.todayRange))))}))}})}}function jZ(n){let e=[],t=[];for(let s of n)e.push(s.seg),s.isVisible||t.push(s.seg);return{allSegs:e,invisibleSegs:t}}const RZ=es({week:"narrow"});class DZ extends No{constructor(){super(...arguments),this.rootElRef=aa(),this.state={dayNumberId:Ng()},this.handleRootEl=e=>{_i(this.rootElRef,e),_i(this.props.elRef,e)}}render(){let{context:e,props:t,state:s,rootElRef:r}=this,{options:i,dateEnv:l}=e,{date:c,dateProfile:u}=t;const h=t.showDayNumber&&OZ(c,u.currentRange,l);return fe(jO,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:kZ,date:c,dateProfile:u,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:h,extraRenderProps:t.extraRenderProps},(m,p)=>fe("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&fe(XY,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Nv(e,c,"week"),date:c,defaultFormat:RZ}),!p.isDisabled&&(t.showDayNumber||RO(i)||t.forceDayTop)?fe("div",{className:"fc-daygrid-day-top"},fe(m,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Nv(e,c)),{id:s.dayNumberId})})):t.showDayNumber?fe("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},fe("a",{className:"fc-daygrid-day-number"}," ")):void 0,fe("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,fe("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},fe(TZ,{allDayDate:c,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),fe("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function kZ(n){return n.dayNumberText||fe(_n,null," ")}function OZ(n,e,t){const{start:s,end:r}=e,i=dl(r,-1),l=t.getYear(s),c=t.getMonth(s),u=t.getYear(i),h=t.getMonth(i);return!(l===u&&c===h)&&(n.valueOf()===s.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function WO(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function GO(n){return WO(n)+":"+n.lastCol}function MZ(n,e,t,s,r,i,l){let c=new BZ(N=>{let A=n[N.index].eventRange.instance.instanceId+":"+N.span.start+":"+(N.span.end-1);return r[A]||1});c.allowReslicing=!0,c.strictOrder=s,e===!0||t===!0?(c.maxCoord=i,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof t=="number"&&(c.maxStackCnt=t,c.hiddenConsumes=!0);let u=[],h=[];for(let N=0;N<n.length;N+=1){let A=n[N],R=GO(A);r[R]!=null?u.push({index:N,span:{start:A.firstCol,end:A.lastCol+1}}):h.push(A)}let m=c.addSegs(u),p=c.toRects(),{singleColPlacements:b,multiColPlacements:v,leftoverMargins:x}=LZ(p,n,l),S=[],E=[];for(let N of h){v[N.firstCol].push({seg:N,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=N.firstCol;A<=N.lastCol;A+=1)b[A].push({seg:Sc(N,A,A+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let N=0;N<l.length;N+=1)S.push(0);for(let N of m){let A=n[N.index],R=N.span;v[R.start].push({seg:Sc(A,R.start,R.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=R.start;T<R.end;T+=1)S[T]+=1,b[T].push({seg:Sc(A,T,T+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let N=0;N<l.length;N+=1)E.push(x[N]);return{singleColPlacements:b,multiColPlacements:v,moreCnts:S,moreMarginTops:E}}function LZ(n,e,t){let s=IZ(n,t.length),r=[],i=[],l=[];for(let c=0;c<t.length;c+=1){let u=s[c],h=[],m=0,p=0;for(let v of u){let x=e[v.index];h.push({seg:Sc(x,c,c+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-m}),m=v.levelCoord+v.thickness}let b=[];m=0,p=0;for(let v of u){let x=e[v.index],S=v.span.end-v.span.start>1,E=v.span.start===c;p+=v.levelCoord-m,m=v.levelCoord+v.thickness,S?(p+=v.thickness,E&&b.push({seg:Sc(x,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):E&&(b.push({seg:Sc(x,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:p}),p=0)}r.push(h),i.push(b),l.push(p)}return{singleColPlacements:r,multiColPlacements:i,leftoverMargins:l}}function IZ(n,e){let t=[];for(let s=0;s<e;s+=1)t.push([]);for(let s of n)for(let r=s.span.start;r<s.span.end;r+=1)t[r].push(s);return t}function Sc(n,e,t,s){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,i=r.range,l=Dc(i,{start:s[e].date,end:ts(s[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:n.isStart&&l.start.valueOf()===i.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===i.end.valueOf()})}class BZ extends hY{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:s}=this,r=i=>!this.forceHidden[vd(i)];for(let i=0;i<s.length;i+=1)s[i]=s[i].filter(r);return t}handleInvalidInsertion(e,t,s){const{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:l,touchingLevel:c,touchingLateral:u}=e;if(this.hiddenConsumes&&l){const h=vd(l);if(!i[h])if(this.allowReslicing){const m=Object.assign(Object.assign({},l),{span:xO(l.span,t.span)}),p=vd(m);i[p]=!0,r[c][u]=m,s.push(m),this.splitEntry(l,t,s)}else i[h]=!0,s.push(l)}super.handleInvalidInsertion(e,t,s)}}class YO extends No{constructor(){super(...arguments),this.cellElRefs=new Zl,this.frameElRefs=new Zl,this.fgElRefs=new Zl,this.segHarnessRefs=new Zl,this.rootElRef=aa(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:s}=this,{options:r}=s,i=e.cells.length,l=Zh(e.businessHourSegs,i),c=Zh(e.bgEventSegs,i),u=Zh(this.getHighlightSegs(),i),h=Zh(this.getMirrorSegs(),i),{singleColPlacements:m,multiColPlacements:p,moreCnts:b,moreMarginTops:v}=MZ(DG(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),x=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return fe("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((S,E)=>{let N=this.renderFgSegs(E,e.forPrint?m[E]:p[E],e.todayRange,x),A=this.renderFgSegs(E,PZ(h[E],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return fe(DZ,{key:S.key,elRef:this.cellElRefs.createRef(S.key),innerElRef:this.frameElRefs.createRef(S.key),dateProfile:e.dateProfile,date:S.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&E===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:S.extraRenderProps,extraDataAttrs:S.extraDataAttrs,extraClassNames:S.extraClassNames,extraDateSpan:S.extraDateSpan,moreCnt:b[E],moreMarginTop:v[E],singlePlacements:m[E],fgContentElRef:this.fgElRefs.createRef(S.key),fgContent:fe(_n,null,fe(_n,null,N),fe(_n,null,A)),bgContent:fe(_n,null,this.renderFillSegs(u[E],"highlight"),this.renderFillSegs(l[E],"non-business"),this.renderFillSegs(c[E],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let s=this.props;this.updateSizing(!Jr(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,s,r,i,l,c){let{context:u}=this,{eventSelection:h}=this.props,{framePositions:m}=this.state,p=this.props.cells.length===1,b=i||l||c,v=[];if(m)for(let x of t){let{seg:S}=x,{instanceId:E}=S.eventRange.instance,N=x.isVisible&&!r[E],A=x.isAbsolute,R="",T="";A&&(u.isRtl?(T=0,R=m.lefts[S.lastCol]-m.lefts[S.firstCol]):(R=0,T=m.rights[S.firstCol]-m.rights[S.lastCol])),v.push(fe("div",{className:"fc-daygrid-event-harness"+(A?" fc-daygrid-event-harness-abs":""),key:WO(S),ref:b?null:this.segHarnessRefs.createRef(GO(S)),style:{visibility:N?"":"hidden",marginTop:A?"":x.marginTop,top:A?x.absoluteTop:"",left:R,right:T}},FO(S)?fe(VO,Object.assign({seg:S,isDragging:i,isSelected:E===h,defaultDisplayEventEnd:p},yd(S,s))):fe($O,Object.assign({seg:S,isDragging:i,isResizing:l,isDateSelecting:c,isSelected:E===h,defaultDisplayEventEnd:p},yd(S,s)))))}return v}renderFillSegs(e,t){let{isRtl:s}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,l=[];if(i)for(let c of e){let u=s?{right:0,left:i.lefts[c.lastCol]-i.lefts[c.firstCol]}:{left:0,right:i.rights[c.firstCol]-i.rights[c.lastCol]};l.push(fe("div",{key:BG(c.eventRange),className:"fc-daygrid-bg-harness",style:u},t==="bg-event"?fe(WY,Object.assign({seg:c},yd(c,r))):YY(t)))}return fe(_n,{},...l)}updateSizing(e){let{props:t,state:s,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let u=t.cells.map(h=>r.currentMap[h.key]);if(u.length){let h=this.rootElRef.current,m=new Xm(h,u,!0,!1);(!s.framePositions||!s.framePositions.similarTo(m))&&this.setState({framePositions:new Xm(h,u,!0,!1)})}}const i=this.state.segHeights,l=this.querySegHeights(),c=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),l),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let s in e){let r=Math.round(e[s].getBoundingClientRect().height);t[s]=Math.max(t[s]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}YO.addStateEquality({segHeights:Jr});function PZ(n,e){if(!n.length)return[];let t=UZ(e);return n.map(s=>({seg:s,isVisible:!0,isAbsolute:!0,absoluteTop:t[s.eventRange.instance.instanceId],marginTop:0}))}function UZ(n){let e={};for(let t of n)for(let s of t)e[s.seg.eventRange.instance.instanceId]=s.absoluteTop;return e}class HZ extends No{constructor(){super(...arguments),this.splitBusinessHourSegs=kt(pm),this.splitBgEventSegs=kt(zZ),this.splitFgEventSegs=kt(pm),this.splitDateSelectionSegs=kt(pm),this.splitEventDrag=kt(nj),this.splitEventResize=kt(nj),this.rowRefs=new Zl}render(){let{props:e,context:t}=this,s=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,s),i=this.splitBgEventSegs(e.bgEventSegs,s),l=this.splitFgEventSegs(e.fgEventSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),h=this.splitEventResize(e.eventResize,s),m=s>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return fe(Rg,{unit:"day"},(p,b)=>fe(_n,null,e.cells.map((v,x)=>fe(YO,{ref:this.rowRefs.createRef(x),key:v.length?v[0].date.toISOString():x,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:b,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:r[x],eventSelection:e.eventSelection,bgEventSegs:i[x],fgEventSegs:l[x],dateSelectionSegs:c[x],eventDrag:u[x],eventResize:h[x],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:m,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Xm(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Xm(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:s,rowPositions:r}=this,i=s.leftToIndex(e),l=r.topToIndex(t);if(l!=null&&i!=null){let c=this.props.cells[l][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,i),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(l,i),rect:{left:s.lefts[i],right:s.rights[i],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let s=this.props.cells[e][t].date,r=ts(s,1);return{start:s,end:r}}}function zZ(n,e){return pm(n.filter(qZ),e)}function qZ(n){return n.eventRange.def.allDay}class FZ extends No{constructor(){super(...arguments),this.elRef=aa(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:s,expandRows:r}=e,i=s===!0||t===!0;i&&!r&&(i=!1,t=null,s=null);let l=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return fe("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},fe("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,fe("tbody",{role:"presentation"},fe(HZ,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:s,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=$Z(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),s=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;s.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function $Z(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${yW(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Hx(e.currentDate)}"]`)),t}class VZ extends SY{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class WZ extends No{constructor(){super(...arguments),this.slicer=new VZ,this.tableRef=aa()}render(){let{props:e,context:t}=this;return fe(FZ,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class GZ extends AZ{constructor(){super(...arguments),this.buildDayTableModel=kt(YZ),this.headerRef=aa(),this.tableRef=aa()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:s}=this,r=this.buildDayTableModel(s.dateProfile,t),i=e.dayHeaders&&fe(vY,{ref:this.headerRef,dateProfile:s.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),l=c=>fe(WZ,{ref:this.tableRef,dateProfile:s.dateProfile,dayTableModel:r,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:s.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,l,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,l)}}function YZ(n,e){let t=new wY(n.renderRange,e);return new EY(t,/year|month|week/.test(n.currentRangeUnit))}class XZ extends eO{buildRenderRange(e,t,s){let r=super.buildRenderRange(e,t,s),{props:i}=this;return ZZ({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function ZZ(n){let{dateEnv:e,currentRange:t}=n,{start:s,end:r}=t,i;if(n.snapToWeek&&(s=e.startOfWeek(s),i=e.startOfWeek(r),i.valueOf()!==r.valueOf()&&(r=CT(i,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(ts(t.end,-1))),c=Math.ceil(aW(l,r));r=CT(r,6-c)}return{start:s,end:r}}var QZ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Bk(QZ);var KZ=bl({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:GZ,dateProfileGeneratorClass:XZ},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});s1.touchMouseIgnoreWait=500;let Cv=0,Zm=0,Tv=!1;class XO{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&JZ(t)&&this.tryStart(t)){let s=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let s=this.createEventFromMouse(t);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let s=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let s=this.createEventFromTouch(t);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleTouchEnd=t=>{if(this.isDragging){let s=t.target;s.removeEventListener("touchmove",this.handleTouchMove),s.removeEventListener("touchend",this.handleTouchEnd),s.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,eQ()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let s=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:s-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new jg,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),tQ()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),nQ()}tryStart(e){let t=this.querySubjectEl(e),s=e.target;return t&&(!this.handleSelector||vs(s,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Tv=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?vs(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Cv||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Tv=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let s=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(s=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:s,deltaY:r}}createEventFromTouch(e,t){let s=e.touches,r,i,l=0,c=0;return s&&s.length?(r=s[0].pageX,i=s[0].pageY):(r=e.pageX,i=e.pageY),t?(this.origPageX=r,this.origPageY=i):(l=r-this.origPageX,c=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:l,deltaY:c}}}function JZ(n){return n.button===0&&!n.ctrlKey}function eQ(){Cv+=1,setTimeout(()=>{Cv-=1},s1.touchMouseIgnoreWait)}function tQ(){Zm+=1,Zm===1&&window.addEventListener("touchmove",ZO,{passive:!1})}function nQ(){Zm-=1,Zm||window.removeEventListener("touchmove",ZO,{passive:!1})}function ZO(n){Tv&&n.preventDefault()}class sQ{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,s){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=s-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let s=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(s,this.revertDuration):setTimeout(s,0)}doRevertAnimation(e,t){let s=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();s.style.transition="top "+t+"ms,left "+t+"ms",gd(s,{left:r.left,top:r.top}),qV(s,()=>{s.style.transition="",e()})}cleanup(){this.mirrorEl&&(Bx(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&gd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),gd(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class QO extends n1{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class KO extends QO{constructor(e,t){super(new dY(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return cY(this.scrollController.el)}}class rQ extends QO{constructor(e){super(new fY,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const sj=typeof performance=="function"?performance.now:Date.now;class iQ{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=sj();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,s){this.isEnabled&&(this.scrollCaches=this.buildCaches(s),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let s=e-window.scrollX,r=t-window.scrollY,i=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:s-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=s,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(sj()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:s}=e,{edgeThreshold:r}=this,i=r-e.distance,l=i*i/(r*r)*this.maxVelocity*t,c=1;switch(e.name){case"left":c=-1;case"right":s.setScrollLeft(s.getScrollLeft()+l*c);break;case"top":c=-1;case"bottom":s.setScrollTop(s.getScrollTop()+l*c);break}}computeBestEdge(e,t){let{edgeThreshold:s}=this,r=null,i=this.scrollCaches||[];for(let l of i){let c=l.clientRect,u=e-c.left,h=c.right-e,m=t-c.top,p=c.bottom-t;u>=0&&h>=0&&m>=0&&p>=0&&(m<=s&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>m)&&(r={scrollCache:l,name:"top",distance:m}),p<=s&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>p)&&(r={scrollCache:l,name:"bottom",distance:p}),u<=s&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:l,name:"left",distance:u}),h<=s&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"right",distance:h}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new rQ(!1):new KO(t,!1))}queryScrollEls(e){let t=[];for(let s of this.scrollQuery)typeof s=="object"?t.push(s):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(s)));return t}}class sf extends mY{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,FV(document.body),VV(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let i=this.minDistance,l,{deltaX:c,deltaY:u}=r;l=c*c+u*u,l>=i*i&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,$V(document.body),WV(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let s=this.pointer=new XO(e);s.emitter.on("pointerdown",this.onPointerDown),s.emitter.on("pointermove",this.onPointerMove),s.emitter.on("pointerup",this.onPointerUp),t&&(s.selector=t),this.mirror=new sQ,this.autoScroller=new iQ}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class aQ{constructor(e){this.el=e,this.origRect=t1(e),this.scrollCaches=vO(e).map(t=>new KO(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let s={left:e,top:t};for(let r of this.scrollCaches)if(!lQ(r.getEventTarget())&&!KG(s,r.clientRect))return!1;return!0}}function lQ(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Dg{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=s=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(s),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",s)):r.setIgnoreMove(!0)},this.handleDragStart=s=>{this.emitter.trigger("dragstart",s),this.handleMove(s,!0)},this.handleDragMove=s=>{this.emitter.trigger("dragmove",s),this.handleMove(s)},this.handlePointerUp=s=>{this.releaseHits(),this.emitter.trigger("pointerup",s)},this.handleDragEnd=s=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,s),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",s)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new jg}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},s=t,r=e.subjectEl,i;r instanceof HTMLElement&&(i=t1(r),s=JG(s,i));let l=this.initialHit=this.queryHitForOffset(s.left,s.top);if(l){if(this.useSubjectCenter&&i){let c=pO(i,l.rect);c&&(s=eY(c))}this.coordAdjust=tY(s,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let s=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!kg(this.movingHit,s))&&(this.movingHit=s,this.emitter.trigger("hitupdate",s,!1,e))}prepareHits(){this.offsetTrackers=Eo(this.droppableStore,e=>(e.component.prepareHits(),new aQ(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:s,offsetTrackers:r}=this,i=null;for(let l in s){let c=s[l].component,u=r[l];if(u&&u.isWithinClipping(e,t)){let h=u.computeLeft(),m=u.computeTop(),p=e-h,b=t-m,{origRect:v}=u,x=v.right-v.left,S=v.bottom-v.top;if(p>=0&&p<x&&b>=0&&b<S){let E=c.queryHit(p,b,x,S);E&&Cg(E.dateProfile.activeRange,E.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(p+h-window.scrollX,b+m-window.scrollY)))&&(!i||E.layer>i.layer)&&(E.componentId=l,E.context=c.context,E.rect.left+=h,E.rect.right+=h,E.rect.top+=m,E.rect.bottom+=m,i=E)}}}return i}}function kg(n,e){return!n&&!e?!0:!!n!=!!e?!1:zG(n.dateSpan,e.dateSpan)}function JO(n,e){let t={};for(let s of e.pluginHooks.datePointTransforms)Object.assign(t,s(n,e));return Object.assign(t,oQ(n,e.dateEnv)),t}function oQ(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class cQ extends Wc{constructor(e){super(e),this.handlePointerDown=s=>{let{dragging:r}=this,i=s.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=s=>{let{component:r}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:l,finalHit:c}=this.hitDragging;if(l&&c&&kg(l,c)){let{context:u}=r,h=Object.assign(Object.assign({},JO(l.dateSpan,u)),{dayEl:l.dayEl,jsEvent:s.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",h)}}},this.dragging=new sf(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Dg(this.dragging,Jx(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class uQ extends Wc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:c,dragging:u}=this,{options:h}=c.context,m=h.selectable&&c.isValidDateDownEl(l.origEvent.target);u.setIgnoreMove(!m),u.delay=l.isTouch?dQ(c):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,c)=>{let{context:u}=this.component,h=null,m=!1;if(l){let p=this.hitDragging.initialHit;l.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,l)||(h=fQ(p,l,u.pluginHooks.dateSelectionTransformers)),(!h||!_Y(h,l.dateProfile,u))&&(m=!0,h=null)}h?u.dispatch({type:"SELECT_DATES",selection:h}):c||u.dispatch({type:"UNSELECT_DATES"}),m?Px():Ux(),c||(this.dragSelection=h)},this.handlePointerUp=l=>{this.dragSelection&&(oO(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:s}=t.context,r=this.dragging=new sf(e.el);r.touchScrollAllowed=!1,r.minDistance=s.selectMinDistance||0,r.autoScroller.isEnabled=s.dragScroll;let i=this.hitDragging=new Dg(this.dragging,Jx(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function dQ(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function fQ(n,e,t){let s=n.dateSpan,r=e.dateSpan,i=[s.range.start,s.range.end,r.range.start,r.range.end];i.sort(QV);let l={};for(let c of t){let u=c(n,e);if(u===!1)return null;u&&Object.assign(l,u)}return l.range={start:i[0],end:i[3]},l.allDay=s.allDay,l}class rf extends Wc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let c=l.origEvent.target,{component:u,dragging:h}=this,{mirror:m}=h,{options:p}=u.context,b=u.context;this.subjectEl=l.subjectEl;let v=this.subjectSeg=kc(l.subjectEl),S=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=Xx(b.getCurrentData().eventStore,S),h.minDistance=l.isTouch?0:p.eventDragMinDistance,h.delay=l.isTouch&&S!==u.props.eventSelection?mQ(u):null,p.fixedMirrorParent?m.parentNode=p.fixedMirrorParent:m.parentNode=vs(c,".fc"),m.revertDuration=p.dragRevertDuration;let E=u.isValidSegDownEl(c)&&!vs(c,".fc-event-resizer");h.setIgnoreMove(!E),this.isDragging=E&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let c=this.component.context,u=this.eventRange,h=u.instance.instanceId;l.isTouch?h!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(l),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new cn(c,u.def,u.instance),jsEvent:l.origEvent,view:c.viewApi}))},this.handleHitUpdate=(l,c)=>{if(!this.isDragging)return;let u=this.relevantEvents,h=this.hitDragging.initialHit,m=this.component.context,p=null,b=null,v=null,x=!1,S={affectedEvents:u,mutatedEvents:Qr(),isEvent:!0};if(l){p=l.context;let E=p.options;m===p||E.editable&&E.droppable?(b=hQ(h,l,this.eventRange.instance.range.start,p.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(v=Kx(u,p.getCurrentData().eventUiBases,b,p),S.mutatedEvents=v,SO(S,l.dateProfile,p)||(x=!0,b=null,v=null,S.mutatedEvents=Qr()))):p=null}this.displayDrag(p,S),x?Px():Ux(),c||(m===p&&kg(h,l)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=p,this.validMutation=b,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let c=this.component.context,u=c.viewApi,{receivingContext:h,validMutation:m}=this,p=this.eventRange.def,b=this.eventRange.instance,v=new cn(c,p,b),x=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:l.origEvent,view:u}),m){if(h===c){let N=new cn(c,S.defs[p.defId],b?S.instances[b.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:S});let A={oldEvent:v,event:N,relatedEvents:Jl(S,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:x})}},R={};for(let T of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(R,T(m,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},A),R),{el:l.subjectEl,delta:m.datesDelta,jsEvent:l.origEvent,view:u})),c.emitter.trigger("eventChange",A)}else if(h){let N={event:v,relatedEvents:Jl(x,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:x})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},N),{draggedEl:l.subjectEl,view:u})),c.dispatch({type:"REMOVE_EVENTS",eventStore:x}),c.emitter.trigger("eventRemove",N);let A=S.defs[p.defId],R=S.instances[b.instanceId],T=new cn(h,A,R);h.dispatch({type:"MERGE_EVENTS",eventStore:S});let D={event:T,relatedEvents:Jl(S,h,R),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};h.emitter.trigger("eventAdd",D),l.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},JO(E.dateSpan,h)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:E.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:l.subjectEl,view:E.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:s}=t.context,r=this.dragging=new sf(e.el);r.pointer.selector=rf.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=s.dragScroll;let i=this.hitDragging=new Dg(this.dragging,_v);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let s=this.component.context,r=this.receivingContext;r&&r!==e&&(r===s?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Qr(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function hQ(n,e,t,s){let r=n.dateSpan,i=e.dateSpan,l=r.range.start,c=i.range.start,u={};r.allDay!==i.allDay&&(u.allDay=i.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?l=on(t):l=t);let h=gc(l,c,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);h.milliseconds&&(u.allDay=!1);let m={datesDelta:h,standardProps:u};for(let p of s)p(m,n,e);return m}function mQ(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class gQ extends Wc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:l}=this,c=this.querySegEl(i),u=kc(c),h=this.eventRange=u.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=i=>{let{context:l}=this.component,c=this.eventRange;this.relevantEvents=Xx(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(i);this.draggingSegEl=u,this.draggingSeg=kc(u),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:u,event:new cn(l,c.def,c.instance),jsEvent:i.origEvent,view:l.viewApi})},this.handleHitUpdate=(i,l,c)=>{let{context:u}=this.component,h=this.relevantEvents,m=this.hitDragging.initialHit,p=this.eventRange.instance,b=null,v=null,x=!1,S={affectedEvents:h,mutatedEvents:Qr(),isEvent:!0};i&&(i.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,i)||(b=pQ(m,i,c.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),b&&(v=Kx(h,u.getCurrentData().eventUiBases,b,u),S.mutatedEvents=v,SO(S,i.dateProfile,u)||(x=!0,b=null,v=null,S.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:S}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),x?Px():Ux(),l||(b&&kg(m,i)&&(b=null),this.validMutation=b,this.mutatedRelevantEvents=v)},this.handleDragEnd=i=>{let{context:l}=this.component,c=this.eventRange.def,u=this.eventRange.instance,h=new cn(l,c,u),m=this.relevantEvents,p=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:i.origEvent,view:l.viewApi}),this.validMutation){let b=new cn(l,p.defs[c.defId],u?p.instances[u.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:p});let v={oldEvent:h,event:b,relatedEvents:Jl(p,l,u),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Lt(0),endDelta:this.validMutation.endDelta||Lt(0),jsEvent:i.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",v)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,s=this.dragging=new sf(e.el);s.pointer.selector=".fc-event-resizer",s.touchScrollAllowed=!1,s.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Dg(this.dragging,Jx(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return vs(e.subjectEl,".fc-event")}}function pQ(n,e,t,s){let r=n.context.dateEnv,i=n.dateSpan.range.start,l=e.dateSpan.range.start,c=gc(i,l,r,n.largeUnit);if(t){if(r.add(s.start,c)<s.end)return{startDelta:c}}else if(r.add(s.end,c)>s.start)return{endDelta:c};return null}class bQ{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=s=>{s.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=s=>{let r=this.context.options.unselectCancel,i=zk(s.origEvent);this.matchesCancel=!!vs(i,r),this.matchesEvent=!!vs(i,rf.SELECTOR)},this.onDocumentPointerUp=s=>{let{context:r}=this,{documentPointer:i}=this,l=r.getCurrentData();if(!i.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let c=r.options.unselectAuto;c&&(!c||!this.matchesCancel)&&r.calendarApi.unselect(s)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new XO(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const yQ={fixedMirrorParent:ue},vQ={dateClick:ue,eventDragStart:ue,eventDragStop:ue,eventDrop:ue,eventResizeStart:ue,eventResizeStop:ue,eventResize:ue,drop:ue,eventReceive:ue,eventLeave:ue};s1.dataAttrPrefix="";var xQ=bl({name:"@fullcalendar/interaction",componentInteractions:[cQ,uQ,rf,gQ],calendarInteractions:[bQ],elementDraggingImpl:sf,optionRefiners:yQ,listenerRefiners:vQ});const wQ=({clubId:n,selectedDate:e,onClose:t,onSuccess:s})=>{const[r,i]=_.useState({title:"",content:"",address:"",addressDetail:"",startDate:e||"",startTime:"14:00",endDate:e||"",endTime:"16:00",maxAttendees:""}),[l,c]=_.useState({}),[u,h]=_.useState(!1),[m,p]=_.useState(0);_.useEffect(()=>{(async()=>{try{const E=await cl.getClubMemberCount(n);p(E)}catch(E){console.error("회원 수 조회 실패:",E)}})()},[n]);const b=S=>{const{name:E,value:N}=S.target;i(A=>({...A,[E]:N})),l[E]&&c(A=>({...A,[E]:""}))},v=()=>{const S={};if(r.title.trim()||(S.title="제목을 입력해주세요"),r.startDate||(S.startDate="시작일을 선택해주세요"),r.endDate||(S.endDate="종료일을 선택해주세요"),r.startDate&&r.endDate){const E=new Date(`${r.startDate}T${r.startTime}`),N=new Date(`${r.endDate}T${r.endTime}`);E>=N&&(S.endDate="종료 시간은 시작 시간 이후여야 합니다")}return c(S),Object.keys(S).length===0},x=async()=>{if(v()){h(!0);try{const S={clubId:parseInt(n),title:r.title,content:r.content||null,address:r.address||null,addressDetail:r.addressDetail||null,latitude:null,longitude:null,scheduleStartDate:`${r.startDate}T${r.startTime}:00`,scheduleEndDate:`${r.endDate}T${r.endTime}:00`,maxAttendees:r.maxAttendees?parseInt(r.maxAttendees):m};await cl.createSchedule(S),s()}catch(S){console.error("일정 생성 실패:",S),c({submit:S.message||"일정 생성에 실패했습니다"})}finally{h(!1)}}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"일정 등록"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",disabled:u,children:"✕"})]}),f.jsxs("div",{className:"px-6 py-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"제목"}),f.jsx("input",{type:"text",name:"title",value:r.title,onChange:b,placeholder:"일정 제목을 입력하세요",maxLength:100,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),l.title&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.title})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"시작일"}),f.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),l.startDate&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.startDate})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"종료일"}),f.jsx("input",{type:"date",name:"endDate",value:r.endDate,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),l.endDate&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.endDate})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"시작 시간"}),f.jsx("input",{type:"time",name:"startTime",value:r.startTime,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"종료 시간"}),f.jsx("input",{type:"time",name:"endTime",value:r.endTime,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"장소"}),f.jsx("input",{type:"text",name:"address",value:r.address,onChange:b,placeholder:"장소를 입력하세요",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"모집 정원"}),f.jsx("input",{type:"number",name:"maxAttendees",value:r.maxAttendees,onChange:b,placeholder:`입력하지 않으면 동호회 전체 인원(${m}명)으로 설정됩니다`,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"참여 가능한 최대 인원을 입력하세요"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"상세 설명"}),f.jsx("textarea",{name:"content",value:r.content,onChange:b,placeholder:`일정에 대한 상세한 설명을 입력하세요
예시:
- 준비물
- 참석 시 주의사항
- 일정 상황 공유 및 다음 주 계획 수립`,rows:5,maxLength:1e3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),f.jsx("div",{className:"flex items-center justify-between mt-1",children:f.jsxs("p",{className:"text-xs text-gray-400",children:[r.content.length,"/1000자"]})})]}),l.submit&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600",children:l.submit})})]}),f.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex gap-3",children:[f.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",disabled:u,children:"닫기"}),f.jsx("button",{onClick:x,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:brightness-110 transition-all disabled:opacity-50",disabled:u,children:u?"등록 중입니다":"등록"})]})]})})},EQ=({schedule:n,onClose:e,onSuccess:t})=>{const[s,r]=_.useState(!1),i=async()=>{r(!0);try{await cl.cancelSchedule(n.scheduleId),t()}catch(u){console.error("일정 취소 실패:",u)}finally{r(!1)}},l=u=>{if(!u)return"";const h=new Date(u),m=h.getFullYear(),p=String(h.getMonth()+1).padStart(2,"0"),b=String(h.getDate()).padStart(2,"0");return`${m}년 ${p}월 ${b}일`},c=u=>{if(!u)return"";const h=new Date(u),m=String(h.getHours()).padStart(2,"0"),p=String(h.getMinutes()).padStart(2,"0");return`오후 ${m}:${p}`};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:f.jsxs("div",{className:"flex items-center text-red-500 mb-2",children:[f.jsx("span",{className:"text-2xl mr-2",children:"⚠"}),f.jsx("h2",{className:"text-xl font-bold",children:"일정 취소"})]})}),f.jsxs("div",{className:"px-6 py-6",children:[f.jsx("p",{className:"text-gray-700 mb-4",children:"다음 일정을 정말 취소하시겠습니까?"}),f.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"취소된 일정은 복구할 수 없습니다"}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.title}),f.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[f.jsxs("div",{children:["📅 ",l(n.scheduleStartDate)]}),f.jsxs("div",{children:["🕐 ",c(n.scheduleStartDate)," ~ ",c(n.scheduleEndDate)]}),n.address&&f.jsxs("div",{children:["📍 ",n.address]}),f.jsxs("div",{children:["👥 참석자 ",n.attendees?.length||0,"명"]})]})]}),f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-600 flex items-start",children:[f.jsx("span",{className:"mr-2",children:"⚠"}),f.jsxs("span",{children:["주의사항",f.jsx("br",{}),"참석자들에 일정 취소 알림이 발송됩니다"]})]})})]}),f.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-3",children:[f.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",disabled:s,children:"닫기"}),f.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",disabled:s,children:s?"취소 중입니다":"일정 취소"})]})]})})},SQ=({attendees:n,onClose:e})=>{const t=u=>n.filter(h=>h.attendanceStatus===u),s=t("ATTEND"),r=t("ABSENT"),i=t("WAITING"),l=u=>!u||u.trim()===""||u==="null"?"https://via.placeholder.com/40/CCCCCC/FFFFFF?text=U":u,c=({title:u,count:h,list:m,statusColor:p})=>f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:[u," ",h]}),m.length===0?f.jsxs("p",{className:"text-sm text-gray-500 text-center py-4",children:[u.split(" ")[0]," 회원이 없습니다"]}):f.jsx("div",{className:"space-y-2",children:m.map(b=>f.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[f.jsx("img",{src:l(b.profileImageUrl),alt:b.nickname,className:"w-10 h-10 rounded-full bg-gray-200"}),f.jsx("span",{className:"flex-1 text-gray-900",children:b.nickname}),f.jsxs("span",{className:`text-sm ${p}`,children:[b.attendanceStatus==="ATTEND"&&"✓ 참석",b.attendanceStatus==="ABSENT"&&"✗ 불참",b.attendanceStatus==="WAITING"&&"? 미정"]})]},b.memberId))})]});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"참석자 현황"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),f.jsxs("div",{className:"px-6 py-6 space-y-6",children:[f.jsx(c,{title:"참석",count:s.length,list:s,statusColor:"text-green-600"}),f.jsx("div",{className:"border-t border-gray-200 pt-6",children:f.jsx(c,{title:"불참",count:r.length,list:r,statusColor:"text-red-600"})}),f.jsx("div",{className:"border-t border-gray-200 pt-6",children:f.jsx(c,{title:"미정",count:i.length,list:i,statusColor:"text-gray-600"})})]}),f.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:f.jsx("button",{onClick:e,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"닫기"})})]})})},_Q=({schedule:n,onClose:e,onSuccess:t})=>{const[s,r]=_.useState(null),[i,l]=_.useState(!0),[c,u]=_.useState(!1),[h,m]=_.useState(!1),p=_.useCallback(async()=>{try{const R=await cl.getSchedule(n.scheduleId);r(R)}catch(R){console.error("일정 상세 조회 실패:",R)}finally{l(!1)}},[n.scheduleId]);_.useEffect(()=>{p()},[n.scheduleId,p]);const b=async R=>{try{await cl.updateAttendanceStatus(n.scheduleId,R),await p()}catch(T){console.error("참석 상태 변경 실패:",T)}},v=R=>{if(!R)return"";const T=new Date(R),D=T.getFullYear(),M=String(T.getMonth()+1).padStart(2,"0"),U=String(T.getDate()).padStart(2,"0");return`${D}년 ${M}월 ${U}일`},x=R=>{if(!R)return"";const T=new Date(R),D=String(T.getHours()).padStart(2,"0"),M=String(T.getMinutes()).padStart(2,"0");return`${D}:${M}`},S=R=>s?.attendees?s.attendees.filter(T=>T.attendanceStatus===R):[],E=S("ATTEND").length,N=S("ABSENT").length,A=S("WAITING").length;return i?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsx("div",{className:"bg-white rounded-2xl p-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중입니다"})})}):s?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"일정 상세"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),f.jsxs("div",{className:"px-6 py-6 space-y-6",children:[f.jsx("div",{children:f.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.title})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center text-gray-700",children:[f.jsx(ig,{className:"w-5 h-5 mr-2"}),f.jsx("span",{children:v(s.scheduleStartDate)})]}),f.jsxs("div",{className:"flex items-center text-gray-700",children:[f.jsx(ag,{className:"w-5 h-5 mr-2"}),f.jsxs("span",{children:[x(s.scheduleStartDate)," ~"," ",x(s.scheduleEndDate)]})]})]}),s.address&&f.jsxs("div",{className:"flex items-center text-gray-700",children:[f.jsx(sa,{className:"w-5 h-5 mr-2"}),f.jsx("span",{children:s.address}),s.addressDetail&&f.jsxs("span",{className:"ml-1",children:["(",s.addressDetail,")"]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center text-gray-900 font-semibold",children:[f.jsx(Ac,{className:"w-5 h-5 mr-2"}),f.jsx("span",{children:"참석자"})]}),f.jsx("button",{onClick:()=>m(!0),className:"text-sm text-primary hover:underline",children:"모두 보기"})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(x_,{className:"w-4 h-4 text-green-600 mr-1"}),f.jsxs("span",{children:["참석 ",E]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(no,{className:"w-4 h-4 text-red-600 mr-1"}),f.jsxs("span",{children:["불참 ",N]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(w_,{className:"w-4 h-4 text-gray-600 mr-1"}),f.jsxs("span",{children:["미정 ",A]})]})]})]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"참석 여부를 선택해주세요"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>b("ATTEND"),className:"flex-1 px-4 py-2 bg-white border border-green-300 text-green-700 rounded-lg hover:bg-green-50 transition-colors flex items-center justify-center gap-1",children:[f.jsx(x_,{className:"w-4 h-4"}),"참석"]}),f.jsxs("button",{onClick:()=>b("ABSENT"),className:"flex-1 px-4 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors flex items-center justify-center gap-1",children:[f.jsx(no,{className:"w-4 h-4"}),"불참"]}),f.jsxs("button",{onClick:()=>b("WAITING"),className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-1",children:[f.jsx(w_,{className:"w-4 h-4"}),"미정"]})]})]}),s.content&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"상세 내용"}),f.jsx("div",{className:"text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:s.content})]})]}),f.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex gap-3",children:[f.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"닫기"}),f.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"일정 취소"})]})]})}),c&&f.jsx(EQ,{schedule:s,onClose:()=>u(!1),onSuccess:()=>{u(!1),t()}}),h&&f.jsx(SQ,{attendees:s.attendees||[],onClose:()=>m(!1)})]}):null},NQ=({date:n,schedules:e,onClose:t,onScheduleClick:s,onCreateClick:r})=>{const i=c=>{if(!c)return"";const u=new Date(c),h=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),p=String(u.getDate()).padStart(2,"0"),b=["일","월","화","수","목","금","토"][u.getDay()];return`${h}년 ${m}월 ${p}일 ${b}요일`},l=c=>{if(!c)return"";const u=new Date(c),h=String(u.getHours()).padStart(2,"0"),m=String(u.getMinutes()).padStart(2,"0");return`${h}:${m}`};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[i(n)," 일정"]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),f.jsx("div",{className:"px-6 py-6 space-y-4",children:e.map(c=>f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>s(c),children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:c.title}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[f.jsx(ag,{className:"w-4 h-4 mr-2"}),f.jsxs("span",{className:"mr-4",children:[l(c.scheduleStartDate)," ~ ",l(c.scheduleEndDate)]})]}),c.address&&f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[f.jsx(sa,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:c.address})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(Ac,{className:"w-4 h-4 mr-2"}),f.jsxs("span",{children:["참석자 ",c.attendeeCount,"명"]})]})]},c.scheduleId))}),f.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:f.jsx("button",{onClick:()=>{t(),r()},className:"w-full px-6 py-3 bg-primary text-white rounded-lg hover:brightness-110 transition-all",children:"일정 추가"})})]})})},AQ=()=>{const{clubId:n}=cr(),e=_t(),[t,s]=_.useState([]),[r,i]=_.useState(!0),[l,c]=_.useState(null),[u,h]=_.useState(null),[m,p]=_.useState(!1),[b,v]=_.useState(!1),[x,S]=_.useState(!1),[E,N]=_.useState([]),[A,R]=_.useState(!0),[T,D]=_.useState({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null});_.useEffect(()=>{n&&(async()=>{try{if(await St.getMyMemberStatus(n)!=="APPROVED"){R(!1),D({isOpen:!0,message:"동호회 회원이 아닙니다.",redirectOnClose:!0,nextUrl:`/clubs/${n}/detail`});return}}catch{R(!1),D({isOpen:!0,message:"동호회 회원이 아닙니다.",redirectOnClose:!0,nextUrl:`/clubs/${n}/detail`})}})()},[n,e]);const M=_.useCallback(async()=>{try{i(!0);const j=await cl.getSchedulesByClubId(n);s(j);const z=new Date,K=j.filter(ne=>new Date(ne.scheduleStartDate)>=z).sort((ne,L)=>new Date(ne.scheduleStartDate)-new Date(L.scheduleStartDate)).slice(0,3);N(K)}catch(j){console.error("일정 조회 실패:",j)}finally{i(!1)}},[n]);_.useEffect(()=>{n&&M()},[n,M]);const U=t.map(j=>{const z=new Date(j.scheduleStartDate),K=new Date(j.scheduleEndDate),ne=z.toISOString().split("T")[0]===K.toISOString().split("T")[0];return{id:j.scheduleId,title:j.title,start:j.scheduleStartDate,end:ne?void 0:j.scheduleEndDate,allDay:!0,extendedProps:{...j}}}),I=j=>{const z=j.dateStr;t.filter(ne=>{const L=new Date(ne.scheduleStartDate),G=new Date(ne.scheduleEndDate),ie=new Date(z);return L.setHours(0,0,0,0),G.setHours(0,0,0,0),ie.setHours(0,0,0,0),ie>=L&&ie<=G}).length>0?(c(z),S(!0)):(c(z),p(!0))},F=j=>{const z=parseInt(j.event.id),K=t.find(ne=>ne.scheduleId===z);K&&(h(K),v(!0))},Z=()=>{c(null),p(!0)},O=j=>{h(j),v(!0)},q=j=>{if(!j)return"";const z=new Date(j),K=z.getFullYear(),ne=String(z.getMonth()+1).padStart(2,"0"),L=String(z.getDate()).padStart(2,"0");return`${K}년 ${ne}월 ${L}일`},H=j=>{if(!j)return"";const z=new Date(j),K=String(z.getHours()).padStart(2,"0"),ne=String(z.getMinutes()).padStart(2,"0");return`${K}:${ne}`},X=(j,z)=>`${H(j)} ~ ${H(z)}`,V=()=>{const{redirectOnClose:j,nextUrl:z}=T;D({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null}),j&&z&&e(z)};return A?r?f.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중입니다"})}):f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"일정 관리"}),f.jsx("button",{onClick:Z,className:"px-4 py-2 bg-primary text-white rounded-lg hover:brightness-110 transition-all",children:"+ 일정 추가"})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:f.jsx(HO,{plugins:[KZ,xQ],initialView:"dayGridMonth",locale:"ko",headerToolbar:{left:"prev",center:"title",right:"next"},events:U,dateClick:I,eventClick:F,height:"auto",dayMaxEvents:3})}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"다가오는 일정"}),E.length===0?f.jsx("div",{className:"text-center text-gray-500 py-8",children:"예정된 일정이 없습니다"}):f.jsx("div",{className:"space-y-4",children:E.map(j=>f.jsxs("div",{onClick:()=>O(j),className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:j.title}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[f.jsx(ig,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:q(j.scheduleStartDate)})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[f.jsx(ag,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:X(j.scheduleStartDate,j.scheduleEndDate)})]}),j.address&&f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[f.jsx(sa,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:j.address})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(Ac,{className:"w-4 h-4 mr-2"}),f.jsxs("span",{children:["참석자 ",j.attendeeCount,"명"]})]})]},j.scheduleId))})]}),m&&f.jsx(wQ,{clubId:n,selectedDate:l,onClose:()=>{p(!1),c(null)},onSuccess:()=>{p(!1),c(null),M()}}),b&&u&&f.jsx(_Q,{schedule:u,onClose:()=>{v(!1),h(null)},onSuccess:()=>{v(!1),h(null),M()}}),x&&l&&f.jsx(NQ,{date:l,schedules:t.filter(j=>{const z=new Date(j.scheduleStartDate),K=new Date(j.scheduleEndDate),ne=new Date(l);return z.setHours(0,0,0,0),K.setHours(0,0,0,0),ne.setHours(0,0,0,0),ne>=z&&ne<=K}),onClose:()=>{S(!1),c(null)},onScheduleClick:j=>{S(!1),h(j),v(!0)},onCreateClick:()=>{S(!1),p(!0)}}),f.jsx(sn,{isOpen:T.isOpen,message:T.message,onClose:V})]}):f.jsx("div",{className:"max-w-7xl mx-auto p-6",children:f.jsx(sn,{isOpen:T.isOpen,message:T.message,onClose:V})})};function My({member:n,isManager:e,onRoleChange:t,onRemove:s}){const[r,i]=_.useState(!1),l=_.useRef(null);_.useEffect(()=>{const p=b=>{l.current&&!l.current.contains(b.target)&&i(!1)};if(r)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const c=p=>!p||p.trim()===""||p==="null"?vn:p,u=p=>{if(!p)return"";const b=new Date(p),v=b.getFullYear(),x=String(b.getMonth()+1).padStart(2,"0"),S=String(b.getDate()).padStart(2,"0");return`${v}-${x}-${S}`},h=p=>p==="LEADER"?"동호회장":p==="MANAGER"?"운영진":"회원",m=p=>p==="LEADER"?"bg-yellow-100 text-yellow-800":p==="MANAGER"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800";return f.jsxs("div",{className:"border rounded-lg p-4 relative",children:[e&&n.role!=="LEADER"&&f.jsxs("div",{className:"absolute top-4 right-4",ref:l,children:[f.jsx("button",{onClick:()=>i(!r),className:"p-1 hover:bg-gray-100 rounded",children:f.jsx(Vv,{className:"w-5 h-5 text-gray-500"})}),r&&f.jsxs("div",{className:"absolute right-0 top-8 w-32 bg-white border rounded-md shadow-lg z-10",children:[f.jsx("button",{onClick:()=>{i(!1),t(n)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50",children:"권한 설정"}),f.jsx("button",{onClick:()=>{i(!1),s(n)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50",children:"강제 탈퇴"})]})]}),f.jsxs("div",{className:"flex items-center mb-2",children:[f.jsx("img",{src:c(n.fileLink),alt:"프로필",className:"w-12 h-12 rounded-full overflow-hidden mr-3 transition-opacity translate-y-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:n.nickname}),f.jsx("span",{className:`text-xs px-2 py-1 rounded ${m(n.role)}`,children:h(n.role)})]})]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["가입일 ",u(n.joinedAt)]})]})}function CQ({member:n,onApprove:e,onReject:t}){const s=i=>!i||i.trim()===""||i==="null"?vn:i,r=i=>{if(!i)return"";const l=new Date(i),c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");return`${c}-${u}-${h}`};return f.jsxs("div",{className:"border rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx("img",{src:s(n.fileLink),alt:"프로필",className:"w-12 h-12 rounded-full overflow-hidden mr-3 transition-opacity translate-y-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:n.nickname}),f.jsxs("p",{className:"text-xs text-gray-500",children:["신청일 ",r(n.joinedAt)]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>e(n),className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:"승인"}),f.jsx("button",{onClick:()=>t(n),className:"flex-1 px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"거절"})]})]})}function TQ({member:n,onClose:e,onSuccess:t,clubId:s}){const[r,i]=_.useState(n.role),l=async()=>{try{await Bc.updateMemberRole(s,{clubId:parseInt(s),memberId:n.memberId,role:r}),t(),e()}catch(c){console.error("권한 변경 실패:",c)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"권한 설정"}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"회원"}),f.jsxs("select",{value:r,onChange:c=>i(c.target.value),className:"w-full border rounded px-3 py-2",children:[f.jsx("option",{value:"MEMBER",children:"회원"}),f.jsx("option",{value:"MANAGER",children:"운영진"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",children:"취소"}),f.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-primary text-white rounded hover:bg-primary-hover",children:"확인"})]})]})})}function jQ({member:n,onClose:e,onSuccess:t,clubId:s}){const[r,i]=_.useState(""),[l,c]=_.useState(!0),u=async()=>{if(r.trim())try{await Bc.removeMember(s,{clubId:parseInt(s),memberId:n.memberId,reason:r,allowRejoin:l}),t(),e()}catch(h){console.error("강제 탈퇴 실패:",h)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"회원 강제 탈퇴"}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["대상 회원",f.jsx("br",{}),n.nickname]}),f.jsx("label",{className:"block text-sm font-medium mb-2",children:"거절 사유(필수)"}),f.jsx("textarea",{value:r,onChange:h=>i(h.target.value),placeholder:"예) 모임 운영 및 맞지 않아 이런에게 결정하지 못합니다.",className:"w-full border rounded px-3 py-2 h-24 resize-none"}),f.jsx("label",{className:"block text-sm font-medium mb-2 mt-4",children:"재가입 여부"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",checked:l===!0,onChange:()=>c(!0),className:"mr-2"}),"허용"]}),f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",checked:l===!1,onChange:()=>c(!1),className:"mr-2"}),"불가"]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",children:"취소"}),f.jsx("button",{onClick:u,disabled:!r.trim(),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:bg-gray-300",children:"탈퇴"})]})]})})}function RQ({member:n,onClose:e,onSuccess:t,clubId:s}){const r=async()=>{try{await Bc.approveMember(s,{clubId:parseInt(s),memberId:n.memberId}),t(),e()}catch(i){console.error("승인 실패:",i)}};return f.jsx("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"가입 승인"}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),f.jsxs("p",{className:"mb-4",children:[n.nickname,"님의 가입을 승인하시겠습니까?"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",children:"취소"}),f.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"승인"})]})]})})}function DQ({member:n,onClose:e,onSuccess:t,clubId:s}){const[r,i]=_.useState(""),l=async()=>{if(r.trim())try{await Bc.rejectMember(s,{clubId:parseInt(s),memberId:n.memberId,rejectionReason:r}),t(),e()}catch(c){console.error("거절 실패:",c)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"가입 신청 거절"}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["신청자",f.jsx("br",{}),n.nickname]}),f.jsx("label",{className:"block text-sm font-medium mb-2",children:"거절 사유(필수)"}),f.jsx("textarea",{value:r,onChange:c=>i(c.target.value),placeholder:"예) 모임 운영 및 맞지 않아 이런에게 결정하지 못합니다.",className:"w-full border rounded px-3 py-2 h-24 resize-none"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",children:"취소"}),f.jsx("button",{onClick:l,disabled:!r.trim(),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:bg-gray-300",children:"거절"})]})]})})}function kQ(){const{clubId:n}=cr(),e=_t(),[t,s]=_.useState([]),[r,i]=_.useState([]),[l,c]=_.useState(""),[u,h]=_.useState(!0),[m,p]=_.useState(!0),[b,v]=_.useState(!1),[x,S]=_.useState(!1),[E,N]=_.useState(!1),[A,R]=_.useState(!1),[T,D]=_.useState(null),[M,U]=_.useState({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null});_.useEffect(()=>{n&&(async()=>{try{if(await St.getMyMemberStatus(n)!=="APPROVED"){p(!1),U({isOpen:!0,message:"동호회 회원이 아니거나 접근 권한이 없습니다.",redirectOnClose:!0,nextUrl:`/clubs/${n}/detail`});return}p(!0)}catch{p(!1),U({isOpen:!0,message:"동호회 접근 권한이 없습니다.",redirectOnClose:!0,nextUrl:`/clubs/${n}/detail`})}})()},[n,e]);const I=_.useCallback(async()=>{try{h(!0);const z=(await St.getJoinedClubs()).find(L=>String(L.clubId)===String(n));z&&c(z.role);const K=await Bc.getClubMembers(n),ne=K.filter(L=>L.status==="APPROVED");if(s(ne),z&&(z.role==="LEADER"||z.role==="MANAGER")){const L=K.filter(G=>G.status==="WAITING");i(L)}else i([])}catch(j){console.error("데이터 조회 실패:",j)}finally{h(!1)}},[n]);_.useEffect(()=>{n&&m&&I()},[n,m,I]);const F=l==="LEADER"||l==="MANAGER",Z=j=>{D(j),v(!0)},O=j=>{D(j),S(!0)},q=j=>{D(j),N(!0)},H=j=>{D(j),R(!0)},X=()=>{v(!1),S(!1),N(!1),R(!1),D(null)},V=()=>{const{redirectOnClose:j,nextUrl:z}=M;U({isOpen:!1,message:"",redirectOnClose:!1,nextUrl:null}),j&&z&&e(z)};return m?u?f.jsx("div",{className:"max-w-7xl mx-auto p-6",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})}):f.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6",children:"멤버 관리"}),F&&r.length>0&&f.jsxs("div",{className:"mb-8",children:[f.jsxs("h2",{className:"flex items-center text-lg font-semibold mb-4",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 mr-2"}),"가입 대기 (",r.length,")"]}),f.jsx("div",{className:"grid grid-cols-3 gap-4",children:r.map(j=>f.jsx(CQ,{member:j,onApprove:q,onReject:H},j.memberId))})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("h2",{className:"flex items-center text-lg font-semibold mb-4",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 mr-2"}),"모임장"]}),f.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.filter(j=>j.role==="LEADER").map(j=>f.jsx(My,{member:j,isManager:F,onRoleChange:Z,onRemove:O},j.memberId))})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("h2",{className:"flex items-center text-lg font-semibold mb-4",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),"운영진"]}),f.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.filter(j=>j.role==="MANAGER").map(j=>f.jsx(My,{member:j,isManager:F,onRoleChange:Z,onRemove:O},j.memberId))})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("h2",{className:"flex items-center text-lg font-semibold mb-4",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500 mr-2"}),"멤버"]}),f.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.filter(j=>j.role==="MEMBER").map(j=>f.jsx(My,{member:j,isManager:F,onRoleChange:Z,onRemove:O},j.memberId))})]}),b&&T&&f.jsx(TQ,{member:T,clubId:n,onClose:X,onSuccess:()=>{X(),I()}}),x&&T&&f.jsx(jQ,{member:T,clubId:n,onClose:X,onSuccess:()=>{X(),I()}}),E&&T&&f.jsx(RQ,{member:T,clubId:n,onClose:X,onSuccess:()=>{X(),I()}}),A&&T&&f.jsx(DQ,{member:T,clubId:n,onClose:X,onSuccess:()=>{X(),I()}}),f.jsx(sn,{isOpen:M.isOpen,message:M.message,onClose:V})]}):f.jsx("div",{className:"max-w-7xl mx-auto p-6",children:f.jsx(sn,{isOpen:M.isOpen,message:M.message,onClose:V})})}function OQ({notice:n,onEdit:e,onDelete:t,onTogglePin:s}){const[r,i]=_.useState(!1),l=_.useRef(null);_.useEffect(()=>{const u=h=>{l.current&&!l.current.contains(h.target)&&i(!1)};if(r)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[r]);const c=n.isPinned==="Y";return f.jsxs("div",{className:"relative",ref:l,onClick:u=>u.stopPropagation(),children:[f.jsx("button",{type:"button","aria-label":"메뉴","aria-expanded":r?"true":"false",onClick:u=>{u.stopPropagation(),i(!r)},className:"p-1 hover:bg-gray-100 rounded",children:f.jsx(fI,{className:"w-5 h-5 text-gray-500"})}),r&&f.jsxs("div",{role:"menu",className:"absolute right-0 top-8 w-32 rounded-md border border-gray-200 bg-white shadow-lg z-50",onClick:u=>u.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{i(!1),s()},className:"w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(sa,{className:"w-4 h-4"}),c?"고정 해제":"상단 고정"]}),f.jsx("div",{className:"h-px bg-gray-100"}),f.jsxs("button",{onClick:()=>{i(!1),e()},className:"w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Pc,{className:"w-4 h-4"}),"수정"]}),f.jsx("div",{className:"h-px bg-gray-100"}),f.jsxs("button",{onClick:()=>{i(!1),t()},className:"w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Gv,{className:"w-4 h-4"}),"삭제"]})]})]})}const rj=()=>{const{clubId:n}=cr(),e=_t(),[t,s]=_.useState([]),[r,i]=_.useState([]),[l,c]=_.useState(!0),[u,h]=_.useState(1),[m,p]=_.useState(null),[b,v]=_.useState(!0),[x,S]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[E,N]=_.useState({isOpen:!1,title:"",message:"",onClose:!1}),A=10;_.useEffect(()=>{n&&(async()=>{try{if(await St.getMyMemberStatus(n)!=="APPROVED"){v(!1),N({isOpen:!0,message:"동호회 회원이 아니거나 접근 권한이 없습니다.",onClose:!0});return}}catch{v(!1),N({isOpen:!0,message:"동호회 접근 권한이 없습니다.",onClose:!0})}})()},[n,e]),_.useEffect(()=>{n&&b&&(R(),T())},[n,b]);const R=async()=>{try{c(!0);const j=await xi.getNoticesByClubId(n),z=j.filter(ne=>ne.isPinned==="Y"),K=j.filter(ne=>ne.isPinned!=="Y");i(z),s(K)}catch(j){console.error("공지사항 조회 실패:",j),s([]),i([])}finally{c(!1)}},T=async()=>{try{const z=(await St.getJoinedClubs()).find(K=>String(K.clubId)===String(n));z&&p(z.role)}catch(j){console.error("역할 조회 실패:",j)}},D=m==="LEADER"||m==="MANAGER",M=j=>{if(!j)return"";const z=new Date(j),K=z.getFullYear(),ne=String(z.getMonth()+1).padStart(2,"0"),L=String(z.getDate()).padStart(2,"0");return`${K}.${ne}.${L}`},U=()=>{const j=E.onClose;N({isOpen:!1,title:"",message:"",onClose:!1}),j&&e(`/clubs/${n}/detail`)},I=j=>{e(`/clubs/${n}/notice/edit/${j}`)},F=j=>{S({isOpen:!0,title:"공지사항 삭제",message:"이 공지사항을 삭제하시겠습니까?",onConfirm:async()=>{try{await xi.deleteNotice(j),await R(),N({isOpen:!0,title:"삭제 완료",message:"공지사항이 삭제되었습니다."})}catch(z){console.error("공지사항 삭제 실패:",z),N({isOpen:!0,title:"오류",message:"공지사항 삭제에 실패했습니다."})}}})},Z=async j=>{try{await xi.togglePin(j),await R()}catch(z){console.error("고정 상태 변경 실패:",z),N({isOpen:!0,title:"오류",message:"고정 상태 변경에 실패했습니다."})}},O=(j,z=!1)=>f.jsx("div",{onClick:()=>e(`/clubs/${n}/notice/${j.postId}`),className:"px-8 py-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[z&&f.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-medium",children:"공지"}),f.jsx("span",{className:"text-gray-900 font-medium hover:text-blue-500",children:j.title})]}),f.jsx("div",{className:"w-32 text-center text-sm text-gray-600",children:j.nickname||"관리자"}),f.jsx("div",{className:"w-32 text-center text-sm text-gray-500",children:M(j.createdAt)}),f.jsx("div",{className:"w-24 text-center text-sm text-gray-500",children:j.viewCount||0}),D&&f.jsx("div",{className:"w-12 flex justify-center",children:f.jsx(OQ,{notice:j,onEdit:()=>I(j.postId),onDelete:()=>F(j.postId),onTogglePin:()=>Z(j.postId)})})]})},j.postId),q=Math.max(1,Math.ceil(t.length/A)),H=t.slice((u-1)*A,u*A),V=(()=>{const j=[];let K=Math.max(1,u-Math.floor(2.5)),ne=Math.min(q,K+5-1);ne-K+1<5&&(K=Math.max(1,ne-5+1));for(let L=K;L<=ne;L++)j.push(L);return j})();return f.jsxs(as,{sidebar:f.jsx(Xr,{}),children:[f.jsxs("div",{children:[f.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"공지사항"}),D&&f.jsx("button",{onClick:()=>e(`/clubs/${n}/notice/write`),className:"flex items-center gap-1.5 bg-[#4CA8FF] text-white px-5 py-1.5 rounded-lg text-sm font-medium hover:bg-[#4CA8FF]/90 transition-colors",children:"등록"})]}),f.jsxs("div",{className:"bg-white",children:[f.jsx("div",{className:"px-8 py-4 border-b border-gray-200 bg-gray-50",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-1",children:"제목"}),f.jsx("div",{className:"w-32 text-center",children:"작성자"}),f.jsx("div",{className:"w-32 text-center",children:"작성일"}),f.jsx("div",{className:"w-24 text-center",children:"조회수"}),D&&f.jsx("div",{className:"w-12"})]})}),f.jsx("div",{children:l?f.jsx("div",{className:"px-8 py-12 text-center text-gray-500",children:"로딩 중..."}):f.jsxs(f.Fragment,{children:[r.map(j=>O(j,!0)),H.map(j=>O(j,!1)),r.length===0&&t.length===0&&f.jsx("div",{className:"px-8 py-12 text-center text-gray-500",children:"등록된 공지사항이 없습니다."})]})}),!l&&(r.length>0||t.length>0)&&f.jsx("div",{className:"px-8 py-6 flex items-center justify-center border-t border-gray-100",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>h(Math.max(1,u-1)),disabled:u===1,className:`p-2 rounded border ${u===1?"border-gray-200 text-gray-300 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:f.jsx(aI,{className:"w-5 h-5"})}),V.map(j=>f.jsx("button",{onClick:()=>h(j),className:`min-w-[2.5rem] px-3 py-2 rounded text-sm font-medium ${u===j?"bg-[#4CA8FF] text-white":"text-gray-700 hover:bg-gray-50"}`,children:j},j)),f.jsx("button",{onClick:()=>h(Math.min(q,u+1)),disabled:u===q,className:`p-2 rounded border ${u===q?"border-gray-200 text-gray-300 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:f.jsx(Gy,{className:"w-5 h-5"})})]})})]})]}),f.jsx(ml,{isOpen:x.isOpen,onClose:()=>S({...x,isOpen:!1}),onConfirm:x.onConfirm,title:x.title,message:x.message,confirmText:"확인",cancelText:"취소"}),f.jsx(sn,{isOpen:E.isOpen,onClose:U,title:E.title,message:E.message})]})};function MQ({notice:n,onEdit:e,onDelete:t,onTogglePin:s}){const[r,i]=_.useState(!1),l=_.useRef(null);_.useEffect(()=>{const u=h=>{l.current&&!l.current.contains(h.target)&&i(!1)};if(r)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[r]);const c=n.isPinned==="Y";return f.jsxs("div",{className:"relative",ref:l,onClick:u=>u.stopPropagation(),children:[f.jsx("button",{type:"button","aria-label":"메뉴","aria-expanded":r?"true":"false",onClick:u=>{u.stopPropagation(),i(!r)},className:"p-1 hover:bg-gray-100 rounded",children:f.jsx(Vv,{className:"w-5 h-5 text-gray-500"})}),r&&f.jsxs("div",{role:"menu",className:"absolute right-0 top-8 w-32 rounded-md border border-gray-200 bg-white shadow-lg z-50",onClick:u=>u.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{i(!1),s()},className:"w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(sa,{className:"w-4 h-4"}),c?"고정 해제":"상단 고정"]}),f.jsx("div",{className:"h-px bg-gray-100"}),f.jsxs("button",{onClick:()=>{i(!1),e()},className:"w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Pc,{className:"w-4 h-4"}),"수정"]}),f.jsx("div",{className:"h-px bg-gray-100"}),f.jsxs("button",{onClick:()=>{i(!1),t()},className:"w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",role:"menuitem",children:[f.jsx(Gv,{className:"w-4 h-4"}),"삭제"]})]})]})}const LQ=()=>{const{clubId:n,noticeId:e}=cr(),t=_t(),[s,r]=_.useState(null),[i,l]=_.useState(!0),[c,u]=_.useState(null),[h,m]=_.useState([]),p={ALLOWED_TAGS:["p","br","strong","em","u","s","h1","h2","h3","ul","ol","li","a","img","blockquote","code","pre","span"],ALLOWED_ATTR:["href","src","alt","class","style","target"],ALLOW_DATA_ATTR:!1};_.useEffect(()=>{n&&e&&(b(),v())},[n,e]);const b=async()=>{try{l(!0);const T=await xi.getNoticeDetail(e);if(r(T),T.images)if(T.images.includes("http")){const M=T.images.split(",").map(U=>U.trim()).map((U,I)=>({fileId:null,fileLink:U,originalFileName:`이미지 ${I+1}`}));m(M)}else{const D=T.images.split("/").map(M=>parseInt(M.trim()));try{const M=await Ts.getFiles(D);m(M)}catch(M){console.error("파일 정보 조회 실패:",M),m([])}}}catch(T){console.error(T),alert("공지사항을 불러올 수 없습니다."),t(`/clubs/${n}/notice`)}finally{l(!1)}},v=async()=>{try{const D=(await St.getJoinedClubs()).find(M=>String(M.clubId)===String(n));D&&u(D.role)}catch(T){console.error("역할 조회 실패:",T)}},x=c==="LEADER"||c==="MANAGER",S=()=>{t(`/clubs/${n}/notice/edit/${e}`)},E=async()=>{if(window.confirm("이 공지사항을 삭제하시겠습니까?"))try{await xi.deleteNotice(e),alert("공지사항이 삭제되었습니다."),t(`/clubs/${n}/notice`)}catch(T){console.error("공지사항 삭제 실패:",T),alert("공지사항 삭제에 실패했습니다.")}},N=async()=>{try{await xi.togglePin(e),alert("고정 상태가 변경되었습니다."),await b()}catch(T){console.error("고정 상태 변경 실패:",T),alert("고정 상태 변경에 실패했습니다.")}},A=T=>!T||T.trim()===""||T==="null"?vn:T,R=T=>{if(!T)return"";const D=new Date(T),M=D.getFullYear(),U=String(D.getMonth()+1).padStart(2,"0"),I=String(D.getDate()).padStart(2,"0"),F=String(D.getHours()).padStart(2,"0"),Z=String(D.getMinutes()).padStart(2,"0");return`${M}.${U}.${I} ${F}:${Z}`};return i?f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx("div",{className:"bg-white p-8 text-center text-gray-500",children:"로딩 중..."})}):s?f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsxs("div",{className:"bg-white p-8",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between pb-3 border-b border-gray-200",children:[f.jsx("span",{className:"text-sm text-blue-500 font-medium",children:"공지사항"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>t(`/clubs/${n}/notice`),className:"px-4 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"목록"}),x&&f.jsx(MQ,{notice:s,onEdit:S,onDelete:E,onTogglePin:N})]})]}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title}),f.jsxs("div",{className:"flex items-center gap-3 pb-4 mb-6 border-b border-gray-200",children:[f.jsx("img",{src:A(s.profileUrl),alt:s.authorNickname||"프로필",className:"w-10 h-10 rounded-full object-cover bg-gray-100"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-semibold text-gray-800",children:s.authorNickname||"관리자"}),f.jsxs("div",{className:"text-xs text-gray-400",children:[R(s.createdAt)," 조회 ",s.viewCount||0]})]})]}),f.jsx("div",{className:"text-gray-700 leading-relaxed prose max-w-none",dangerouslySetInnerHTML:{__html:Qv.sanitize(s.content,p)}}),h.length>0&&f.jsx("div",{className:"mt-6 space-y-4",children:h.map((T,D)=>f.jsx("img",{src:T.fileLink,alt:T.originalFileName||`공지사항 이미지 ${D+1}`,className:"max-w-full h-auto rounded-lg bg-gray-100",onError:M=>M.currentTarget.style.display="none"},T.fileId||D))}),f.jsx("div",{className:"mt-8 border-b border-gray-200"})]})}):f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx("div",{className:"bg-white p-8 text-center text-gray-500",children:"공지사항을 찾을 수 없습니다."})})};function IQ(){const{clubId:n}=cr(),e=_t(),t=_.useRef(null),{user:s}=ws(),[r,i]=_.useState(""),[l,c]=_.useState(""),[u,h]=_.useState([]),[m,p]=_.useState("N"),[b,v]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[x,S]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null}),E=()=>{const U=document.createElement("input");U.setAttribute("type","file"),U.setAttribute("accept","image/*"),U.setAttribute("multiple","true"),U.onchange=async()=>{const I=Array.from(U.files||[]);for(const F of I)if(F.type.startsWith("image/"))try{const Z=await Ts.uploadImage(F);h(O=>[...O,Z]),console.log("이미지 업로드 성공:",Z)}catch(Z){console.error("이미지 업로드 실패:",Z),S({isOpen:!0,title:"오류",message:"이미지 업로드에 실패했습니다."})}},U.click()},N=_.useRef({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:E}},clipboard:{matchVisual:!1}}).current,A=_.useRef(["header","bold","italic","underline","strike","color","background","list","align","blockquote","code-block","link"]).current,R=(U,I,F)=>{F==="user"&&c(U)},T=U=>{h(I=>I.filter((F,Z)=>Z!==U))},D=async()=>{if(!r.trim()){S({isOpen:!0,title:"입력 오류",message:"제목을 입력해 주세요."});return}if(!l.trim()){S({isOpen:!0,title:"입력 오류",message:"내용을 입력해 주세요."});return}try{const U=u.length>0?u.map(F=>F.fileId).join("/"):null,I={clubId:parseInt(n),title:r.trim(),content:l,images:U,postType:"N",isPinned:m};console.log("공지사항 등록 요청:",I),await xi.createNotice(I),S({isOpen:!0,title:"등록 완료",message:"공지사항이 등록되었습니다.",onCloseCallback:()=>{e(`/clubs/${n}/notice`)}})}catch(U){console.error("공지사항 등록 실패:",U),S({isOpen:!0,title:"오류",message:`공지사항 등록에 실패했습니다.
`+(U.message||"다시 시도해주세요.")})}},M=()=>{v({isOpen:!0,message:"작성을 취소하시겠습니까?",onConfirm:()=>{e(`/clubs/${n}/notice`)}})};return f.jsxs(as,{sidebar:f.jsx(Xr,{}),children:[f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("div",{className:"mb-6",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"공지사항 등록"})}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공지 고정"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"isPinned",value:"N",checked:m==="N",onChange:U=>p(U.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"일반 공지"})]}),f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"isPinned",value:"Y",checked:m==="Y",onChange:U=>p(U.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"상단 고정"})]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목"}),f.jsx("input",{value:r,onChange:U=>i(U.target.value),placeholder:"제목을 입력해 주세요",className:"w-full border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"작성자"}),f.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded text-gray-700",children:s?.name||s?.nickname||"관리자"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"내용"}),f.jsxs("div",{className:"border border-gray-300 rounded",children:[f.jsx("style",{children:`
      .notice-editor-wrapper .ql-container {
        height: 400px !important;
      }
      .notice-editor-wrapper .ql-editor {
        min-height: 100%;
      }
    `}),f.jsx("div",{className:"notice-editor-wrapper",children:f.jsx(qc,{ref:t,theme:"snow",value:l,onChange:R,modules:N,formats:A,placeholder:"내용을 입력하세요."})})]})]}),u.length>0&&f.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4",children:[f.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"첨부된 이미지"}),f.jsx("div",{className:"grid grid-cols-4 gap-3",children:u.map((U,I)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:U.fileUrl,alt:U.originalFileName||`첨부 ${I+1}`,className:"w-full h-24 object-cover rounded border border-gray-200 bg-gray-100"}),f.jsx("button",{onClick:()=>T(I),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg leading-none",children:"×"})]},I))})]}),f.jsxs("div",{className:"flex justify-center gap-3 pt-6 border-t border-gray-200",children:[f.jsx("button",{onClick:M,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:D,className:"px-6 py-2 bg-[#4FA3FF] text-white rounded-lg text-sm font-medium hover:bg-[#4FA3FF]/90 transition-colors",children:"등록"})]})]}),f.jsx(ml,{isOpen:b.isOpen,onClose:()=>v({...b,isOpen:!1}),onConfirm:b.onConfirm,title:b.title,message:b.message,confirmText:"확인",cancelText:"취소",confirmButtonStyle:"primary"}),f.jsx(sn,{isOpen:x.isOpen,onClose:()=>{S({...x,isOpen:!1}),x.onCloseCallback&&x.onCloseCallback()},title:x.title,message:x.message})]})}function BQ(){const{clubId:n,postId:e}=cr(),t=_t(),s=_.useRef(null),{user:r}=ws(),[i,l]=_.useState(""),[c,u]=_.useState(""),[h,m]=_.useState([]),[p,b]=_.useState("N"),[v,x]=_.useState(!0),[S,E]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[N,A]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null});_.useEffect(()=>{e&&(async()=>{try{x(!0);const O=await xi.getNoticeDetail(e);if(l(O.title||""),u(O.content||""),b(O.isPinned||"N"),O.images){const q=O.images.split("/").map(X=>parseInt(X.trim())),H=await Ts.getFiles(q);m(H.map(X=>({fileId:X.fileId,fileUrl:X.fileLink,originalFileName:X.originalFileName})))}}catch(O){console.error("공지사항 조회 실패:",O),A({isOpen:!0,title:"오류",message:"공지사항을 불러올 수 없습니다."}),t(`/clubs/${n}/notice`)}finally{x(!1)}})()},[e,n,t]);const R=()=>{const Z=document.createElement("input");Z.setAttribute("type","file"),Z.setAttribute("accept","image/*"),Z.setAttribute("multiple","true"),Z.onchange=async()=>{const O=Array.from(Z.files||[]);for(const q of O)if(q.type.startsWith("image/"))try{const H=await Ts.uploadImage(q);m(X=>[...X,H]),console.log("이미지 업로드 성공:",H)}catch(H){console.error("이미지 업로드 실패:",H),A({isOpen:!0,title:"오류",message:"이미지 업로드에 실패했습니다."})}},Z.click()},T=_.useRef({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:R}},clipboard:{matchVisual:!1}}).current,D=_.useRef(["header","bold","italic","underline","strike","color","background","list","align","blockquote","code-block","link"]).current,M=(Z,O,q)=>{q==="user"&&u(Z)},U=Z=>{m(O=>O.filter((q,H)=>H!==Z))},I=async()=>{if(!i.trim()){A({isOpen:!0,title:"입력 오류",message:"제목을 입력해 주세요."});return}if(!c.trim()){A({isOpen:!0,title:"입력 오류",message:"내용을 입력해 주세요."});return}try{const Z=h.length>0?h.map(q=>q.fileId).join("/"):null,O={title:i.trim(),content:c,images:Z,isPinned:p};console.log("공지사항 수정 요청:",O),await xi.updateNotice(e,O),A({isOpen:!0,title:"수정 완료",message:"공지사항이 수정되었습니다.",onCloseCallback:()=>{t(`/clubs/${n}/notice/${e}`)}})}catch(Z){console.error("공지사항 수정 실패:",Z),A({isOpen:!0,title:"오류",message:Z.message||`공지사항 수정에 실패했습니다.
다시 시도해주세요.`})}},F=()=>{E({isOpen:!0,title:"취소 확인",message:"수정을 취소하시겠습니까?",onConfirm:()=>{t(`/clubs/${n}/notice/${e}`)}})};return v?f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx("div",{className:"max-w-5xl mx-auto",children:f.jsx("div",{className:"text-center text-gray-500 py-12",children:"로딩 중..."})})}):f.jsxs(as,{sidebar:f.jsx(Xr,{}),children:[f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("div",{className:"mb-6",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"공지사항 수정"})}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공지 고정"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"isPinned",value:"N",checked:p==="N",onChange:Z=>b(Z.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"일반 공지"})]}),f.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"isPinned",value:"Y",checked:p==="Y",onChange:Z=>b(Z.target.value),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm text-gray-700",children:"상단 고정"})]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목"}),f.jsx("input",{value:i,onChange:Z=>l(Z.target.value),placeholder:"제목을 입력해 주세요",className:"w-full border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"작성자"}),f.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded text-gray-700",children:r?.name||r?.nickname||"관리자"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"내용"}),f.jsxs("div",{className:"border border-gray-300 rounded",children:[f.jsx("style",{children:`
      .notice-editor-wrapper .ql-container {
        height: 458px !important;
      }
      .notice-editor-wrapper .ql-editor {
        min-height: 100%;
      }
    `}),f.jsx("div",{className:"notice-editor-wrapper",children:f.jsx(qc,{ref:s,theme:"snow",value:c,onChange:M,modules:T,formats:D,placeholder:"내용을 입력하세요."})})]})]}),h.length>0&&f.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4",children:[f.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"첨부된 이미지"}),f.jsx("div",{className:"grid grid-cols-4 gap-3",children:h.map((Z,O)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:Z.fileUrl,alt:Z.originalFileName||`첨부 ${O+1}`,className:"w-full h-24 object-cover rounded border border-gray-200 bg-gray-100"}),f.jsx("button",{onClick:()=>U(O),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-lg leading-none",children:"×"})]},O))})]}),f.jsxs("div",{className:"flex justify-center gap-3 pt-6 border-t border-gray-200",children:[f.jsx("button",{onClick:F,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#4FA3FF] text-white rounded-lg text-sm font-medium hover:bg-[#4FA3FF]/90 transition-colors",children:"수정"})]})]}),f.jsx(ml,{isOpen:S.isOpen,onClose:()=>E({...S,isOpen:!1}),onConfirm:S.onConfirm,title:S.title,message:S.message,confirmText:"확인",cancelText:"취소",confirmButtonStyle:"primary"}),f.jsx(sn,{isOpen:N.isOpen,onClose:()=>{A({...N,isOpen:!1}),N.onCloseCallback&&N.onCloseCallback()},message:N.message})]})}function PQ(){const{clubId:n}=cr(),e=_t(),[t,s]=_.useState([]),[r,i]=_.useState({name:"",categoryId:"",sido:"",sigungu:"",description:"",maxMembers:"",fileId:null}),[l,c]=_.useState(null),[u,h]=_.useState({}),[m,p]=_.useState(!0),[b,v]=_.useState(!1),[x,S]=_.useState(!1),E=_.useCallback(async()=>{try{p(!0);const I=await St.getClubDetail(n),F=(I.region||"").split(" "),Z=F[0]||"",O=F[1]||"";i({name:I.clubName||"",categoryId:I.categoryId||"",sido:Z,sigungu:O,description:I.description||"",maxMembers:I.maxMembers||"",fileId:I.fileId||null}),I.fileLink&&c(I.fileLink)}catch(I){console.error("동호회 정보 조회 실패:",I)}finally{p(!1)}},[n]),N=_.useCallback(async()=>{try{const I=await Ic.getCategoriesHierarchy();s(I)}catch(I){console.error("카테고리 조회 실패:",I)}},[]);_.useEffect(()=>{E(),N()},[E,N]);const A=async I=>{const F=I.target.files?.[0];if(F){if(!F.type.startsWith("image/")){h(Z=>({...Z,image:"이미지 파일만 업로드 가능합니다."}));return}try{const Z=await Ts.uploadImage(F);i(O=>({...O,fileId:Z.fileId})),c(Z.fileUrl),h(O=>({...O,image:""}))}catch(Z){console.error("이미지 업로드 실패:",Z),h(O=>({...O,image:"이미지 업로드에 실패했습니다."}))}}},R=()=>{new window.daum.Postcode({oncomplete:function(I){i(F=>({...F,sido:I.sido,sigungu:I.sigungu})),h(F=>({...F,address:""}))}}).open()},T=I=>{const{name:F,value:Z}=I.target;i(O=>({...O,[F]:Z})),h(O=>({...O,[F]:""}))},D=()=>{const I={};return r.name.trim()?r.name.length>30&&(I.name="동호회 이름은 30자 이내로 입력해주세요."):I.name="동호회 이름을 입력해주세요.",r.categoryId||(I.categoryId="관심사를 선택해주세요."),(!r.sido||!r.sigungu)&&(I.address="지역을 선택해주세요."),r.description&&r.description.length>300&&(I.description="동호회 설명은 300자 이내로 입력해주세요."),r.maxMembers?(r.maxMembers<2||r.maxMembers>999)&&(I.maxMembers="모집 정원은 2명 이상 999명 이하로 입력해주세요."):I.maxMembers="모집 정원을 입력해주세요.",h(I),Object.keys(I).length===0},M=async()=>{if(D())try{await St.updateClub(n,r),window.dispatchEvent(new CustomEvent("clubUpdated")),v(!0)}catch(I){console.error("동호회 수정 실패:",I),I.response?.data?.message?h({submit:I.response.data.message}):h({submit:"동호회 수정에 실패했습니다."})}},U=async()=>{try{await St.deleteClub(n),e("/")}catch(I){console.error("동호회 삭제 실패:",I),I.response?.data?.message?h({submit:I.response.data.message}):h({submit:"동호회 삭제에 실패했습니다."})}};return m?f.jsx("div",{className:"bg-white p-8 text-center text-gray-500",children:"로딩 중..."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"동호회 관리"}),f.jsx("button",{onClick:()=>S(!0),className:"text-sm font-medium text-red-500 hover:text-red-600",children:"동호회 삭제"})]}),u.submit&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:u.submit}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"동호회 이미지"}),f.jsxs("div",{className:"flex items-center gap-4",children:[l?f.jsx("img",{src:l,alt:"동호회 이미지",className:"w-32 h-32 rounded-lg object-cover bg-gray-100"}):f.jsx("div",{className:"w-32 h-32 rounded-lg bg-gray-100 flex items-center justify-center",children:f.jsx("span",{className:"text-sm text-gray-400",children:"이미지 없음"})}),f.jsxs("label",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:["이미지 변경",f.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"hidden"})]})]}),u.image&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.image})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["동호회 이름 ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",name:"name",value:r.name,onChange:T,placeholder:"동호회 이름을 입력하세요",maxLength:30,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),u.name&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.name})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["관심사 ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{name:"categoryId",value:r.categoryId,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[f.jsx("option",{value:"",children:"관심사를 선택하세요"}),t.map(I=>f.jsx("optgroup",{label:I.name,children:I.children?.map(F=>f.jsx("option",{value:F.categoryId,children:F.name},F.categoryId))},I.categoryId))]}),u.categoryId&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.categoryId})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["지역 ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("input",{type:"text",value:r.sido&&r.sigungu?`${r.sido} ${r.sigungu}`:"",readOnly:!0,placeholder:"지역을 선택하세요",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"}),f.jsx("button",{type:"button",onClick:R,className:"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"주소 검색"})]}),u.address&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.address})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"동호회 설명"}),f.jsx("textarea",{name:"description",value:r.description,onChange:T,placeholder:"동호회를 소개해주세요",maxLength:300,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none"}),f.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"동호회에 대해 자유롭게 소개해주세요."}),f.jsxs("p",{className:"text-sm text-gray-500",children:[r.description.length,"/300"]})]}),u.description&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.description})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["모집 정원 ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"number",name:"maxMembers",value:r.maxMembers,onChange:T,placeholder:"2",min:"2",max:"999",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),u.maxMembers&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.maxMembers})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{onClick:M,className:"px-6 py-3 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-dark",children:"수정 완료"})})]})]}),f.jsx(sn,{isOpen:b,onClose:()=>v(!1),title:"수정 완료",message:"동호회 정보가 성공적으로 수정되었습니다."}),f.jsx(ml,{isOpen:x,onClose:()=>S(!1),onConfirm:U,title:"동호회 삭제",message:"동호회를 삭제하시겠습니까? 이 작업은 취소할 수 없습니다.",confirmText:"삭제",cancelText:"취소",confirmButtonStyle:"danger"})]})}function UQ({currentInterests:n,onClose:e,onUpdate:t}){const[s,r]=_.useState([]),[i,l]=_.useState(n),[c,u]=_.useState(""),[h,m]=_.useState(!1);_.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await Ic.getCategoriesHierarchy();r(x)}catch(x){console.error("카테고리 조회 실패:",x),alert("카테고리를 불러올 수 없습니다.")}},b=x=>{l(S=>S.includes(x)?S.filter(E=>E!==x):S.length>=5?(u("관심사는 최대 5개까지 선택 가능합니다."),S):(u(""),[...S,x]))},v=async()=>{if(i.length<3){u("관심사를 최소 3개 선택해주세요.");return}m(!0);try{await to.updateInterests(i),t()}catch(x){console.error("관심사 수정 실패:",x),alert(x.message||"관심사 수정에 실패했습니다.")}finally{m(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"관심사 설정"}),i.length>0&&f.jsx("div",{className:"mb-4",children:f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["선택된 관심사:"," ",f.jsxs("span",{className:"font-semibold text-primary",children:[i.length,"개"]})]})}),c&&f.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600",children:c})}),f.jsx("div",{className:"space-y-6 mb-6",children:s.map(x=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:x.name}),f.jsx("div",{className:"flex flex-wrap gap-2",children:x.children&&x.children.map(S=>f.jsx("button",{onClick:()=>b(S.categoryId),className:`px-4 py-2 rounded-full text-sm transition-colors ${i.includes(S.categoryId)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S.name},S.categoryId))})]},x.categoryId))}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:h,children:"취소"}),f.jsx("button",{onClick:v,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:brightness-110 transition-all disabled:opacity-50",disabled:h,children:h?"저장중...":"저장"})]})]})})}function HQ(){const n=_t(),{user:e,setUser:t}=ws(),[s,r]=_.useState(null),[i,l]=_.useState(!1),[c,u]=_.useState(!0),[h,m]=_.useState(vn);_.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0);const v=await to.getProfile();if(r(v),v.fileId)try{const x=await Ts.getFile(v.fileId);m(x.fileLink),e&&t({...e,fileId:v.fileId,profileImageUrl:x.fileLink})}catch(x){console.error("프로필 이미지 조회 실패:",x),m(vn)}else m(vn)}catch(v){console.error("프로필 조회 실패:",v),alert("프로필을 불러올 수 없습니다.")}finally{u(!1)}},b=()=>{p(),l(!1)};return c?f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"text-gray-500",children:"로딩중..."})}):s?f.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-sm p-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[h!==vn?f.jsx("img",{src:h,alt:"프로필 이미지",className:"w-32 h-32 rounded-full object-cover bg-gray-300 mb-6"}):f.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-300 mb-6"}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:s.nickname}),s.description&&f.jsx(f.Fragment,{children:f.jsx("p",{className:"text-gray-600 mb-2",children:s.description})}),s.interestNames&&s.interestNames.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:s.interestNames.map((v,x)=>f.jsx("span",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm",children:v},x))}),f.jsxs("div",{className:"flex gap-4 w-full max-w-md",children:[f.jsx("button",{onClick:()=>n("/mypage/profile/edit"),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"프로필 수정"}),f.jsx("button",{onClick:()=>l(!0),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"관심사 설정"})]})]}),i&&f.jsx(UQ,{currentInterests:s.interests||[],onClose:()=>l(!1),onUpdate:b})]}):f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"text-gray-500",children:"프로필을 불러올 수 없습니다."})})}function zQ({currentImage:n,onClose:e,onConfirm:t}){const[s,r]=_.useState(null),[i,l]=_.useState(n),[c,u]=_.useState(!1),[h,m]=_.useState({isOpen:!1,title:"",message:""}),p=()=>{m({isOpen:!1,title:"",message:""})},b=async x=>{const S=x.target.files?.[0];if(S){if(!S.type.startsWith("image/")){m({isOpen:!0,title:"알림",message:"JPG, PNG 파일만 업로드 가능합니다."});return}try{u(!0);const E=await Ts.uploadImage(S);r(E),l(E.fileUrl)}catch(E){console.error("이미지 업로드 실패:",E),m({isOpen:!0,title:"오류",message:"이미지 업로드에 실패했습니다."})}finally{u(!1)}}},v=()=>{if(!s){m({isOpen:!0,title:"알림",message:"사진을 선택해주세요."});return}t(s.fileId,s.fileUrl)};return f.jsxs("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50 flex items-center justify-center z-50 p-4",children:[f.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"프로필 이미지 변경"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"px-6 py-6",children:f.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",children:i?f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:i,alt:"미리보기",className:"w-full h-64 object-contain bg-gray-50"}),f.jsxs("label",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent p-4 cursor-pointer",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:c,className:"hidden"}),f.jsx("div",{className:"text-center text-sm text-white font-medium",children:"다른 사진 선택"})]})]}):f.jsxs("label",{className:"block cursor-pointer hover:bg-gray-50 transition-colors",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:c,className:"hidden"}),f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),f.jsx("div",{className:"text-gray-700 font-medium mb-1",children:"사진을 선택하세요"}),f.jsx("div",{className:"text-sm text-gray-500",children:"JPG, PNG 파일을 업로드할 수 있습니다."})]})]})})}),f.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:v,disabled:c||!s,className:"flex-1 px-4 py-2.5 bg-[#4CA8FF] text-white text-sm font-medium rounded-lg hover:bg-[#4CA8FF]/90 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"변경하기"})]})]}),f.jsx(sn,{isOpen:h.isOpen,onClose:p,title:h.title,message:h.message})]})}const qQ=()=>{const n=_t(),{user:e,setUser:t}=ws(),[s,r]=_.useState(!0),[i,l]=_.useState(null),[c,u]=_.useState(vn),[h,m]=_.useState(!1),[p,b]=_.useState({nickname:"",sido:"",sigungu:"",description:"",fileId:null}),[v,x]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null});_.useEffect(()=>{S()},[]);const S=async()=>{try{r(!0);const M=await to.getProfile();if(l(M),b({nickname:M.nickname||"",sido:M.sido||"",sigungu:M.sigungu||"",description:M.description||"",fileId:M.fileId||null}),M.fileId)try{const U=await Ts.getFile(M.fileId);u(U.fileLink)}catch(U){console.error("프로필 이미지 조회 실패:",U),u(vn)}}catch(M){console.error("프로필 조회 실패:",M),x({isOpen:!0,title:"오류",message:"프로필을 불러올 수 없습니다.",onCloseCallback:null})}finally{r(!1)}},E=()=>{const M=v.onCloseCallback;x({isOpen:!1,title:"",message:"",onCloseCallback:null}),M&&M()},N=M=>{const{name:U,value:I}=M.target;b(F=>({...F,[U]:I}))},A=()=>{new window.daum.Postcode({oncomplete:function(M){b(U=>({...U,sido:M.sido,sigungu:M.sigungu}))}}).open()},R=(M,U)=>{b(I=>({...I,fileId:M})),u(U),m(!1)},T=async M=>{if(M.preventDefault(),!p.nickname.trim()){x({isOpen:!0,title:"입력 오류",message:"닉네임을 입력해주세요.",onCloseCallback:null});return}if(!p.sido.trim()||!p.sigungu.trim()){x({isOpen:!0,title:"입력 오류",message:"주소를 입력해주세요.",onCloseCallback:null});return}try{await to.updateProfile(p),e&&t({...e,fileId:p.fileId,profileImageUrl:c!==vn?c:null}),x({isOpen:!0,title:"완료",message:"프로필이 수정되었습니다.",onCloseCallback:()=>{n("/mypage/profile")}})}catch(U){console.error("프로필 수정 실패:",U),x({isOpen:!0,title:"오류",message:U.message||"프로필 수정에 실패했습니다.",onCloseCallback:null})}},D=()=>{n("/mypage/profile")};return s?f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"text-gray-500",children:"로딩중..."})}):i?f.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-sm p-8",children:[f.jsx("h1",{className:"text-2xl font-bold mb-8 ml-8",children:"프로필 수정"}),f.jsxs("form",{onSubmit:T,className:"max-w-3xl ml-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이미지"}),f.jsxs("div",{className:"flex items-center gap-4",children:[c!==vn?f.jsx("img",{src:c,alt:"프로필 이미지",className:"w-32 h-32 rounded-full object-cover bg-gray-300"}):f.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-300"}),f.jsx("button",{type:"button",onClick:()=>m(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"이미지 변경"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),f.jsx("div",{className:"text-gray-900",children:i.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),f.jsx("div",{className:"text-gray-900",children:i.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"닉네임"}),f.jsx("input",{type:"text",name:"nickname",value:p.nickname,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4CA8FF]",placeholder:"닉네임"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"성별"}),f.jsx("div",{className:"text-gray-900",children:i.gender==="M"?"남":"여"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주소"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:p.sido&&p.sigungu?`${p.sido} ${p.sigungu}`:"",readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50",placeholder:"주소를 선택해주세요"}),f.jsx("button",{type:"button",onClick:A,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"주소 검색"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"소개"}),f.jsx("textarea",{name:"description",value:p.description,onChange:N,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4CA8FF] resize-none",placeholder:"소개글을 입력해주세요"})]})]}),f.jsxs("div",{className:"flex gap-3 mt-8",children:[f.jsx("button",{type:"button",onClick:D,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-[#4CA8FF] text-white rounded-lg hover:bg-[#4CA8FF]/90 transition-colors",children:"수정"})]})]}),h&&f.jsx(zQ,{currentImage:c,onClose:()=>m(!1),onConfirm:R}),f.jsx(sn,{isOpen:v.isOpen,onClose:E,title:v.title,message:v.message})]}):f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"text-gray-500",children:"프로필을 불러올 수 없습니다."})})};function FQ(){const n=_t(),[e,t]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,r]=_.useState({}),[i,l]=_.useState(!1),[c,u]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null}),h=()=>{const x=c.onCloseCallback;u({isOpen:!1,title:"",message:"",onCloseCallback:null}),x&&x()},m=x=>{const{name:S,value:E}=x.target;t(N=>({...N,[S]:E})),s[S]&&r(N=>({...N,[S]:""}))},p=()=>{const x={};return e.currentPassword||(x.currentPassword="현재 비밀번호를 입력해주세요."),e.newPassword?/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,}$/.test(e.newPassword)||(x.newPassword="비밀번호는 8자 이상, 영문과 숫자를 포함해야 합니다."):x.newPassword="새 비밀번호를 입력해주세요.",e.confirmPassword?e.newPassword!==e.confirmPassword&&(x.confirmPassword="비밀번호가 일치하지 않습니다."):x.confirmPassword="새 비밀번호 확인을 입력해주세요.",r(x),Object.keys(x).length===0},b=async x=>{if(x.preventDefault(),!!p()){l(!0);try{await to.updatePassword(e.currentPassword,e.newPassword),u({isOpen:!0,title:"완료",message:"비밀번호가 변경되었습니다.",onCloseCallback:()=>{n("/mypage/profile")}})}catch(S){console.error("비밀번호 변경 실패:",S),S.response?.data?.message?r({general:S.response.data.message}):r({general:"비밀번호 변경에 실패했습니다."})}finally{l(!1)}}},v=()=>{n("/mypage/profile")};return f.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-sm p-8",children:[f.jsxs("form",{onSubmit:b,className:"max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"비밀번호 변경"}),s.general&&f.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-3 text-red-600 text-sm",children:s.general}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"현재 비밀번호"}),f.jsx("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:m,placeholder:"현재 비밀번호를 입력하세요",className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${s.currentPassword?"border-red-300":"border-gray-300"}`}),s.currentPassword&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.currentPassword})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"새 비밀번호"}),f.jsx("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:m,placeholder:"새 비밀번호를 입력하세요",className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${s.newPassword?"border-red-300":"border-gray-300"}`}),s.newPassword&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.newPassword}),!s.newPassword&&e.newPassword&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"8자 이상, 영문과 숫자 포함"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"새 비밀번호 확인"}),f.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:m,placeholder:"새 비밀번호를 입력하세요",className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ${s.confirmPassword?"border-red-300":"border-gray-300"}`}),s.confirmPassword&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.confirmPassword})]})]}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{type:"button",onClick:v,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"처리중...":"수정"})]})]}),f.jsx(sn,{isOpen:c.isOpen,onClose:h,title:c.title,message:c.message})]})}function $Q(){const n=_t(),{clearUser:e}=ws(),[t,s]=_.useState(""),[r,i]=_.useState(""),[l,c]=_.useState(!1),[u,h]=_.useState(!1);_.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await to.getProfile();h(!x.provider||x.provider==="LOCAL")}catch(x){console.error("프로필 조회 실패:",x)}},p=x=>{s(x.target.value),r&&i("")},b=async x=>{if(x.preventDefault(),u&&!t.trim()){i("비밀번호를 입력해주세요.");return}if(window.confirm("정말로 탈퇴하시겠습니까? 탈퇴 후에는 계정 복구가 불가능합니다.")){c(!0);try{await to.withdrawAccount(u?t:null),e(),n("/")}catch(E){console.error("회원 탈퇴 실패:",E),i(E.message||"회원 탈퇴에 실패했습니다.")}finally{c(!1)}}},v=()=>{n("/mypage/profile")};return f.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-sm p-8",children:[f.jsx("h1",{className:"text-2xl font-bold mb-8",children:"회원 탈퇴"}),f.jsxs("div",{className:"max-w-3xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"탈퇴 전, 안내 사항"}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:f.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[f.jsx("li",{children:"1. 계정 탈퇴 시, 현재 가입 중인 모든 동호회에서도 자동으로 탈퇴 처리됩니다."}),f.jsx("li",{children:"2. 탈퇴와 함께 계정과 관련된 모든 권한(동호회 참여, 게시물 작성 권한 등)이 사라지며, 복구가 불가능합니다."}),f.jsx("li",{children:"3. 작성 작성하신 콘텐츠(게시물, 댓글, 사진 등)는 자동으로 삭제되지 않으며, 탈퇴 이전에 직접 삭제하셔야 합니다."}),f.jsx("li",{children:"4. 탈퇴 후 동일한 이메일로 계약일은 가능하지만, 기존 계정으로 연동되지 않습니다."}),f.jsx("li",{children:"5. 연동된 소셜 로그인 계정 정도 함께 삭제되며, 기존 계정으로 소셜 로그인을 이용하실 수 없습니다."}),f.jsx("li",{children:"6. 현재 비밀번호를 입력하고 탈퇴하기를 누르시면 탈퇴 내용이 등록한 것으로 간주됩니다."})]})})]}),u&&f.jsxs("form",{onSubmit:b,children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"비밀번호"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"본인 확인을 위해 현재 계정의 비밀번호를 입력해주세요."}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"password",value:t,onChange:p,placeholder:"현재 비밀번호",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})}),r&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:r})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{type:"button",onClick:v,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"처리중...":"탈퇴하기"})]})]}),!u&&f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{type:"button",onClick:v,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:b,disabled:l,className:"flex-1 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"처리중...":"탈퇴하기"})]})]})]})}function eM({gallery:n,onClose:e,onDelete:t}){const{user:s,isAuthenticated:r}=ws(),[i,l]=_.useState(!1),[c,u]=_.useState(n.likeCount||0),[h,m]=_.useState(!1),[p,b]=_.useState(!1),[v,x]=_.useState(null),[S,E]=_.useState(!1),[N,A]=_.useState({isOpen:!1,title:"",message:"",redirectTo:null}),R=_.useRef(null),T=_t();_.useEffect(()=>{r&&(D(),M())},[n.galleryId,r]),_.useEffect(()=>{const X=V=>{R.current&&!R.current.contains(V.target)&&b(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const D=async()=>{try{const X=await Yr.getGalleryLikeStatus(n.galleryId);console.log("좋아요 상태 응답:",X),l(X.liked||!1),X.likeCount!==void 0&&u(X.likeCount)}catch(X){console.error("좋아요 상태 조회 실패:",X)}},M=async()=>{try{const V=(await St.getJoinedClubs()).find(j=>j.clubId===n.clubId);V&&x(V.role)}catch(X){console.error("역할 조회 실패:",X)}},U=()=>{const X=N.redirectTo;A({isOpen:!1,title:"",message:"",redirectTo:null}),X&&T(X)},I=async()=>{if(!r){A({isOpen:!0,title:"알림",message:"로그인이 필요합니다.",redirectTo:"/login"});return}try{m(!0);const X=await Yr.toggleGalleryLike(n.galleryId);console.log("좋아요 토글 응답:",X),l(X.liked),u(X.likeCount)}catch(X){console.error("좋아요 토글 실패:",X),A({isOpen:!0,title:"오류",message:"좋아요 처리에 실패했습니다."})}finally{m(!1)}},F=async()=>{try{await Yr.deleteGallery(n.galleryId),A({isOpen:!0,title:"완료",message:"갤러리가 삭제되었습니다."}),t()}catch(X){console.error("삭제 실패:",X),A({isOpen:!0,title:"오류",message:"삭제에 실패했습니다."})}},Z=()=>{b(!1),E(!0)},H=r&&s?.memberId===n.createdBy||(v==="LEADER"||v==="MANAGER");return f.jsxs("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:[f.jsxs("div",{className:"bg-white rounded-none w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:X=>X.stopPropagation(),children:[f.jsx("div",{className:"bg-gray-100 flex items-center justify-center",style:{height:"520px"},children:n.fileLink?f.jsx("img",{src:n.fileLink,alt:n.clubName,className:"w-full h-full object-contain"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("svg",{className:"w-20 h-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"relative w-11 h-11 rounded-full overflow-hidden bg-white ring-1 ring-transparent flex-shrink-0",children:f.jsx("img",{src:n.clubProfileImage||vn,alt:n.clubName,className:"w-full h-full object-cover"})}),f.jsx("div",{onClick:()=>T(`/clubs/${n.clubId}`),className:"font-semibold text-gray-900 truncate cursor-pointer hover:text-blue-600",children:n.clubName})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsxs("button",{onClick:I,disabled:h||!r,className:"flex items-center gap-1 disabled:opacity-50",children:[f.jsx("svg",{className:"w-6 h-6 transition-colors",fill:i?"#ef4444":"none",stroke:i?"#ef4444":"#9ca3af",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("span",{className:"text-sm text-gray-600",children:c})]}),H&&f.jsxs("div",{className:"relative",ref:R,children:[f.jsx("button",{onClick:()=>b(!p),className:"p-1 hover:bg-gray-100 rounded",children:f.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),p&&f.jsx("div",{className:"absolute right-0 mt-1 w-24 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:f.jsxs("button",{onClick:Z,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"삭제"]})})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[f.jsx("div",{className:"relative w-11 h-11 rounded-full overflow-hidden bg-white ring-1 ring-transparent flex-shrink-0",children:f.jsx("img",{src:n.memberProfileImage||vn,alt:n.nickname,className:"w-full h-full object-cover"})}),f.jsx("span",{className:"text-gray-700",children:n.nickname||"익명"}),f.jsx("span",{className:"text-gray-400",children:"•"}),f.jsx("span",{className:"text-gray-500",children:n.createdAt})]}),f.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg",children:"닫기"})]})]})]}),f.jsx(ml,{isOpen:S,onClose:()=>E(!1),onConfirm:F,title:"사진 삭제",message:"정말 삭제하시겠습니까?",confirmText:"확인",cancelText:"취소"}),f.jsx(sn,{isOpen:N.isOpen,onClose:U,title:N.title,message:N.message})]})}function tM({joinedClubs:n,onClose:e,onSuccess:t,preSelectedClubId:s}){const[r,i]=_.useState(""),[l,c]=_.useState("ALL"),[u,h]=_.useState(null),[m,p]=_.useState(null),[b,v]=_.useState(!1),[x,S]=_.useState({isOpen:!1,title:"",message:"",onCloseCallback:null}),E=()=>{const R=x.onCloseCallback;S({isOpen:!1,title:"",message:"",onCloseCallback:null}),R&&R()};_.useEffect(()=>{s&&i(String(s))},[s]);const N=async R=>{const T=R.target.files?.[0];if(T){if(!T.type.startsWith("image/")){S({isOpen:!0,title:"알림",message:"JPG, PNG 파일만 업로드 가능합니다.",isError:!1});return}try{v(!0);const D=await Ts.uploadImage(T);h(D),p(D.fileUrl)}catch(D){console.error("이미지 업로드 실패:",D),S({isOpen:!0,title:"오류",message:"이미지 업로드에 실패했습니다."})}finally{v(!1)}}},A=async()=>{if(!r){S({isOpen:!0,title:"알림",message:"게시할 동호회를 선택해주세요."});return}if(!u){S({isOpen:!0,title:"알림",message:"사진을 선택해주세요.",isError:!1});return}try{const R={clubId:parseInt(r),fileId:u.fileId,scope:l};await Yr.createGallery(R),S({isOpen:!0,title:"완료",message:"갤러리가 등록되었습니다.",onCloseCallback:()=>{t(),e()}})}catch(R){console.error("갤러리 등록 실패:",R),S({isOpen:!0,title:"오류",message:"갤러리 등록에 실패했습니다."})}};return f.jsxs("div",{className:"fixed inset-0 bg-black/80 bg-opacity-50 flex items-center justify-center z-50 p-4",children:[f.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"사진 등록"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"px-6 py-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"게시할 동호회"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:r,onChange:R=>i(R.target.value),disabled:!!s,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-white text-gray-900 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-700",children:[f.jsx("option",{value:"",children:"동호회를 선택하세요"}),n.map(R=>f.jsx("option",{value:R.clubId,children:R.name},R.clubId))]}),f.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:f.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공개 범위"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"radio",name:"scope",value:"ALL",checked:l==="ALL",onChange:R=>c(R.target.value),className:"w-4 h-4 text-blue-500 border-gray-300 focus:ring-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"전체"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"radio",name:"scope",value:"MEMBER",checked:l==="MEMBER",onChange:R=>c(R.target.value),className:"w-4 h-4 text-blue-500 border-gray-300 focus:ring-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"멤버"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"파일 선택"}),f.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",children:m?f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:m,alt:"미리보기",className:"w-full h-64 object-contain bg-gray-50"}),f.jsxs("label",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent p-4 cursor-pointer",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:N,disabled:b,className:"hidden"}),f.jsx("div",{className:"text-center text-sm text-white font-medium",children:"다른 사진 선택"})]})]}):f.jsxs("label",{className:"block cursor-pointer hover:bg-gray-50 transition-colors",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:N,disabled:b,className:"hidden"}),f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),f.jsx("div",{className:"text-gray-700 font-medium mb-1",children:"사진을 선택하세요"}),f.jsx("div",{className:"text-sm text-gray-500",children:"JPG, PNG 파일을 업로드할 수 있습니다."})]})]})})]})]}),f.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-2",children:[f.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),f.jsx("button",{onClick:A,disabled:b||!u,className:"flex-1 px-4 py-2.5 bg-blue-500 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"등록하기"})]})]}),f.jsx(sn,{isOpen:x.isOpen,onClose:E,title:x.title,message:x.message})]})}const Qh=9;function VQ(){const{isAuthenticated:n}=ws(),{alertState:e,showAlert:t,closeAlert:s}=cg(),[r,i]=_.useState([]),[l,c]=_.useState([]),[u,h]=_.useState([]),[m,p]=_.useState(!0),[b,v]=_.useState(null),[x,S]=_.useState(!1),[E,N]=_.useState(!1),[A,R]=_.useState(!1),[T,D]=_.useState(Qh),[M,U]=_.useState(!1),[I,F]=_.useState(!1),Z=_.useRef(null),O=_.useRef(null),q=_.useRef(null);_.useEffect(()=>{H()},[]),_.useEffect(()=>{X(),D(Qh),F(!1),window.scrollTo({top:0,behavior:"instant"})},[u]),_.useEffect(()=>{const L=G=>{q.current&&!q.current.contains(G.target)&&R(!1)};if(A)return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[A]),_.useEffect(()=>{if(m||M||I)return;if(T>=r.length){F(!0);return}const L=new IntersectionObserver(G=>{G[0].isIntersecting&&!M&&(U(!0),setTimeout(()=>{D(ie=>{const se=ie+Qh;return se>=r.length&&F(!0),se}),U(!1)},500))},{threshold:.1,rootMargin:"100px"});return O.current=L,Z.current&&L.observe(Z.current),()=>{O.current&&O.current.disconnect()}},[r.length,T,m,M,I]);const H=async()=>{try{p(!0);const L=await Yr.getGalleryList();if(i(L||[]),n)try{const G=await St.getJoinedClubs();c(G||[])}catch(G){console.log("동호회 목록 조회 불가:",G),c([])}}catch(L){console.error("데이터 조회 실패:",L),t("데이터를 불러오는데 실패했습니다.")}finally{p(!1)}},X=async()=>{try{if(u.length===0){const L=await Yr.getGalleryList();i(L||[])}else{const L=[];for(const ie of u){const se=await Yr.getGalleryList(ie);se&&se.length>0&&L.push(...se)}const G=L.filter((ie,se,pe)=>se===pe.findIndex(he=>he.galleryId===ie.galleryId));i(G)}}catch(L){console.error("갤러리 조회 실패:",L),i([])}},V=async L=>{try{if(L.scope==="MEMBER"){if(!n){t("로그인 후 이용 가능합니다.","");return}if(!l.some(pe=>pe.clubId===L.clubId&&pe.status==="APPROVED")){t("동호회 회원만 볼 수 있습니다.");return}}const[G,ie]=await Promise.all([Yr.getGallery(L.galleryId),St.getClubDetail(L.clubId)]);v({...L,...G,clubName:ie.clubName,clubProfileImage:ie.fileLink}),S(!0)}catch(G){console.error(G),t("상세 정보를 불러오는데 실패했습니다.")}},j=()=>{X(),N(!1)},z=()=>{X(),S(!1)},K=L=>{if(L===null){h([]),R(!1);return}h(G=>G.includes(L)?G.filter(ie=>ie!==L):[...G,L])},ne=r.slice(0,T);return m?f.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})}):f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[f.jsx(sn,{isOpen:e.isOpen,onClose:s,title:e.title,message:e.message,confirmText:e.confirmText}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"갤러리"}),f.jsxs("div",{className:"flex items-center gap-3",children:[n&&l.length>0&&f.jsxs("div",{className:"relative",ref:q,children:[f.jsx("button",{onClick:()=>R(L=>!L),className:"bg-white border border-gray-300 text-gray-600 text-sm font-medium rounded-lg hover:bg-gray-50 flex items-center gap-2",children:f.jsx(tR,{className:"w-8 h-8"})}),A&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[f.jsx("button",{onClick:()=>K(null),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center justify-between ${u.length===0?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"}`,children:"전체 보기"}),f.jsx("div",{className:"h-px bg-gray-100"}),l.map(L=>f.jsxs("button",{onClick:()=>K(L.clubId),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center justify-between ${u.includes(L.clubId)?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"}`,children:[f.jsx("span",{children:L.name}),u.includes(L.clubId)&&f.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},L.clubId))]})]}),n&&l.length>0&&f.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-[#4FA3FF] text-white text-sm font-medium rounded-lg hover:bg-blue-600",children:"등록"})]})]}),f.jsx("div",{className:"grid grid-cols-3 gap-1 md:gap-2",children:ne.length===0?f.jsx("div",{className:"col-span-3 text-center py-20 text-gray-500",children:"등록된 갤러리가 없습니다."}):ne.map(L=>f.jsx("div",{onClick:()=>V(L),className:"aspect-square bg-gray-200 overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",children:L.fileLink?f.jsx("img",{src:L.fileLink,alt:L.clubName,className:"w-full h-full object-cover object-center"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})},L.galleryId))}),ne.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:Z,className:"h-10"}),f.jsxs("div",{className:"flex items-center justify-center py-6",children:[M&&f.jsx("div",{className:"text-gray-400 text-sm animate-pulse",children:"더 불러오는 중…"}),!m&&I&&r.length>Qh&&f.jsx("div",{className:"text-gray-400 text-sm",children:"더 이상 갤러리가 없습니다."})]})]}),x&&b&&f.jsx(eM,{gallery:b,onClose:()=>S(!1),onDelete:z}),E&&f.jsx(tM,{joinedClubs:l,onClose:()=>N(!1),onSuccess:j})]})}function WQ(){const{clubId:n}=cr(),[e,t]=_.useState(null),[s,r]=_.useState([]),[i,l]=_.useState(!0),[c,u]=_.useState(null),[h,m]=_.useState(null),[p,b]=_.useState(!1),[v,x]=_.useState(!1),[S,E]=_.useState(null),N=_.useRef(null);_.useEffect(()=>{A(),R()},[n]),_.useEffect(()=>{const q=H=>{N.current&&!N.current.contains(H.target)&&m(null)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const A=async()=>{try{l(!0);const q=await St.getClubDetail(n);t(q);const H=await Yr.getGalleryList(n);r(H||[])}catch(q){console.error(q),alert("동호회 정보를 불러오는데 실패했습니다.")}finally{l(!1)}},R=async()=>{try{const H=(await St.getJoinedClubs()).find(X=>String(X.clubId)===String(n));H&&u(H.role)}catch(q){console.error("역할 조회 실패:",q)}},T=c==="LEADER"||c==="MANAGER",D=async q=>{if(window.confirm("이 사진을 삭제하시겠습니까?"))try{await Yr.deleteGallery(q),alert("사진이 삭제되었습니다."),m(null),await A()}catch(H){console.error(H),alert("사진 삭제에 실패했습니다.")}},M=async()=>{b(!1),await A()},U=async q=>{try{const H=await Yr.getGallery(q.galleryId);E({...q,...H,clubName:e.clubName,clubProfileImage:e.fileLink}),x(!0)}catch(H){console.error(H)}},I=()=>{x(!1),E(null)},F=async()=>{x(!1),E(null),await A()},Z=q=>m(h===q?null:q),O=q=>!q||q.trim()===""||q==="null"?vn:q;return i?f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})}):e?f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"relative w-fit mx-auto",children:[T&&f.jsx("button",{onClick:()=>b(!0),className:"absolute top-1 -right-12 px-4 py-2 text-xs rounded-md bg-[#4FA3FF] text-white hover:bg-blue-600",children:"등록"}),f.jsxs("div",{className:"flex items-start justify-center gap-8",children:[f.jsx("div",{className:"w-36 h-36 rounded-full overflow-hidden bg-white flex-shrink-0 ring-1 ring-transparent",children:f.jsx("img",{src:O(e.fileLink),alt:e.clubName,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"pt-2 max-w-xl",children:[f.jsx("h1",{className:"text-xl font-bold text-gray-900",children:e.clubName}),f.jsx("div",{className:"flex items-center gap-6 text-sm text-gray-700 mb-3",children:f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"사진"})," ",s.length]})}),f.jsx("p",{className:"text-sm text-gray-700 leading-6 whitespace-pre-wrap",children:e.description})]})]})]})}),f.jsx("div",{className:"h-px bg-gray-200 mb-4"}),f.jsx("div",{className:"grid grid-cols-3 gap-[2px] md:gap-1",children:s.length===0?f.jsx("div",{className:"col-span-3 text-center py-20 text-gray-500",children:"등록된 사진이 없습니다."}):s.map(q=>f.jsxs("div",{className:"relative group aspect-square bg-gray-100 overflow-hidden",children:[q.fileLink?f.jsx("img",{src:q.fileLink,alt:"",onClick:()=>U(q),className:"w-full h-full object-cover cursor-pointer"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:f.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),T&&f.jsxs("div",{ref:h===q.galleryId?N:null,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>Z(q.galleryId),className:"w-7 h-7 flex items-center justify-center bg-black/40 hover:bg-black/60 rounded-full",children:f.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),h===q.galleryId&&f.jsx("div",{className:"absolute right-0 mt-1 w-24 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:f.jsx("button",{onClick:()=>D(q.galleryId),className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-gray-50",children:"삭제"})})]})]},q.galleryId))}),p&&f.jsx(tM,{joinedClubs:[{clubId:parseInt(n),name:e.clubName}],onClose:()=>b(!1),onSuccess:M,preSelectedClubId:parseInt(n)}),v&&S&&f.jsx(eM,{gallery:S,onClose:I,onDelete:F})]}):f.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:f.jsx("div",{className:"text-center text-gray-500",children:"동호회를 찾을 수 없습니다."})})}const Kh="http://localhost:8080",Jh=()=>{const n=localStorage.getItem("accessToken");return n&&n.split(".").length===3?{Authorization:`Bearer ${n}`}:{}},GQ=(n,e)=>n?.commentId?`comment-${n.commentId}`:n?.likeId?`like-${n.likeId}`:n?.postId?`post-${n.postId}`:`activity-${e}`,YQ=()=>{const n=_t(),[e,t]=_.useState([]),[s,r]=_.useState(1),[i,l]=_.useState("all"),[c,u]=_.useState(!1),[h,m]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[p,b]=_.useState({isOpen:!1,title:"",message:"",redirectTo:null}),v=10;_.useEffect(()=>{S(),r(1)},[i]);const x=()=>{const O=p.redirectTo;b({isOpen:!1,title:"",message:"",redirectTo:null}),O&&n(O)},S=async()=>{u(!0);try{const{data:O}=await Kt.get(`${Kh}/member/activities/posts`,{headers:{...Jh()},params:{type:i},withCredentials:!0}),q=(O||[]).map((H,X)=>({...H,__key:GQ(H,X)}));t(q)}catch(O){console.error("활동 목록 조회 실패:",O),O?.response?.status===401&&b({isOpen:!0,title:"로그인 필요",message:"로그인이 필요합니다.",redirectTo:"/login"})}finally{u(!1)}},E=(O,q)=>{n(`/community/posts/${q}`)},N=O=>{m({isOpen:!0,title:"게시글 삭제",message:"정말 삭제하시겠습니까?",onConfirm:async()=>{try{await Kt.delete(`${Kh}/posts/${O}`,{headers:{...Jh()},withCredentials:!0}),S(),b({isOpen:!0,title:"삭제 완료",message:"게시글이 삭제되었습니다."})}catch(q){console.error("게시글 삭제 실패:",q),b({isOpen:!0,title:"오류",message:"삭제에 실패했습니다."})}}})},A=O=>{m({isOpen:!0,title:"댓글 삭제",message:"댓글을 삭제하시겠습니까?",onConfirm:async()=>{try{await Kt.delete(`${Kh}/comments/${O}`,{headers:{...Jh()},withCredentials:!0}),S(),b({isOpen:!0,title:"삭제 완료",message:"댓글이 삭제되었습니다."})}catch(q){console.error("댓글 삭제 실패:",q),b({isOpen:!0,title:"오류",message:"댓글 삭제에 실패했습니다."})}}})},R=O=>{m({isOpen:!0,title:"좋아요 취소",message:"좋아요를 취소하시겠습니까?",onConfirm:async()=>{try{await Kt.post(`${Kh}/posts/${O}/likes`,{},{headers:{...Jh()},withCredentials:!0}),S(),b({isOpen:!0,title:"취소 완료",message:"좋아요가 취소되었습니다."})}catch(q){console.error("좋아요 취소 실패:",q),b({isOpen:!0,title:"오류",message:"좋아요 취소에 실패했습니다."})}}})},T=O=>{if(!O)return"";const q=new Date(O),H=q.getFullYear(),X=String(q.getMonth()+1).padStart(2,"0"),V=String(q.getDate()).padStart(2,"0");return`${H}.${X}.${V}`},D=Math.ceil(e.length/v)||0,M=(s-1)*v,U=e.slice(M,M+v),I=()=>f.jsx("div",{className:"divide-y divide-gray-200",children:U.map(O=>f.jsx("div",{className:"py-4 hover:bg-gray-50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{onClick:()=>E(O.clubId,O.postId),className:"text-lg font-medium mb-1 cursor-pointer hover:text-[#4CA8FF]",children:O.title}),f.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[O.clubName&&f.jsx("span",{className:"px-3 py-1 bg-[#E3F2FF] text-[#4CA8FF] rounded-full text-xs font-medium",children:O.clubName}),f.jsx("span",{children:T(O.createdAt)}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ly,{icon:"eye",value:O.viewCount??0}),f.jsx(Ly,{icon:"heart",value:O.likeCount??0}),f.jsx(Ly,{icon:"bubble",value:O.commentCount??0})]})]})]}),f.jsx("button",{onClick:()=>N(O.postId),className:"px-4 py-1.5 text-sm border border-gray-300 rounded hover:bg-gray-100 transition-colors ml-4",children:"삭제"})]})},O.__key))}),F=()=>f.jsx("div",{className:"divide-y divide-gray-200",children:U.map(O=>f.jsx("div",{className:"py-4 hover:bg-gray-50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",children:O.commentContent||O.content}),f.jsx("div",{className:"text-sm text-gray-500 mb-1",children:T(O.commentedAt||O.createdAt)}),f.jsx("button",{onClick:()=>E(O.clubId,O.postId),className:"text-sm text-gray-400 hover:text-[#4CA8FF] text-left",children:O.title})]}),f.jsx("button",{onClick:()=>A(O.commentId),className:"px-4 py-1.5 text-sm border border-gray-300 rounded hover:bg-gray-100 transition-colors ml-4",children:"삭제"})]})},O.__key))}),Z=()=>f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_160px_120px_90px_90px] px-4 py-3 text-sm text-gray-500 border-b bg-gray-50",children:[f.jsx("div",{children:"제목"}),f.jsx("div",{className:"text-center",children:"작성자"}),f.jsx("div",{className:"text-center",children:"작성일"}),f.jsx("div",{className:"text-center",children:"조회"}),f.jsx("div",{className:"text-center",children:"동작"})]}),U.map(O=>f.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_160px_120px_90px_90px] items-center px-4 py-4 border-b hover:bg-gray-50",children:[f.jsx("button",{onClick:()=>E(O.clubId,O.postId),className:"text-left hover:text-[#4CA8FF] truncate",title:O.title,children:O.title}),f.jsx("div",{className:"text-center text-gray-700",children:O.authorNickname||"-"}),f.jsx("div",{className:"text-center text-gray-600",children:T(O.createdAt)}),f.jsx("div",{className:"text-center text-gray-600",children:O.viewCount??0}),f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:()=>R(O.postId),className:"px-3 py-1.5 text-sm border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"취소"})})]},O.__key))]});return f.jsxs("div",{className:"p-8 bg-white min-h-screen",children:[f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("h1",{className:"text-3xl font-extrabold mb-6",children:"나의 활동"}),f.jsx("div",{className:"mb-6",children:f.jsxs("select",{value:i,onChange:O=>l(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-[#4CA8FF]",children:[f.jsx("option",{value:"all",children:"전체 글"}),f.jsx("option",{value:"comments",children:"댓글"}),f.jsx("option",{value:"likes",children:"좋아요한 글"})]})}),f.jsxs("div",{className:"border-t-2 border-[#4CA8FF]",children:[c?f.jsx("div",{className:"py-20 text-center text-gray-500",children:"로딩 중..."}):e.length===0?f.jsx("div",{className:"py-20 text-center text-gray-500",children:"활동 내역이 없습니다."}):i==="all"?I():i==="comments"?F():Z(),D>0&&f.jsxs("div",{className:"flex items-center justify-center gap-2 py-8",children:[f.jsx("button",{onClick:()=>r(O=>Math.max(1,O-1)),disabled:s===1,className:"p-2 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsxs("span",{className:"px-4 py-2 text-gray-700",children:[s," / ",D]}),f.jsx("button",{onClick:()=>r(O=>Math.min(D,O+1)),disabled:s===D,className:"p-2 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),f.jsx(ml,{isOpen:h.isOpen,onClose:()=>m({...h,isOpen:!1}),onConfirm:h.onConfirm,title:h.title,message:h.message,confirmText:"확인",cancelText:"취소"}),f.jsx(sn,{isOpen:p.isOpen,onClose:x,title:p.title,message:p.message})]})},Ly=({icon:n,value:e})=>{const t={eye:f.jsxs(f.Fragment,{children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),heart:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),bubble:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})};return f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t[n]}),f.jsx("span",{children:e})]})};function XQ({open:n,onClose:e,title:t,children:s,width:r=720,heightVh:i=80,showClose:l=!0,footer:c=null,closeOnBackdrop:u=!0}){return _.useEffect(()=>{if(!n)return;const h=p=>p.key==="Escape"&&e?.();document.addEventListener("keydown",h);const m=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",h),document.body.style.overflow=m}},[n,e]),n?_c.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[100]",children:[f.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>u&&e?.()}),f.jsxs("div",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2\r
                   bg-white rounded-2xl shadow-xl border border-gray-200\r
                    flex flex-col`,style:{width:r,maxWidth:"90vw",height:`${i}vh`,maxHeight:"90vh"},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[f.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-300/60",children:[f.jsx("h3",{id:"modal-title",className:"font-semibold",children:t}),l&&f.jsx("button",{onClick:e,className:"p-1 rounded-md hover:bg-gray-100","aria-label":"닫기",children:f.jsx(no,{className:"w-6 h-6 text-gray-500"})})]}),f.jsx("div",{className:"p-5 overflow-auto grow",children:s}),c&&f.jsx("div",{className:"px-5 py-3 border-t",children:c})]})]}),document.body):null}function ZQ({open:n,onClose:e,variant:t="success",message:s="신청이 완료되었습니다"}){const r=_.useRef(null),i=_.useRef(null);if(_.useEffect(()=>{if(!n)return;const h=m=>m.key==="Escape"&&e?.();return window.addEventListener("keydown",h),setTimeout(()=>i.current?.focus(),0),()=>window.removeEventListener("keydown",h)},[n,e]),!n)return null;const l=t==="success",c=l?sI:gI,u=l?"text-green-500":"text-red-500";return _c.createPortal(f.jsxs("div",{ref:r,className:"fixed inset-0 z-[100] flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:h=>h.target===r.current&&e?.(),children:[f.jsx("div",{className:"absolute inset-0 bg-black/30"}),f.jsxs("div",{className:"relative bg-white w-[400px] rounded-2xl shadow-xl p-8",children:[f.jsx("button",{className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",onClick:e,"aria-label":"닫기",children:f.jsx(no,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center text-center pt-4",children:[f.jsx(c,{className:`w-16 h-16 ${u} mb-4`}),f.jsx("p",{className:"text-lg font-medium text-gray-900",children:s})]}),f.jsx("div",{className:"mt-8 flex justify-center",children:f.jsx("button",{ref:i,className:`px-8 py-2.5 rounded-lg bg-[#4CA8FF] text-white font-medium \r
                     hover:bg-sky-600 active:bg-sky-700 transition-colors`,onClick:e,children:"확인"})})]})]}),document.body)}const ij="/assets/default-club-profile-h9-wxrb7.png";function QQ(){const{clubId:n}=cr(),[e,t]=_.useState(null),[s,r]=_.useState([]),[i,l]=_.useState([]),[c,u]=_.useState(0),[h,m]=_.useState(!0),[p,b]=_.useState(!1),[v,x]=_.useState(null),[S,E]=_.useState(!1),[N,A]=_.useState({open:!1,variant:"success",message:""}),R=async()=>{if(!(p||v==="APPROVED"||v==="WAITING"))try{b(!0),await St.requestJoin(n),x("WAITING"),A({open:!0,variant:"success",message:"신청이 완료되었습니다"})}catch(j){const z=j?.response?.data?.message||"가입 신청 중 오류가 발생했습니다.";A({open:!0,variant:"error",message:z})}finally{b(!1)}},[T,D]=_.useState(!1),[M,U]=_.useState(null),I=j=>{U(j),D(!0)},F=()=>{D(!1),U(null)};_.useEffect(()=>{(async()=>{try{const[j,z,K,ne]=await Promise.all([St.getClubDetail(n),St.getClubMemberCount(n),St.getClubMembers(n),cl.getSchedulesByClubId(n)]);t(j),u(z),l(K),r(ne);try{const L=await St.getMyMemberStatus(n);E(!0),x(L)}catch{E(!1),x(null)}}finally{m(!1)}})()},[n]);const Z=i.filter(j=>j.role==="LEADER"||j.role==="MANAGER"),O=Z.slice(0,6),q=i.slice(0,6),H=()=>!(!S||v==="APPROVED"),V=v==="WAITING"?{text:"승인대기중",disabled:!0,className:"bg-orange-400 cursor-not-allowed"}:v==="BLOCKED"?{text:"가입불가",disabled:!0,className:"bg-red-400 cursor-not-allowed"}:{text:"가입하기",disabled:!1,className:"bg-[#4CA8FF] hover:bg-sky-600 active:bg-sky-700"};return h?f.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"로딩 중…"}):e?f.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[f.jsx("div",{className:"mb-6 rounded-2xl overflow-hidden border border-blue-200 shadow-sm",children:f.jsx("img",{src:e.fileLink||ij,alt:"cover",className:"w-full h-48 object-cover"})}),f.jsxs("div",{className:"flex gap-8",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[f.jsx("img",{src:e.fileLink||ij,alt:"logo",className:"w-16 h-16 rounded-lg object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-2xl font-bold",children:e.clubName}),f.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[13px]",children:[f.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:e.categoryName||"카테고리"}),e.region&&f.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:e.region}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:["멤버 ",c]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(xI,{className:"w-5 h-5 text-yellow-500"}),f.jsx("span",{className:"font-semibold",children:"모임 소개"})]}),f.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.description||"소개가 없습니다."})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(DI,{className:"w-5 h-5 text-gray-800"}),f.jsx("span",{className:"font-semibold",children:"운영진"})]}),f.jsxs("button",{onClick:()=>I("admins"),className:`flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700 hover:bg-gray-50\r
                          rounded-md px-2 py-1 cursor-pointer transition-colors`,children:["더보기 ",f.jsx(Gy,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"grid grid-cols-6 gap-4",children:O.map(j=>f.jsxs("div",{className:"w-full rounded-xl border border-gray-200 bg-gray-50/60 p-3 flex flex-col items-center shadow-sm",children:[f.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden",children:f.jsx("img",{src:j.fileLink||vn,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"mt-2 text-[12px] truncate w-full text-center",children:j.nickname||j.name}),f.jsx("div",{className:"mt-1 text-[11px] px-1.5 py-0.5 rounded-full flex items-center gap-1 "+(j.role==="LEADER"?"bg-amber-50 text-amber-600":"bg-blue-50 text-blue-600"),title:j.role==="LEADER"?"모임장":"운영진",children:j.role==="LEADER"?f.jsxs(f.Fragment,{children:[f.jsx(CI,{className:"w-3.5 h-3.5 text-amber-500"}),"모임장"]}):f.jsxs(f.Fragment,{children:[f.jsx(NI,{className:"w-3.5 h-3.5 text-blue-500"}),"운영진"]})})]},j.memberId))})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ac,{className:"w-5 h-5 text-gray-800"}),f.jsxs("span",{className:"font-semibold",children:["모임 멤버 ",c]})]}),f.jsxs("button",{onClick:()=>I("members"),className:`flex items-center gap-1 text-sm text-gray-500  hover:text-gray-700 hover:bg-gray-50\r
                            rounded-md px-2 py-1 cursor-pointer transition-colors`,children:["더보기 ",f.jsx(Gy,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"grid grid-cols-6 gap-x-6 gap-y-6",children:q.map(j=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:f.jsx("img",{src:j.fileLink||vn,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"mt-2 text-[12px] truncate w-full text-center",children:j.nickname||j.name})]},j.memberId))})]})]}),f.jsxs("aside",{className:"w-80 shrink-0",children:[f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-4",children:[f.jsx("div",{className:"font-semibold mb-1",children:e.clubName}),f.jsx("div",{className:"text-sm text-gray-700 mb-3",children:e.categoryName}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.region&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sa,{className:"w-4 h-4"}),f.jsx("span",{children:e.region})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ac,{className:"w-4 h-4"}),f.jsxs("span",{children:["멤버 ",c,"명"]})]})]}),H()&&f.jsx("button",{onClick:R,disabled:V.disabled,className:`w-full mt-4 py-2.5 rounded-lg text-white font-medium transition-colors
                          ${V.className}`,children:V.text})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5",children:[f.jsx("div",{className:"font-semibold mb-4",children:"정보 일정"}),s.length===0?f.jsx("div",{className:"text-sm text-gray-500 py-8 text-center",children:"예정된 일정이 없습니다"}):f.jsx("div",{className:"space-y-3",children:s.map(j=>{const z=new Date(j.scheduleStartDate),K=z.getMonth()+1,ne=z.getDate(),L=String(z.getHours()).padStart(2,"0"),G=String(z.getMinutes()).padStart(2,"0");return f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl",children:[f.jsxs("div",{className:"w-12 h-12 rounded-lg bg-sky-500 text-white flex flex-col items-center justify-center shrink-0",children:[f.jsxs("span",{className:"text-[10px]",children:[K,"월"]}),f.jsx("span",{className:"text-lg leading-none font-bold",children:ne})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium text-sm truncate",children:j.title}),f.jsxs("div",{className:"mt-1 text-xs text-gray-600 space-y-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(ig,{className:"w-4 h-4"})," ",L,":",G]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(sa,{className:"w-4 h-4"})," ",j.address]}),f.jsxs("div",{className:"text-xs",children:["👥 ",j.attendeeCount||0,"/",j.maxAttendees,"명"]})]})]})]},j.scheduleId)})})]})]})]}),f.jsx(XQ,{open:T,onClose:F,title:M==="admins"?"운영진 소개":"멤버 소개",width:500,heightVh:60,children:f.jsx("div",{className:"divide-y divide-gray-100",children:(M==="admins"?Z:i).map(j=>f.jsx("div",{className:"flex items-center justify-between gap-4 py-4 px-2",children:f.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[f.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:f.jsx("img",{src:j.fileLink||vn,alt:j.nickname||j.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"font-semibold text-gray-900 truncate max-w-[160px]",children:j.nickname||j.name}),j.role==="LEADER"&&f.jsx("span",{className:"text-xs bg-amber-50 text-amber-600 px-1.5 py-0.5 rounded-md",children:"모임장"}),j.role==="MANAGER"&&f.jsx("span",{className:"text-xs bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded-md",children:"운영진"})]}),f.jsx("div",{className:"text-sm text-gray-500 truncate max-w-[400px]",children:j.description||"아직 소개가 없습니다."})]})]})},j.memberId))})}),f.jsx(ZQ,{open:N.open,onClose:()=>A(j=>({...j,open:!1})),variant:N.variant,message:N.message})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"동호회 정보를 찾을 수 없습니다."})}const KQ=()=>{const[n]=Oc(),e=_t(),t=n.get("keyword")||"",[s,r]=_.useState([]),[i,l]=_.useState(!1),[c,u]=_.useState(t);_.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{l(!0);const v=await St.searchClubs(t);r(v||[])}catch(v){console.error("검색 실패:",v),r([])}finally{l(!1)}},m=()=>{c.trim()&&e(`/clubs/search?keyword=${encodeURIComponent(c.trim())}`)},p=v=>{v.key==="Enter"&&m()},b=v=>{e(`/clubs/${v}/detail`)};return f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx("div",{className:"bg-white py-12",children:f.jsx("div",{className:"max-w-4xl mx-auto px-6",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"동호회",value:c,onChange:v=>u(v.target.value),onKeyPress:p,className:"w-full px-8 py-4 text-lg border-2 border-blue-400 rounded-full focus:outline-none focus:border-blue-500"}),f.jsx("button",{onClick:m,className:"absolute right-6 top-1/2 transform -translate-y-1/2",children:f.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}),f.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:i?f.jsx("div",{className:"text-center py-20 text-gray-500",children:"검색 중..."}):s.length===0?f.jsx("div",{className:"text-center py-20 text-gray-500",children:"검색 결과가 없습니다."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsxs("h2",{className:"text-xl font-bold",children:['"',t,'" 검색 결과']})]}),f.jsx("div",{className:"space-y-6",children:s.map(v=>f.jsxs("div",{onClick:()=>b(v.clubId),className:"bg-white rounded-lg p-6 cursor-pointer hover:shadow-md transition flex gap-6",children:[f.jsx("div",{className:"w-48 h-32 bg-gray-300 rounded flex-shrink-0",children:v.fileLink?f.jsx("img",{src:v.fileLink,alt:v.clubName,className:"w-full h-full object-cover rounded"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"이미지 없음"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-bold mb-2",children:v.clubName}),f.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v.description||"동호회소개 동호회소개 동호회소개"}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx("span",{children:v.categoryName}),f.jsx("span",{children:"•"}),f.jsx("span",{children:v.region}),f.jsx("span",{children:"•"}),f.jsxs("span",{children:["멤버 ",v.maxMembers]})]})]})]},v.clubId))})]})})]})},JQ=()=>{const[n]=Oc(),e=_t(),t=n.get("type"),s=n.get("categoryId"),[r,i]=_.useState([]),[l,c]=_.useState(!1),[u,h]=_.useState(!0),[m,p]=_.useState(null),[b,v]=_.useState(""),x=_.useRef(),S=_.useCallback(R=>{l||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver(T=>{T[0].isIntersecting&&u&&N()}),R&&x.current.observe(R))},[l,u]);_.useEffect(()=>{i([]),p(null),h(!0),E()},[t,s]);const E=async()=>{try{if(t==="category"&&s){const T=(await Ic.getCategoriesHierarchy()).flatMap(D=>[D,...D.children||[]]).find(D=>D.categoryId===parseInt(s));T&&v(T.name)}else t==="recent"&&v("최근 생성 동호회");N(!0)}catch(R){console.error("초기 데이터 로드 실패:",R)}},N=async(R=!1)=>{if(!l){c(!0);try{let T;t==="recent"?T=await St.getRecentClubsAll(12,R?null:m):t==="category"&&s&&(T=await St.getClubsByCategoryAll(parseInt(s),12,R?null:m)),T&&T.length>0?(i(D=>R?T:[...D,...T]),p(T[T.length-1].clubId),T.length<12&&h(!1)):h(!1)}catch(T){console.error("동호회 목록 로드 실패:",T),h(!1)}finally{c(!1)}}},A=R=>{e(`/clubs/${R}/detail`)};return f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:b}),r.length===0&&!l?f.jsx("div",{className:"text-center py-12 text-gray-500",children:"동호회가 없습니다."}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-3 gap-8",children:r.map((R,T)=>{const D=T===r.length-1;return f.jsxs("div",{ref:D?S:null,onClick:()=>A(R.clubId),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow cursor-pointer",children:[f.jsx("div",{className:"w-full h-48 bg-gray-300 flex items-center justify-center",children:R.fileLink?f.jsx("img",{src:R.fileLink,alt:R.clubName,className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-gray-500",children:"이미지"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-xl mb-3 text-gray-900",children:R.clubName}),f.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed line-clamp-2",children:R.description||"동호회 소개가 없습니다."}),f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[f.jsx("span",{children:R.categoryName}),f.jsxs("span",{children:["멤버 ",R.memberCount,"명"]})]})]})]},R.clubId)})}),l&&f.jsx("div",{className:"text-center py-8 text-gray-500",children:"로딩 중..."})]})]})},eK=eL([{path:"/",element:f.jsx(hi,{children:f.jsx(v6,{})})},{path:"/login",element:f.jsx(Ha,{children:f.jsx(w6,{})})},{path:"/signup",element:f.jsx(Ha,{children:f.jsx(E6,{})})},{path:"/signup/step2",element:f.jsx(Ha,{children:f.jsx(S6,{})})},{path:"/signup/step3",element:f.jsx(Ha,{children:f.jsx(_6,{})})},{path:"/signup/complete",element:f.jsx(Ha,{children:f.jsx(N6,{})})},{path:"/find-id",element:f.jsx(Ha,{children:f.jsx(A6,{})})},{path:"/find-password",element:f.jsx(Ha,{children:f.jsx(C6,{})})},{path:"/auth/verify-email",element:f.jsx(j6,{})},{path:"/reset-password",element:f.jsx(Ha,{children:f.jsx(T6,{})})},{path:"/clubs/search",element:f.jsx(hi,{children:f.jsx(KQ,{})})},{path:"/clubs/list",element:f.jsx(hi,{children:f.jsx(JQ,{})})},{path:"/clubs/:clubId/dashboard",element:f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx(dV,{})})},{path:"/clubs/:clubId/schedule",element:f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx(AQ,{})})},{path:"/clubs/:clubId/members",element:f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx(kQ,{})})},{path:"clubs/:clubId/manage",element:f.jsx(as,{sidebar:f.jsx(Xr,{}),children:f.jsx(PQ,{})})},{path:"/community",element:f.jsx(hi,{children:f.jsx(k6,{})})},{path:"/community/:tab",element:f.jsx(hi,{children:f.jsx(i8,{})})},{path:"/community/posts/:postId",element:f.jsx(hi,{children:f.jsx(a8,{})})},{path:"community/write",element:f.jsx(hi,{children:f.jsx(cz,{})})},{path:"/gallery",element:f.jsx(hi,{children:f.jsx(VQ,{})})},{path:"/notice",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx(rj,{})})},{path:"/mypage/profile",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx(HQ,{})})},{path:"/mypage/profile/edit",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx(qQ,{})})},{path:"/mypage/activities",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx(YQ,{})})},{path:"/mypage/password",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx(FQ,{})})},{path:"/mypage/withdrawal",element:f.jsx(as,{sidebar:f.jsx(ic,{}),children:f.jsx($Q,{})})},{path:"/clubs/:clubId/detail",element:f.jsx(hi,{children:f.jsx(QQ,{})})},{path:"/clubs/:clubId",element:f.jsx(hi,{children:f.jsx(WQ,{})})},{path:"/clubs/:clubId/notice",element:f.jsx(rj,{})},{path:"/clubs/:clubId/notice/:noticeId",element:f.jsx(LQ,{})},{path:"/clubs/:clubId/notice/write",element:f.jsx(IQ,{})},{path:"/clubs/:clubId/notice/edit/:postId",element:f.jsx(BQ,{})}]);n5.createRoot(document.getElementById("root")).render(f.jsx(_.StrictMode,{children:f.jsx(fL,{router:eK})}))});export default tK();
